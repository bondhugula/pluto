cscope 15 $HOME/Software/LIBPLUTO_dev/pluto/src               0000574372
	@ast_transform.c

22 
	~<¡dlib.h
>

23 
	~<¡dio.h
>

25 
	~"¶uto.h
"

26 
	~"´og¿m.h
"

27 
	~"a¡_ŒªsfÜm.h
"

29 
	~"şoog/şoog.h
"

33 
	$¶uto_m¬k_·¿Î–
(
şa¡_¡mt
 *
roÙ
, cÚ¡ 
PlutoProg
 *
´og
,

34 
CloogO±iÚs
 *
şoogO±iÚs
)

36 
i
, 
j
, 
Æoİs
, 
n¡mts
, 
Åloİs
;

37 
şa¡_fÜ
 **
loİs
;

38 *
¡mts
;

39 
	`as£¹
(
roÙ
 !ğ
NULL
);

43 
Ploİ
 **
¶oİs
 = 
	`¶uto_g‘_dom_·¿Î–_loİs
(
´og
, &
Åloİs
);

47 
	`IF_DEBUG
(
	`´štf
("[pluto_mark_parallel]…arallel†oops\n"););

48 
	`IF_DEBUG
(
	`¶uto_loİs_´št
(
¶oİs
, 
Åloİs
););

52 
i
=0; i<
Åloİs
; i++) {

53 
™”
[5];

54 
	`¥rštf
(
™”
, "t%d", 
¶oİs
[
i
]->
d•th
+1);

55 *
¡mtids
 = 
	`m®loc
(
¶oİs
[
i
]->
n¡mts
*());

56 
max_d•th
 = 0;

57 
j
=0; j<
¶oİs
[
i
]->
n¡mts
; j++) {

58 
Stmt
 *
¡mt
 = 
¶oİs
[
i
]->
¡mts
[
j
];

59 ià(
¡mt
->
Œªs
->
Äows
 > 
max_d•th
) max_depth = stmt->trans->nrows;

60 
¡mtids
[
j
] = 
¡mt
->
id
+1;

63 
	`IF_DEBUG
(
	`´štf
("\tLooking for†oop\n"););

64 
	`IF_DEBUG
(
	`¶uto_loİ_´št
(
¶oİs
[
i
]););

67 
CÏ¡F‹r
 
f‹r
 = {
™”
, 
¡mtids
, 
¶oİs
[
i
]->
n¡mts
, 
sub£t
};

68 
	`şa¡_f‹r
(
roÙ
, 
f‹r
, &
loİs
, &
Æoİs
, &
¡mts
, &
n¡mts
);

71 ià(
Æoİs
==0) {

75 
	`´štf
("Warning:…arallel…oly†oop‚ot found in AST\n");

78 
j
=0; j<
Æoİs
; j++) {

79 
loİs
[
j
]->
·¿Î–
 = 
CLAST_PARALLEL_NOT
;

80 *
´iv©e_v¬s
 = 
	`m®loc
(128);

81 
	`¡rıy
(
´iv©e_v¬s
, "lbv,ubv");

82 ià(
İtiÚs
->
·¿Î–
) {

83 
	`IF_DEBUG
(
	`´štf
("M¬kšg % ·¿Î–\n", 
loİs
[
j
]->
™”©Ü
););

84 
loİs
[
j
]->
·¿Î–
 = 
CLAST_PARALLEL_OMP
;

85 
d•th
 = 
¶oİs
[
i
]->depth+1;

86 
d•th
++;d•th<=
max_d•th
;depth++) {

87 
	`¥rštf
(
´iv©e_v¬s
+
	`¡¾’
Õriv©e_v¬s), ",t%d", 
d•th
);

90 
loİs
[
j
]->
´iv©e_v¬s
 = 
	`¡rdup
(private_vars);

91 
	`ä“
(
´iv©e_v¬s
);

94 
	`ä“
(
¡mtids
);

95 
	`ä“
(
loİs
);

96 
	`ä“
(
¡mts
);

99 
	`¶uto_loİs_ä“
(
¶oİs
, 
Åloİs
);

100 
	}
}

105 
	$¶uto_m¬k_veùÜ
(
şa¡_¡mt
 *
roÙ
, cÚ¡ 
PlutoProg
 *
´og
,

106 
CloogO±iÚs
 *
şoogO±iÚs
)

108 
i
, 
j
, 
Æoİs
, 
n¡mts
, 
Åloİs
;

109 
şa¡_fÜ
 **
loİs
;

110 *
¡mts
;

111 
	`as£¹
(
roÙ
 !ğ
NULL
);

113 
Ploİ
 **
¶oİs
 = 
	`¶uto_g‘_·¿Î–_loİs
(
´og
, &
Åloİs
);

115 
	`IF_DEBUG
(
	`´štf
("[pluto_mark_vector]…arallel†oops\n"););

116 
	`IF_DEBUG
(
	`¶uto_loİs_´št
(
¶oİs
, 
Åloİs
););

121 
i
=0; i<
Åloİs
; i++) {

123 ià(!
	`¶uto_loİ_is_šÃrmo¡
(
¶oİs
[
i
], 
´og
)) ;

125 
	`IF_DEBUG
(
	`´štf
("[pluto_mark_vector] marking†oop vectorizable\n"););

126 
	`IF_DEBUG
(
	`¶uto_loİ_´št
(
¶oİs
[
i
]););

127 
™”
[5];

128 
	`¥rštf
(
™”
, "t%d", 
¶oİs
[
i
]->
d•th
+1);

129 *
¡mtids
 = 
	`m®loc
(
¶oİs
[
i
]->
n¡mts
*());

130 
j
=0; j<
¶oİs
[
i
]->
n¡mts
; j++) {

131 
¡mtids
[
j
] = 
¶oİs
[
i
]->
¡mts
[j]->
id
+1;

139 
CÏ¡F‹r
 
f‹r
 = {
™”
, 
¡mtids
, 
¶oİs
[
i
]->
n¡mts
, 
sub£t
};

140 
	`şa¡_f‹r
(
roÙ
, 
f‹r
, &
loİs
, &
Æoİs
, &
¡mts
, &
n¡mts
);

143 ià(
Æoİs
==0) {

147 
	`´štf
("[pluto]…luto_mark_vector: WARNING: vectorizable…oly†oop‚ot found in AST\n");

150 
j
=0; j<
Æoİs
; j++) {

152 
loİs
[
j
]->
·¿Î–
 +ğ
CLAST_PARALLEL_VEC
;

154 
	`ä“
(
¡mtids
);

155 
	`ä“
(
loİs
);

156 
	`ä“
(
¡mts
);

159 
	`¶uto_loİs_ä“
(
¶oİs
, 
Åloİs
);

160 
	}
}

	@ast_transform.h

1 
	~"¶uto.h
"

2 
	~"şoog/şoog.h
"

4 
¶uto_m¬k_·¿Î–
(
şa¡_¡mt
 *
roÙ
, cÚ¡ 
PlutoProg
 *
´og
, 
CloogO±iÚs
 *
İtiÚs
);

5 
¶uto_m¬k_veùÜ
(
şa¡_¡mt
 *
roÙ
, cÚ¡ 
PlutoProg
 *
´og
, 
CloogO±iÚs
 *
İtiÚs
);

	@constraints.c

22 
	~<¡dio.h
>

23 
	~<¡dlib.h
>

24 
	~<m©h.h
>

25 
	~<as£¹.h
>

26 
	~<¡ršg.h
>

27 
	~<uni¡d.h
>

28 
	~<sys/time.h
>

29 
	~<lim™s.h
>

31 
	~"m©h_suµÜt.h
"

32 
	~"cÚ¡¿šts.h
"

33 
	~"¶uto.h
"

35 
	~"plib/plib64.h
"

37 
	#UB
 0

	)

38 
	#LB
 1

	)

39 
	#NB
 2

	)

41 
PM©rix
 *
p_m©rix_pİuÏ‹
(
št64
 **
c¡
, 
Äows
, 
ncŞs
);

52 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_®loc
(
max_rows
, 
max_cŞs
)

54 
PlutoCÚ¡¿šts
 *
c¡
;

56 
c¡
 = (
PlutoCÚ¡¿šts
 *)
	`m®loc
((PlutoConstraints));

58 
size_t
 
size
 = ((size_tè
	`PLMAX
(1,
max_rows
))*PLMAX(1,
max_cŞs
)*(
št64
);

60 
c¡
->
buf
 = (
št64
 *è
	`m®loc
(
size
);

62 ià(
c¡
->
buf
 =ğ
NULL
) {

63 
	`årštf
(
¡d”r
, "[pluto] ERROR: Notƒnough memoryo‡llocate constraints\n");

64 
	`årštf
(
¡d”r
, "[¶uto] %zd by‹ Ãeded\n", 
size
);

65 
	`ex™
(1);

68 
	`bz”o
(
c¡
->
buf
, 
size
);

70 
c¡
->
is_eq
 = 
	`m®loc
(
max_rows
*());

71 
	`bz”o
(
c¡
->
is_eq
, 
max_rows
*());

73 
c¡
->
v®
 = (
št64
 **)
	`m®loc
(
max_rows
*(int64 *));

75 
i
;

76 
i
=0; i<
max_rows
; i++) {

77 
c¡
->
v®
[
i
] = &c¡->
buf
[i*
max_cŞs
];

80 
c¡
->
®loc_Äows
 = 
max_rows
;

81 
c¡
->
®loc_ncŞs
 = 
max_cŞs
;

82 
c¡
->
Çmes
 = 
NULL
;

83 
c¡
->
Ãxt
 = 
NULL
;

85 
c¡
->
Äows
 = 0;

86 
c¡
->
ncŞs
 = 
max_cŞs
;

88  
c¡
;

89 
	}
}

93 
	$¶uto_cÚ¡¿šts_z”o
(
PlutoCÚ¡¿šts
 *
c¡
)

95 
	`bz”o
(
c¡
->
buf
, c¡->
®loc_ncŞs
*c¡->
®loc_Äows
*(
št64
));

96 
	`bz”o
(
c¡
->
is_eq
, c¡->
®loc_Äows
*());

97 
	}
}

100 
	$¶uto_cÚ¡¿šts_ä“
(
PlutoCÚ¡¿šts
 *
c¡
)

102 
i
;

104 ià(
c¡
 =ğ
NULL
) ;

106 
	`ä“
(
c¡
->
buf
);

107 
	`ä“
(
c¡
->
v®
);

108 
	`ä“
(
c¡
->
is_eq
);

109 ià(
c¡
->
Çmes
) {

110 
i
=0; i<
c¡
->
ncŞs
-1; i++) {

111 
	`ä“
(
c¡
->
Çmes
[
i
]);

113 
	`ä“
(
c¡
->
Çmes
);

116 ià(
c¡
->
Ãxt
 !ğ
NULL
è
	`¶uto_cÚ¡¿šts_ä“
(cst->next);

118 
	`ä“
(
c¡
);

119 
	}
}

123 
	$¶uto_cÚ¡¿šts_»size
(
PlutoCÚ¡¿šts
 *
c¡
, 
Äows
, 
ncŞs
)

125 
	`¶uto_cÚ¡¿šts_»size_sšgË
(
c¡
, 
Äows
, 
ncŞs
);

127 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

128 
	`¶uto_cÚ¡¿šts_»size
(
c¡
->
Ãxt
, 
Äows
, 
ncŞs
);

130 
	}
}

138 
	$¶uto_cÚ¡¿šts_»size_sšgË
(
PlutoCÚ¡¿šts
 *
c¡
, 
Äows
, 
ncŞs
)

140 
i
, 
j
;

141 
PlutoCÚ¡¿šts
 *
ÃwC¡
;

143 
	`as£¹
(
Äows
 >ğ0 && 
ncŞs
 >= 0);

145 
ÃwC¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
	`PLMAX
(
Äows
,
c¡
->
®loc_Äows
),

146 
	`PLMAX
(
ncŞs
,
c¡
->
®loc_ncŞs
));

148 
ÃwC¡
->
Äows
 =‚rows;

149 
ÃwC¡
->
ncŞs
 =‚cols;

151 
i
=0; i<
	`PLMIN
(
ÃwC¡
->
Äows
, 
c¡
->nrows); i++) {

152 
j
=0; j<
	`PLMIN
(
ÃwC¡
->
ncŞs
, 
c¡
->ncols); j++) {

153 
ÃwC¡
->
v®
[
i
][
j
]ğ
c¡
->val[i][j];

155 
ÃwC¡
->
is_eq
[
i
] = 
c¡
->is_eq[i];

158 
	`ä“
(
c¡
->
v®
);

159 
	`ä“
(
c¡
->
buf
);

160 
	`ä“
(
c¡
->
is_eq
);

162 ià(
c¡
->
Çmes
) {

163 
i
=
ncŞs
-1; i<
c¡
->ncols-1; i++) {

164 
	`ä“
(
c¡
->
Çmes
[
i
]);

168 ià(
c¡
->
Çmes
) {

169 
c¡
->
Çmes
 = 
	`»®loc
(c¡->Çmes, (
ncŞs
-1)*(*));

170 
i
=
c¡
->
ncŞs
-1; i<ncols-1; i++) {

171 
c¡
->
Çmes
[
i
] = 
NULL
;

175 
c¡
->
Äows
 =‚rows;

176 
c¡
->
ncŞs
 =‚cols;

177 
c¡
->
®loc_Äows
 = 
ÃwC¡
->alloc_nrows;

178 
c¡
->
®loc_ncŞs
 = 
ÃwC¡
->alloc_ncols;

180 
c¡
->
v®
 = 
ÃwC¡
->val;

181 
c¡
->
buf
 = 
ÃwC¡
->buf;

182 
c¡
->
is_eq
 = 
ÃwC¡
->is_eq;

184 
	`ä“
(
ÃwC¡
);

185 
	}
}

228 
PlutoCÚ¡¿šts
 *
	$çrkas_Ëmma_affše
(cÚ¡ 
PlutoCÚ¡¿šts
 *
dom
, cÚ¡ 
PlutoM©rix
 *
phi
)

230 
i
, 
j
;

233 
	`as£¹
(
dom
->
Ãxt
 =ğ
NULL
);

235 
	`as£¹
(
phi
->
Äows
 =ğ
dom
->
ncŞs
);

237 
	`IF_MORE_DEBUG
(
	`´štf
("[farkas_lemma_affine]\n"););

240 
PlutoCÚ¡¿šts
 *
idom
 = 
	`¶uto_cÚ¡¿šts_to_pu»_šequ®™›s_sšgË
(
dom
);

251 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
idom
);

252 
idom
->
v®
[idom->
Äows
-1][idom->
ncŞs
-1] = 1;

265 
PlutoCÚ¡¿šts
 *
çrkas
 = 
	`¶uto_cÚ¡¿šts_®loc
(

266 
idom
->
ncŞs
+idom->
Äows
, 
phi
->ncols+idom->nrows);

267 
çrkas
->
Äows
 = 
idom
->
ncŞs
+idom->nrows;

269 
çrkas_off£t
 = 
phi
->
ncŞs
-1;

272 
i
=0; i<
idom
->
ncŞs
; i++) {

273 
çrkas
->
is_eq
[
i
] = 1;

274 
j
=0; j<
phi
->
ncŞs
-1; j++) {

275 
çrkas
->
v®
[
i
][
j
] = 
phi
->val[i][j];

277 
j
=0; j<
idom
->
Äows
; j++) {

278 
çrkas
->
v®
[
i
][
çrkas_off£t
+
j
] = -
idom
->val[j][i];

280 
çrkas
->
v®
[
i
][
çrkas_off£t
 + 
idom
->
Äows
] = 
phi
->v®[i][phi->
ncŞs
-1];

284 
j
=0; j<
idom
->
Äows
; j++) {

285 
çrkas
->
is_eq
[
idom
->
ncŞs
+
j
] = 0;

286 
çrkas
->
v®
[
idom
->
ncŞs
+
j
][
çrkas_off£t
 + j] = 1;

289 
i
=0; i<
idom
->
Äows
; i++) {

290 
be¡_–im
 = 
	`¶uto_cÚ¡¿šts_be¡_–im_ÿndid©e
(
çrkas
, 
idom
->
Äows
-
i
);

291 
	`IF_MORE_DEBUG
(
	`´štf
("[çrkas_Ëmma_affše]ƒlimš©šg muÉl›¸%d (c_%cèäom %d cÚ¡¿šts\n", 
i
, 'i'+
be¡_–im
, 
çrkas
->
Äows
));

292 
	`four›r_mÙzkš_–imš©e_sm¬t
(
çrkas
, 
be¡_–im
);

297 
	`as£¹
(
çrkas
->
ncŞs
 =ğ
phi
->ncols);

302 
	`¶uto_cÚ¡¿šts_ä“
(
idom
);

304  
çrkas
;

305 
	}
}

312 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_add
(
PlutoCÚ¡¿šts
 *
c¡1
, cÚ¡ PlutoCÚ¡¿št *
c¡2
)

314 
	`as£¹
(
c¡2
 !ğ
NULL
);

315 
	`as£¹
(
c¡1
->
ncŞs
 =ğ
c¡2
->ncols);

316 
	`as£¹
(
c¡1
->
Ãxt
 =ğ
NULL
);

317 
	`as£¹
(
c¡2
->
Ãxt
 =ğ
NULL
);

319 ià(
c¡1
->
Äows
+
c¡2
->Äow > c¡1->
®loc_Äows
) {

320 
	`¶uto_cÚ¡¿šts_»size
(
c¡1
, c¡1->
Äows
+
c¡2
->Äows, c¡1->
ncŞs
);

322 
c¡1
->
Äows
 = c¡1->Äow + 
c¡2
->nrows;

325 
i
;

326 
i
=0; i < 
c¡2
->
Äows
; i++) {

327 
	`memıy
(
c¡1
->
v®
[c¡1->
Äows
-
c¡2
->Äows+
i
],

328 
c¡2
->
v®
[
i
], 
c¡1
->
ncŞs
*(
št64
));

331 
	`memıy
(&
c¡1
->
is_eq
[c¡1->
Äows
-
c¡2
->nrows], cst2->is_eq, cst2->nrows*());

333  
c¡1
;

334 
	}
}

338 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_add_to_—ch
(
PlutoCÚ¡¿šts
 *
c¡1
,

339 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

341 
i
;

343 
	`as£¹
(
c¡2
->
Ãxt
 =ğ
NULL
);

344 
	`as£¹
(
c¡1
->
ncŞs
 =ğ
c¡2
->ncols);

346 ià(
c¡1
->
Äows
+
c¡2
->Äow > c¡1->
®loc_Äows
) {

347 
	`¶uto_cÚ¡¿šts_»size
(
c¡1
, c¡1->
Äows
+
c¡2
->Äows, c¡1->
ncŞs
);

349 
c¡1
->
Äows
 = c¡1->Äow + 
c¡2
->nrows;

352 
i
=0; i < 
c¡2
->
Äows
; i++) {

353 
	`memıy
(
c¡1
->
v®
[c¡1->
Äows
-
c¡2
->Äows+
i
],

354 
c¡2
->
v®
[
i
], 
c¡1
->
ncŞs
*(
št64
));

357 
	`memıy
(&
c¡1
->
is_eq
[c¡1->
Äows
-
c¡2
->nrows], cst2->is_eq, cst2->nrows*());

359 ià(
c¡1
->
Ãxt
 !ğ
NULL
) {

360 
	`¶uto_cÚ¡¿šts_add_to_—ch
(
c¡1
->
Ãxt
, 
c¡2
);

362  
c¡1
;

363 
	}
}

366 
	srow_šfo
 {

367 
št64
 *
	mrow
;

368 
	mis_eq
;

369 
	mncŞs
;

372 
	$row_com·r
(cÚ¡ *
e1
, cÚ¡ *
e2
)

374 
i
, 
ncŞs
;

375 
št64
 *
row1
, *
row2
;

376 
row_šfo
 *
u1
, *
u2
;

378 
u1
 = *(
row_šfo
 **)
e1
;

379 
u2
 = *(
row_šfo
 **)
e2
;

380 
row1
 = 
u1
->
row
;

381 
row2
 = 
u2
->
row
;

382 
ncŞs
 = 
u1
->ncols;

383 
	`as£¹
(
ncŞs
 =ğ
u2
->ncols);

385 
i
=0; i<
ncŞs
; i++) {

386 ià(
row1
[
i
] !ğ
row2
[i]) ;

389 ià(
i
==
ncŞs
) {

392  
u2
->
is_eq
 - 
u1
->is_eq;

393 }ià(
row1
[
i
] < 
row2
[i]) {

401 
	}
}

409 
	$¶uto_cÚ¡¿šts_sim¶ify
(
PlutoCÚ¡¿šts
 *cÚ¡ 
c¡
)

411 
i
, 
j
, 
p
;

412 
št64
 
_gcd
;

414 ià(
c¡
->
Äows
 == 0) {

418 
PlutoCÚ¡¿šts
 *
tmpc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
c¡
->
Äows
, c¡->
ncŞs
);

419 
tmpc¡
->
Äows
 = 0;

421 *
is_»dun
 = (*è
	`m®loc
(()*
c¡
->
Äows
);

422 
	`bz”o
(
is_»dun
, 
c¡
->
Äows
*());

425 
i
=0; i<
c¡
->
Äows
; i++) {

426 
j
=0; j<
c¡
->
ncŞs
; j++) {

427 ià(
c¡
->
v®
[
i
][
j
] != 0) ;

430 ià(
j
<
c¡
->
ncŞs
) {

431 
_gcd
 = 
	`PLABS
(
c¡
->
v®
[
i
][
j
]);

432 ; 
j
<
c¡
->
ncŞs
; j++) {

433 
_gcd
 = 
	`gcd
(
	`PLABS
(
c¡
->
v®
[
i
][
j
]), _gcd);

437 
j
=0; j< 
c¡
->
ncŞs
; j++) {

438 
c¡
->
v®
[
i
][
j
] /ğ
_gcd
;

443 
row_šfo
 **
rows
;

444 
rows
 = (
row_šfo
 **è
	`m®loc
(
c¡
->
Äows
*(row_info *));

445 
i
=0; i<
c¡
->
Äows
; i++) {

446 
rows
[
i
] = (
row_šfo
 *è
	`m®loc
((row_info));

447 
rows
[
i
]->
row
 = 
c¡
->
v®
[i];

448 
rows
[
i
]->
is_eq
 = 
c¡
->is_eq[i];

449 
rows
[
i
]->
ncŞs
 = 
c¡
->ncols;

451 
	`qsÜt
(
rows
, 
c¡
->
Äows
, (
row_šfo
 *), 
row_com·r
);

453 
i
=0; i<
c¡
->
Äows
; i++) {

454 
c¡
->
v®
[
i
] = 
rows
[i]->
row
;

455 
c¡
->
is_eq
[
i
] = 
rows
[i]->is_eq;

456 
	`ä“
(
rows
[
i
]);

458 
	`ä“
(
rows
);

460 
is_»dun
[0] = 0;

461 
i
=1; i<
c¡
->
Äows
; i++) {

462 
j
=0; j<
c¡
->
ncŞs
; j++) {

463 ià(
c¡
->
v®
[
i
][
j
] != 0) ;

466 ià(
j
==
c¡
->
ncŞs
) {

468 
is_»dun
[
i
] = 1;

472 
j
=0; j<
c¡
->
ncŞs
; j++) {

473 ià(
c¡
->
v®
[
i
-1][
j
] != cst->val[i][j]) ;

476 ià(
j
==
c¡
->
ncŞs
 && c¡->
is_eq
[
i
-1] == cst->is_eq[i]) {

478 
is_»dun
[
i
] = 1;

479 }
is_»dun
[
i
] = 0;

482 
p
 = 0;

483 
i
=0; i<
c¡
->
Äows
; i++) {

484 ià(!
is_»dun
[
i
]) {

490 
	`memıy
(
tmpc¡
->
v®
[
p
], 
c¡
->v®[
i
], c¡->
ncŞs
*(
št64
));

491 
tmpc¡
->
is_eq
[
p
] = 
c¡
->is_eq[
i
];

492 
p
++;

495 
tmpc¡
->
Äows
 = 
p
;

496 
tmpc¡
->
ncŞs
 = 
c¡
->ncols;

498 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
c¡
, 
tmpc¡
);

499 
	`¶uto_cÚ¡¿šts_ä“
(
tmpc¡
);

501 
	`ä“
(
is_»dun
);

503 ià(
c¡
->
Ãxt
 !ğ
NULL
è
	`¶uto_cÚ¡¿šts_sim¶ify
(cst->next);

504 
	}
}

513 
	$four›r_mÙzkš_–imš©e
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

515 
i
, 
j
, 
k
, 
l
, 
p
, 
q
;

516 
št64
 
lb
, 
ub
, 
nb
;

517 *
bound
;

520 
	`as£¹
(
c¡
->
ncŞs
 >= 2);

521 
	`as£¹
(
pos
 >= 0);

522 
	`as£¹
(
pos
 <ğ
c¡
->
ncŞs
-2);

524 
i
=0; i<
c¡
->
Äows
; i++) {

525 ià(
c¡
->
is_eq
[
i
]) {

526 
PlutoCÚ¡¿šts
 *
tmpc¡
 = 
	`¶uto_cÚ¡¿šts_to_pu»_šequ®™›s_sšgË
(
c¡
);

527 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
c¡
, 
tmpc¡
);

528 
	`¶uto_cÚ¡¿šts_ä“
(
tmpc¡
);

533 
PlutoCÚ¡¿šts
 *
Ãwc¡
;

537 
i
=0; i<
c¡
->
Äows
; i++) {

538 ià(
c¡
->
v®
[
i
][
pos
] != 0) ;

541 ià(
i
==
c¡
->
Äows
) {

542 
Ãwc¡
 = 
	`¶uto_cÚ¡¿šts_dup_sšgË
(
c¡
);

543 
	`¶uto_cÚ¡¿šts_»move_dim
(
Ãwc¡
, 
pos
);

545 
bound
 = (*è
	`m®loc
(
c¡
->
Äows
*());

547 
lb
=0;

548 
ub
=0;

549 
nb
=0;

551 
j
=0; j<
c¡
->
Äows
; j++) {

552 ià(
c¡
->
v®
[
j
][
pos
] == 0) {

553 
bound
[
j
] = 
NB
;

554 
nb
++;

555 }ià(
c¡
->
v®
[
j
][
pos
] > 0) {

556 
bound
[
j
] = 
LB
;

557 
lb
++;

559 
bound
[
j
] = 
UB
;

560 
ub
++;

563 
Ãwc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
lb
*
ub
+
nb
, 
c¡
->
ncŞs
);

564 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
Ãwc¡
, 
c¡
);

565 
	`¶uto_cÚ¡¿šts_»move_dim
(
Ãwc¡
, 
pos
);

566 
	`¶uto_cÚ¡¿šts_z”o
(
Ãwc¡
);

567 
Ãwc¡
->
Äows
 = 0;

569 
p
=0;

570 
j
=0; j<
c¡
->
Äows
; j++) {

571 ià(
bound
[
j
] =ğ
UB
) {

572 
k
=0; k<
c¡
->
Äows
; k++) {

573 ià(
bound
[
k
] =ğ
LB
) {

574 
q
 = 0;

575 
l
=0;† < 
c¡
->
ncŞs
;†++) {

576 ià(
l
!=
pos
) {

577 
Ãwc¡
->
v®
[
p
][
q
] =

578 
c¡
->
v®
[
j
][
l
]*(
	`lcm
(c¡->v®[
k
][
pos
],

579 -
c¡
->
v®
[
j
][
pos
])/(-cst->val[j][pos]))

580 + 
c¡
->
v®
[
k
][
l
]*(
	`lcm
(-c¡->v®[
j
][
pos
],

581 
c¡
->
v®
[
k
][
pos
])/cst->val[k][pos]);

582 
q
++;

585 
p
++;

588 }ià(
bound
[
j
] =ğ
NB
) {

589 
q
 = 0;

590 
l
=0;†<
c¡
->
ncŞs
;†++) {

591 ià(
l
!=
pos
) {

592 
Ãwc¡
->
v®
[
p
][
q
] = 
c¡
->v®[
j
][
l
];

593 
q
++;

596 
p
++;

599 
	`as£¹
(
p
 <ğ
lb
*
ub
 + 
nb
);

600 
Ãwc¡
->
Äows
 = 
p
;

601 
	`ä“
(
bound
);

604 
	`¶uto_cÚ¡¿šts_sim¶ify
(
Ãwc¡
);

605 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
c¡
, 
Ãwc¡
);

606 
	`¶uto_cÚ¡¿šts_ä“
(
Ãwc¡
);

608 ià(
c¡
->
Ãxt
 !ğ
NULL
è
	`four›r_mÙzkš_–imš©e
(c¡->Ãxt,
pos
);

609 
	}
}

614 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_cİy
(
PlutoCÚ¡¿šts
 *
de¡
, cÚ¡ PlutoCÚ¡¿št *
¤c
)

616 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
de¡
, 
¤c
);

618 ià(
¤c
->
Ãxt
 !ğ
NULL
 && 
de¡
->next != NULL) {

619 
	`¶uto_cÚ¡¿šts_cİy
(
de¡
->
Ãxt
, 
¤c
->next);

621 ià(
¤c
->
Ãxt
 =ğ
NULL
 && 
de¡
->next != NULL) {

622 
	`¶uto_cÚ¡¿šts_ä“
(
de¡
->
Ãxt
);

623 
de¡
->
Ãxt
 = 
NULL
;

625 ià(
¤c
->
Ãxt
 !ğ
NULL
 && 
de¡
->next == NULL) {

626 
de¡
->
Ãxt
 = 
	`¶uto_cÚ¡¿šts_dup
(
¤c
->next);

629  
de¡
;

630 
	}
}

635 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_cİy_sšgË
(
PlutoCÚ¡¿šts
 *
de¡
, cÚ¡ PlutoCÚ¡¿št *
¤c
)

637 
i
;

639 ià(
¤c
->
Äows
 > 
de¡
->
®loc_Äows
 || src->
ncŞs
 > de¡->
®loc_ncŞs
) {

640 
	`¶uto_cÚ¡¿šts_»size_sšgË
(
de¡
, 
	`PLMAX
(
¤c
->
Äows
,de¡->
®loc_Äows
),

641 
	`PLMAX
(
¤c
->
ncŞs
,
de¡
->
®loc_ncŞs
));

646 ià(
de¡
->
Çmes
) {

647 
i
=0; i<
de¡
->
ncŞs
-1; i++) {

648 
	`ä“
(
de¡
->
Çmes
[
i
]);

649 
de¡
->
Çmes
[
i
] = 
NULL
;

653 
de¡
->
Äows
 = 
¤c
->nrows;

654 
de¡
->
ncŞs
 = 
¤c
->ncols;

656 
i
=0; i<
de¡
->
Äows
; i++) {

657 
	`memıy
(
de¡
->
v®
[
i
], 
¤c
->v®[i], src->
ncŞs
*(
št64
));

660 
	`memıy
(
de¡
->
is_eq
, 
¤c
->is_eq, de¡->
Äows
*());

661 ià(
¤c
->
Çmes
) {

662 
	`¶uto_cÚ¡¿šts_£t_Çmes
(
de¡
, 
¤c
->
Çmes
);

664 
	`¶uto_cÚ¡¿šts_»move_Çmes_sšgË
(
de¡
);

667  
de¡
;

668 
	}
}

672 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_dup_sšgË
(cÚ¡ 
PlutoCÚ¡¿šts
 *
¤c
)

674 
	`as£¹
(
¤c
 !ğ
NULL
);

676 
PlutoCÚ¡¿šts
 *
dup
 = 
	`¶uto_cÚ¡¿šts_®loc
(
¤c
->
®loc_Äows
, src->
®loc_ncŞs
);

678 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
dup
, 
¤c
);

680  
dup
;

681 
	}
}

688 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_dup
(cÚ¡ 
PlutoCÚ¡¿šts
 *
¤c
)

690 
	`as£¹
(
¤c
 !ğ
NULL
);

692 
PlutoCÚ¡¿šts
 *
dup
 = 
	`¶uto_cÚ¡¿šts_®loc
(
¤c
->
®loc_Äows
, src->
®loc_ncŞs
);

694 
	`¶uto_cÚ¡¿šts_cİy
(
dup
, 
¤c
);

696  
dup
;

697 
	}
}

700 
	$¶uto_cÚ¡¿šts_´št_sšgË
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
£t_num
)

702 
i
, 
j
;

704 if(
c¡
 =ğ
NULL
)

707 
	`årštf
(
å
, "S‘ #%d\n", 
£t_num
+1);

708 
	`årštf
(
å
, "%d %d\n", 
c¡
->
Äows
, c¡->
ncŞs
);

710 
i
=0; i<
c¡
->
Äows
; i++) {

711 
j
=0; j<
c¡
->
ncŞs
; j++) {

712 
	`årštf
(
å
, "% 3Îd ", 
c¡
->
v®
[
i
][
j
]);

714 
	`årštf
(
å
, "\ˆ% 0\n", 
c¡
->
is_eq
[
i
]? "==": ">=");

717 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

718 
	`¶uto_cÚ¡¿šts_´št_sšgË
(
å
, 
c¡
->
Ãxt
, 
£t_num
+1);

720 
	}
}

722 
	$¶uto_cÚ¡¿šts_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

724 
	`¶uto_cÚ¡¿šts_´št_sšgË
(
å
, 
c¡
, 0);

725 
	}
}

729 
	$¶uto_cÚ¡¿šts_´št_pŞylib_w™hout_num
(
FILE
 *
å
,

730 cÚ¡ 
PlutoCÚ¡¿šts
 *cÚ¡ 
c¡
)

732 
i
, 
j
;

734 
	`årštf
(
å
, "%d %d\n", 
c¡
->
Äows
, c¡->
ncŞs
+1);

736 
i
=0; i<
c¡
->
Äows
; i++) {

737 
	`årštf
(
å
, "% ", 
c¡
->
is_eq
[
i
]? "0": "1");

738 
j
=0; j<
c¡
->
ncŞs
; j++) {

739 
	`årštf
(
å
, "%Îd ", 
c¡
->
v®
[
i
][
j
]);

741 
	`årštf
(
å
, "\n");

744 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

745 
	`¶uto_cÚ¡¿šts_´št_pŞylib_w™hout_num
(
å
, 
c¡
->
Ãxt
);

747 
	}
}

749 
	$¶uto_cÚ¡¿šts_´št_pŞylib
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *cÚ¡ 
c¡
)

751 
num
;

753 
num
 = 
	`¶uto_cÚ¡¿šts_num_š_li¡
(
c¡
);

754 ià(
num
 >ğ2è
	`årštf
(
å
, "%d\n",‚um);

756 
	`¶uto_cÚ¡¿šts_´št_pŞylib_w™hout_num
(
å
, 
c¡
);

757 
	}
}

763 
PlutoM©rix
 *
	$¶uto_cÚ¡¿šts_to_m©rix
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

765 
i
, 
j
;

766 
PlutoM©rix
 *
m©
;

768 
m©
 = 
	`¶uto_m©rix_®loc
(
c¡
->
Äows
, c¡->
ncŞs
+1);

770 
i
=0; i<
c¡
->
Äows
; i++) {

771 
m©
->
v®
[
i
][0] = (
c¡
->
is_eq
[i])? 0: 1;

772 
j
=0; j<
c¡
->
ncŞs
; j++) {

773 
m©
->
v®
[
i
][
j
+1] = 
c¡
->val[i][j];

777  
m©
;

778 
	}
}

782 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_äom_mixed_m©rix
(cÚ¡ 
PlutoM©rix
 *
m©
, *
is_eq
)

784 
i
, 
j
;

785 
PlutoCÚ¡¿šts
 *
c¡
;

787 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
m©
->
Äows
, m©->
ncŞs
);

789 
c¡
->
Äows
 = 
m©
->nrows;

791 
i
=0; i<
c¡
->
Äows
; i++) {

792 
c¡
->
is_eq
[
i
] = is_eq[i];

793 
j
=0; j<
c¡
->
ncŞs
; j++) {

794 
c¡
->
v®
[
i
][
j
] = 
m©
->val[i][j];

798  
c¡
;

799 
	}
}

804 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_äom_m©rix
(cÚ¡ 
PlutoM©rix
 *
m©
)

806 
i
, 
j
;

807 
PlutoCÚ¡¿šts
 *
c¡
;

809 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
m©
->
Äows
, m©->
ncŞs
-1);

811 
c¡
->
Äows
 = 
m©
->nrows;

813 
i
=0; i<
c¡
->
Äows
; i++) {

814 
c¡
->
is_eq
[
i
] = (
m©
->
v®
[i][0] == 0);

815 
j
=0; j<
c¡
->
ncŞs
; j++) {

816 
c¡
->
v®
[
i
][
j
] = 
m©
->val[i][j+1];

820  
c¡
;

821 
	}
}

824 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_äom_šequ®™›s
(cÚ¡ 
PlutoM©rix
 *
m©
)

826 
i
, 
j
;

827 
PlutoCÚ¡¿šts
 *
c¡
;

829 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
m©
->
Äows
, m©->
ncŞs
);

830 
c¡
->
Äows
 = 
m©
->nrows;

832 
i
=0; i<
c¡
->
Äows
; i++) {

833 
c¡
->
is_eq
[
i
] = 0;

834 
j
=0; j<
c¡
->
ncŞs
; j++) {

835 
c¡
->
v®
[
i
][
j
] = 
m©
->val[i][j];

838  
c¡
;

839 
	}
}

846 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_»ad
(
FILE
 *
å
)

848 
i
, 
j
, 
šeq
, 
Äows
, 
ncŞs
, 
»tv®
, 
num
;

850 
	`fsÿnf
(
å
, "%d", &
Äows
);

851 
»tv®
 = 
	`fsÿnf
(
å
, "%d", &
ncŞs
);

852 
ncŞs
--;

854 ià(
»tv®
 =ğ
EOF
 ||„etval == 0) {

855  
NULL
;

858 
PlutoCÚ¡¿šts
 *
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
Äows
, 
ncŞs
);

859 
c¡
->
Äows
 =‚rows;

861 
i
=0; i<
c¡
->
Äows
; i++) {

862 
	`fsÿnf
(
å
, "%d ", &
šeq
);

863 
c¡
->
is_eq
[
i
] = 
šeq
^1;

864 
j
=0; j<
c¡
->
ncŞs
; j++) {

865 
	`fsÿnf
(
å
, "%Îd", &
c¡
->
v®
[
i
][
j
]);

869 ià(
	`fsÿnf
(
å
, "%d", &
num
è!ğ
EOF
) {

870 ià(
num
 >ğ1è
c¡
->
Çmes
 = 
	`m®loc
(num*(*));

871 
i
=0; i<
num
; i++) {

872 
c¡
->
Çmes
[
i
] = 
	`m®loc
(6);

873 
	`fsÿnf
(
å
, "%s", 
c¡
->
Çmes
[
i
]);

877  
c¡
;

878 
	}
}

881 
	$¶uto_cÚ¡¿šts_com·ù_´št_sšgË
(
FILE
 *
å
,

882 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
£t_num
)

884 
i
, 
j
, 
Äows
, 
ncŞs
;

886 ià(
c¡
 =ğ
NULL
) {

890 
Äows
 = 
c¡
->nrows;

891 
ncŞs
 = 
c¡
->ncols;

893 
	`´štf
("S‘ #%d\n", 
£t_num
+1);

895 ià(
Äows
 == 0) {

896 
	`´štf
("Univ”§ÈpŞyhedrÚ -- NØcÚ¡¿št (%d dims)!\n", 
c¡
->
ncŞs
-1);

900 
	`årštf
(
å
, "[%d dims; %d cÚ¡¿šts]\n", 
c¡
->
ncŞs
-1, c¡->
Äows
);

902 
i
=0; i<
Äows
; i++) {

903 
fœ¡
 = 1;

904 
j
=0; j<
ncŞs
; j++) {

905 ià(
j
==
ncŞs
-1) {

907 ià(
c¡
->
v®
[
i
][
j
] =ğ0 && !
fœ¡
è
	`årštf
(
å
, " ");

908 
	`årštf
(
å
, "%s%lld ",

909 (
c¡
->
v®
[
i
][
j
]>=0 && !
fœ¡
)?"+":"", cst->val[i][j]);

911 
v¬
[6];

912 
v¬
[5] = '\0';

913 ià(
c¡
->
Çmes
) {

914 
	`as£¹
(
c¡
->
Çmes
[
j
]);

915 
	`¡ºıy
(
v¬
, 
c¡
->
Çmes
[
j
], 5);

916 }
	`¥rštf
(
v¬
, "c_%c", 'i'+
j
);

918 ià(
c¡
->
v®
[
i
][
j
] == 1) {

919 
	`årštf
(
å
, "%s%s", 
fœ¡
?"":"+", 
v¬
);

920 
fœ¡
 = 0;

921 }ià(
c¡
->
v®
[
i
][
j
] == -1) {

922 
	`årštf
(
å
, "-%s", 
v¬
);

923 
fœ¡
 = 0;

924 }ià(
c¡
->
v®
[
i
][
j
] >= 2) {

925 
	`årštf
(
å
, "%s%Îd%s", 
fœ¡
?"":"+", 
c¡
->
v®
[
i
][
j
], 
v¬
);

926 
fœ¡
 = 0;

927 }ià(
c¡
->
v®
[
i
][
j
] <= -2) {

928 
	`årštf
(
å
, "%Îd%s", 
c¡
->
v®
[
i
][
j
], 
v¬
);

929 
fœ¡
 = 0;

933 
	`årštf
(
å
, "% 0\n", 
c¡
->
is_eq
[
i
]? "=": ">=");

935 
	`årštf
(
å
, "\n");

937 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

938 
	`¶uto_cÚ¡¿šts_com·ù_´št_sšgË
(
å
, 
c¡
->
Ãxt
, 
£t_num
+1);

940 
	}
}

943 
	$¶uto_cÚ¡¿šts_com·ù_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

945 
	`as£¹
(
c¡
 !ğ
NULL
);

946 
	`¶uto_cÚ¡¿šts_com·ù_´št_sšgË
(
å
, 
c¡
, 0);

947 
	}
}

950 
	$¶uto_cÚ¡¿šts_´‘ty_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

952 
i
, 
j
;

954 
Äows
 = 
c¡
->nrows;

955 
ncŞs
 = 
c¡
->ncols;

957 
	`as£¹
(
c¡
->
Ãxt
 =ğ
NULL
);

959 ià(
Äows
 == 0) {

960 
	`´štf
("Univ”§ÈpŞyhedrÚ --‚ØcÚ¡¿št (%d dims)!\n", 
c¡
->
ncŞs
-1);

964 
	`årštf
(
å
, "[%d dims; %d cÚ¡¿šts]\n", 
c¡
->
ncŞs
-1, c¡->
Äows
);

966 
i
=0; i<
Äows
; i++) {

968 
fœ¡
 = 1;

969 
j
=0; j<
ncŞs
; j++) {

970 ià(
j
==
ncŞs
-1) {

972 ià(
c¡
->
v®
[
i
][
j
] =ğ0 && !
fœ¡
è
	`årštf
(
å
, " ");

973 
	`årštf
(
å
, "%s%Îd ", (
c¡
->
v®
[
i
][
j
]>=0)?"+":"", cst->val[i][j]);

975 
v¬
[6];

976 
v¬
[5] = '\0';

977 ià(
c¡
->
Çmes
è
	`¡ºıy
(
v¬
, c¡->Çmes[
j
], 5);

978 
	`¥rštf
(
v¬
, "c_%c", 'i'+
j
);

980 ià(
c¡
->
v®
[
i
][
j
] == 1) {

981 
	`årštf
(
å
, "+% ", 
v¬
);

982 
fœ¡
 = 0;

983 }ià(
c¡
->
v®
[
i
][
j
] == -1) {

984 
	`årštf
(
å
, "-% ", 
v¬
);

985 
fœ¡
 = 0;

986 }ià(
c¡
->
v®
[
i
][
j
] >= 2) {

987 
	`årštf
(
å
, "+%Îd% ", 
c¡
->
v®
[
i
][
j
], 
v¬
);

988 
fœ¡
 = 0;

989 }ià(
c¡
->
v®
[
i
][
j
] <= -2) {

990 
	`årštf
(
å
, "%Îd% ", 
c¡
->
v®
[
i
][
j
], 
v¬
);

991 
fœ¡
 = 0;

992 }
	`årštf
(
å
, " ");

994 ià(
c¡
->
v®
[
i
][
j
] !ğ0è
fœ¡
 = 0;

997 
	`årštf
(
å
, "% 0\n", 
c¡
->
is_eq
[
i
]? "=": ">=");

999 
	`årštf
(
å
, "\n");

1000 
	}
}

1003 
	$¶uto_cÚ¡¿šts_ıËx_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

1005 
i
, 
j
;

1007 
Äows
 = 
c¡
->nrows;

1008 
ncŞs
 = 
c¡
->ncols;

1010 
	`as£¹
(
c¡
->
Ãxt
 =ğ
NULL
);

1012 ià(
Äows
 == 0) {

1013 
	`´štf
("No constraints!\n");

1016 
i
=0; i<
Äows
; i++) {

1017 
fœ¡
 = 1;

1018 
j
=0; j<
ncŞs
; j++) {

1019 ià(
j
==
ncŞs
-1) {

1022 
	`as£¹
(!
fœ¡
 || 
c¡
->
v®
[
i
][
j
] >= 0);

1023 ià(!
fœ¡
è
	`årštf
(
å
, "% %Îd\n", 
c¡
->
is_eq
[
i
]? "=": ">=", -c¡->
v®
[i][
j
]);

1025 
v¬
[6];

1026 
v¬
[5] = '\0';

1027 ià(
c¡
->
Çmes
è
	`¡ºıy
(
v¬
, c¡->Çmes[
j
], 5);

1028 
	`¥rštf
(
v¬
, "c_%d", 
j
);

1030 ià(
c¡
->
v®
[
i
][
j
] == 1) {

1031 
	`årštf
(
å
, "+% ", 
v¬
);

1032 
fœ¡
 = 0;

1033 }ià(
c¡
->
v®
[
i
][
j
] == -1) {

1034 
	`årštf
(
å
, "-% ", 
v¬
);

1035 
fœ¡
 = 0;

1036 }ià(
c¡
->
v®
[
i
][
j
] >= 2) {

1037 
	`årštf
(
å
, "+%Îd% ", 
c¡
->
v®
[
i
][
j
], 
v¬
);

1038 
fœ¡
 = 0;

1039 }ià(
c¡
->
v®
[
i
][
j
] <= -2) {

1040 
	`årštf
(
å
, "%Îd% ", 
c¡
->
v®
[
i
][
j
], 
v¬
);

1041 
fœ¡
 = 0;

1042 }
	`årštf
(
å
, " ");

1046 
	`årštf
(
å
, "\n");

1047 
	}
}

1055 
PlutoM©rix
 *
	$¶uto_cÚ¡¿šts_to_p_m©rix
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
PlutoM©rix
 *
pm©
)

1057 
i
, 
j
;

1060 
	`as£¹
(
pm©
 !ğ
NULL
);

1062 
i
=0; i<
c¡
->
Äows
; i++) {

1064 
pm©
->
v®
[
i
][0] = 
c¡
->
is_eq
[i]? 0: 1;

1065 
j
=1; j< 
c¡
->
ncŞs
+1; j++) {

1066 
pm©
->
v®
[
i
][
j
] = 
c¡
->val[i][j-1];

1069 
pm©
->
Äows
 = 
c¡
->nrows;

1070 
pm©
->
ncŞs
 = 
c¡
->ncols+1;

1072  
pm©
;

1073 
	}
}

1077 
št64
 *
	$¶uto_cÚ¡¿šts_Ëxmš_p
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
Ãgv¬
)

1079 
bignum
, 
i
;

1080 
PM©rix
 *
domaš
, *
cÚ‹xt
;

1081 
PQua¡
 *
sŞutiÚ
;

1082 
PO±iÚs
 *
pO±iÚs
;

1083 
PLi¡
 *
li¡PŒ
;

1084 
št64
 *
sŞ
;

1085 
PlutoM©rix
 *
pm©
;

1087 
	`IF_DEBUG2
(
	`´štf
("[pluto]…luto_constraints_lexmin_pip (%d variables, %d constraints)\n",

1088 
c¡
->
ncŞs
-1, c¡->
Äows
););

1090 
pm©
 = 
	`¶uto_m©rix_®loc
(
c¡
->
Äows
, c¡->
ncŞs
+1);

1093 
	`¶uto_cÚ¡¿šts_to_p_m©rix
(
c¡
, 
pm©
);

1097 
cÚ‹xt
 = 
NULL
;

1098 
bignum
 = -1;

1100 
domaš
 = 
	`p_m©rix_pİuÏ‹
(
pm©
->
v®
,…m©->
Äows
,

1101 
pm©
->
ncŞs
);

1103 
pO±iÚs
 = 
	`p_İtiÚs_š™
();

1105 if(
Ãgv¬
 == 1) {

1106 
pO±iÚs
->
Urs_·rms
=1;

1107 
pO±iÚs
->
Urs_unknowns
=1;

1113 
sŞutiÚ
 = 
	`p_sŞve
(
domaš
, 
cÚ‹xt
, 
bignum
, 
pO±iÚs
) ;

1117 
	`as£¹
(
sŞutiÚ
->
cÚd™iÚ
==
NULL
);

1119 
li¡PŒ
 = 
sŞutiÚ
->
li¡
;

1121 
sŞ
 = 
NULL
;

1122 ià(
li¡PŒ
 !ğ
NULL
) {

1123 
sŞ
 = (
št64
 *è
	`m®loc
((
pm©
->
ncŞs
-2)*(int64));

1125 
i
=0; i<
pm©
->
ncŞs
-2; i++) {

1128 #ifdeà
PIP_WIDTH_MP


1129 
sŞ
[
i
] = 
	`mpz_g‘_si
(*
li¡PŒ
->
veùÜ
->
the_veùÜ
);

1131 
sŞ
[
i
] = (
št64
è*
li¡PŒ
->
veùÜ
->
the_veùÜ
;

1133 
li¡PŒ
 =†i¡PŒ->
Ãxt
;

1137 
	`p_İtiÚs_ä“
(
pO±iÚs
);

1138 
	`p_m©rix_ä“
(
domaš
);

1139 
	`p_qua¡_ä“
(
sŞutiÚ
);

1141 
	`¶uto_m©rix_ä“
(
pm©
);

1143  
sŞ
;

1144 
	}
}

1147 
št64
 *
	$¶uto_cÚ¡¿šts_Ëxmš
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
Ãgv¬
)

1149 ià(
İtiÚs
->
i¦sŞve
) {

1150  
	`¶uto_cÚ¡¿šts_Ëxmš_i¦
(
c¡
, 
Ãgv¬
);

1152  
	`¶uto_cÚ¡¿šts_Ëxmš_p
(
c¡
, 
Ãgv¬
);

1154 
	}
}

1158 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_äom_equ®™›s
(cÚ¡ 
PlutoM©rix
 *
m©
)

1160 
i
, 
j
;

1162 
PlutoCÚ¡¿šts
 *
c¡
;

1164 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
m©
->
Äows
, m©->
ncŞs
);

1166 
i
=0; i<
m©
->
Äows
; i++) {

1167 
c¡
->
is_eq
[
i
] = 1;

1168 
j
=0; j<
m©
->
ncŞs
; j++) {

1169 
c¡
->
v®
[
i
][
j
] = 
m©
->val[i][j];

1172 
c¡
->
Äows
 = 
m©
->nrows;

1174  
c¡
;

1175 
	}
}

1179 
	$¶uto_cÚ¡¿šts_add_šequ®™y
(
PlutoCÚ¡¿šts
 *
c¡
)

1181 
j
;

1183 ià(
c¡
->
Äows
 =ğc¡->
®loc_Äows
) {

1184 
	`¶uto_cÚ¡¿šts_»size_sšgË
(
c¡
, c¡->
Äows
+1, c¡->
ncŞs
);

1186 
c¡
->
Äows
++;

1189 
j
=0; j<
c¡
->
ncŞs
; j++) {

1190 
c¡
->
v®
[c¡->
Äows
-1][
j
] = 0;

1192 
c¡
->
is_eq
[c¡->
Äows
-1] = 0;

1194 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

1195 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
c¡
->
Ãxt
);

1198 
	}
}

1203 
	$¶uto_cÚ¡¿šts_add_equ®™y
(
PlutoCÚ¡¿šts
 *
c¡
)

1205 
j
;

1207 
	`as£¹
(
c¡
->
Äows
 <ğc¡->
®loc_Äows
);

1209 ià(
c¡
->
Äows
 =ğc¡->
®loc_Äows
) {

1210 
	`¶uto_cÚ¡¿šts_»size_sšgË
(
c¡
, c¡->
Äows
+1, c¡->
ncŞs
);

1212 
c¡
->
Äows
++;

1215 
j
=0; j<
c¡
->
ncŞs
; j++) {

1216 
c¡
->
v®
[c¡->
Äows
-1][
j
] = 0;

1218 
c¡
->
is_eq
[c¡->
Äows
-1] = 1;

1220 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

1221 
	`¶uto_cÚ¡¿šts_add_equ®™y
(
c¡
->
Ãxt
);

1223 
	}
}

1227 
	$¶uto_cÚ¡¿šts_add_cÚ¡¿št
(
PlutoCÚ¡¿šts
 *
c¡
, 
is_eq
)

1229 ià(
is_eq
è
	`¶uto_cÚ¡¿šts_add_equ®™y
(
c¡
);

1230 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
c¡
);

1231 
	}
}

1238 
	$¶uto_cÚ¡¿šts_»move_row
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

1240 
i
, 
j
;

1242 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
c¡
->
Äows
-1);

1244 
i
=
pos
; i<
c¡
->
Äows
-1; i++) {

1245 
j
=0; j<
c¡
->
ncŞs
; j++) {

1246 
c¡
->
v®
[
i
][
j
] = cst->val[i+1][j];

1248 
c¡
->
is_eq
[
i
] = cst->is_eq[i+1];

1250 
c¡
->
Äows
--;

1251 
	}
}

1255 
	$¶uto_cÚ¡¿šts_»move_dim
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

1257 
i
, 
j
;

1259 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
c¡
->
ncŞs
-2);

1261 ià(
c¡
->
Çmes
è
	`ä“
(c¡->Çmes[
pos
]);

1263 
i
=0; i<
c¡
->
Äows
; i++) {

1264 
j
=
pos
; j<
c¡
->
ncŞs
-1; j++) {

1265 
c¡
->
v®
[
i
][
j
] = cst->val[i][j+1];

1269 
j
=
pos
; j<
c¡
->
ncŞs
-1; j++) {

1270 ià(
c¡
->
Çmes
 && 
j
 < c¡->
ncŞs
-2 && cst->names[j+1]) {

1271 
c¡
->
Çmes
[
j
] = cst->names[j+1];

1274 ià(
c¡
->
Çmes
) {

1275 
c¡
->
Çmes
 = 
	`»®loc
(c¡->Çmes, (c¡->
ncŞs
-2)*(*));

1278 
c¡
->
ncŞs
--;

1280 ià(
c¡
->
Ãxt
 !ğ
NULL
è
	`¶uto_cÚ¡¿šts_»move_dim
(c¡->Ãxt, 
pos
);

1281 
	}
}

1285 
	$¶uto_cÚ¡¿šts_z”o_row
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

1287 
j
;

1289 
	`as£¹
(
c¡
->
Ãxt
 =ğ
NULL
);

1291 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
c¡
->
Äows
-1);

1293 
j
=0; j<
c¡
->
ncŞs
; j++) {

1294 
c¡
->
v®
[
pos
][
j
] = 0;

1296 
	}
}

1300 
	$¶uto_cÚ¡¿šts_nÜm®ize_row
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

1302 
i
, 
j
, 
k
;

1304 
	`as£¹
(
c¡
->
Ãxt
 =ğ
NULL
);

1305 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
c¡
->
Äows
-1);

1308 
i
=0; i<
c¡
->
Äows
; i++) {

1309 ià(
c¡
->
v®
[
i
][0] == 0) ;

1310 
rowgcd
 = 
	`abs
(
c¡
->
v®
[
i
][0]);

1311 
j
=1; j<
c¡
->
ncŞs
; j++) {

1312 ià(
c¡
->
v®
[
i
][
j
] == 0) ;

1313 
rowgcd
 = 
	`gcd
Ôowgcd,
	`abs
(
c¡
->
v®
[
i
][
j
]));

1315 ià(
i
 =ğ
c¡
->
Äows
) {

1316 ià(
rowgcd
 >= 2) {

1317 
k
=0; k<
c¡
->
ncŞs
; k++) {

1318 
c¡
->
v®
[
i
][
k
] /ğ
rowgcd
;

1323 
	}
}

1327 
	$¶uto_cÚ¡¿šts_add_dim
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
, cÚ¡ *
Çme
)

1329 
i
, 
j
;

1332 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
c¡
->
ncŞs
-1);

1334 ià(
c¡
->
ncŞs
 =ğc¡->
®loc_ncŞs
) {

1335 
	`¶uto_cÚ¡¿šts_»size_sšgË
(
c¡
, c¡->
Äows
, c¡->
ncŞs
+1);

1337 
c¡
->
ncŞs
++;

1339 ià(
c¡
->
Çmes
èc¡->Çme ğ
	`»®loc
(c¡->Çmes, (c¡->
ncŞs
-1)*(*));

1341 
j
=
c¡
->
ncŞs
-2; j>=
pos
; j--) {

1342 
i
=0; i<
c¡
->
Äows
; i++) {

1343 
c¡
->
v®
[
i
][
j
+1] = cst->val[i][j];

1345 ià(
c¡
->
Çmes
 && 
j
 <ğc¡->
ncŞs
-3) {

1346 
c¡
->
Çmes
[
j
+1] = cst->names[j];

1351 
i
=0; i<
c¡
->
Äows
; i++) {

1352 
c¡
->
v®
[
i
][
pos
] = 0;

1354 ià(
c¡
->
Çmes
èc¡->Çmes[
pos
] = 
	`¡rdup
(
Çme
?‚ame:"_u");

1356 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

1357 
	`¶uto_cÚ¡¿šts_add_dim
(
c¡
->
Ãxt
, 
pos
, 
Çme
);

1359 
	}
}

1362 
	$¶uto_cÚ¡¿šts_add_lb
(
PlutoCÚ¡¿šts
 *
c¡
, 
v¬num
, 
št64
 
lb
)

1364 
	`as£¹
(
v¬num
 >=0 && v¬num <ğ
c¡
->
ncŞs
-2);

1366 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
c¡
);

1368 
c¡
 !ğ
NULL
) {

1369 
c¡
->
v®
[c¡->
Äows
-1][
v¬num
] = 1;

1370 
c¡
->
v®
[c¡->
Äows
-1][c¡->
ncŞs
-1] = -
lb
;

1371 
c¡
 = c¡->
Ãxt
;

1373 
	}
}

1376 
	$¶uto_cÚ¡¿šts_add_ub
(
PlutoCÚ¡¿šts
 *
c¡
, 
v¬num
, 
št64
 
ub
)

1378 
	`as£¹
(
v¬num
 >=0 && v¬num <ğ
c¡
->
ncŞs
-2);

1380 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
c¡
);

1382 
c¡
 !ğ
NULL
) {

1383 
c¡
->
v®
[c¡->
Äows
-1][
v¬num
] = -1;

1384 
c¡
->
v®
[c¡->
Äows
-1][c¡->
ncŞs
-1] = 
ub
;

1385 
c¡
 = c¡->
Ãxt
;

1387 
	}
}

1392 
	$¶uto_cÚ¡¿šts_£t_v¬
(
PlutoCÚ¡¿šts
 *
c¡
, 
v¬num
, 
št64
 
v®
)

1394 
	`as£¹
(
v¬num
 >=0 && v¬num <ğ
c¡
->
ncŞs
-2);

1396 
	`¶uto_cÚ¡¿šts_add_equ®™y
(
c¡
);

1398 
c¡
 !ğ
NULL
) {

1399 
c¡
->
v®
[c¡->
Äows
-1][
v¬num
] = 1;

1400 
c¡
->
v®
[c¡->
Äows
-1][c¡->
ncŞs
-1] = -val;

1401 
c¡
 = c¡->
Ãxt
;

1403 
	}
}

1409 
PM©rix
 *
	$p_m©rix_pİuÏ‹
(
št64
 **
c¡
, 
Äows
, 
ncŞs
)

1411 
i
, 
j
;

1412 
PM©rix
 *
m©rix
 ;

1413 
EÁ›r
 *
p
 ;

1415 
m©rix
 = 
	`p_m©rix_®loc
(
Äows
, 
ncŞs
) ;

1417 
p
 = 
m©rix
->
p_In™
 ;

1418 
i
=0;i<
m©rix
->
NbRows
;i++) {

1419 
j
=0;j<
m©rix
->
NbCŞumns
;j++) {

1420 *(
p
++èğ
c¡
[
i
][
j
];

1423  
m©rix
 ;

1424 
	}
}

1426 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_£Ëù_row
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

1428 
j
;

1430 
PlutoCÚ¡¿šts
 *
row
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
c¡
->
ncŞs
);

1431 
row
->
is_eq
[0] = 
c¡
->is_eq[
pos
];

1432 
j
=0; j<
c¡
->
ncŞs
; j++) {

1433 
row
->
v®
[0][
j
] = 
c¡
->v®[
pos
][j];

1435 
row
->
Äows
 = 1;

1436  
row
;

1437 
	}
}

1442 
	$¶uto_cÚ¡¿šts_Ãg©e_row
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

1444 
	`as£¹
(
c¡
->
Ãxt
 =ğ
NULL
);

1446 
j
;

1448 
j
=0; j<
c¡
->
ncŞs
; j++) {

1449 
c¡
->
v®
[
pos
][
j
] = -cst->val[pos][j];

1451 
	}
}

1457 
	$¶uto_cÚ¡¿šts_Ãg©e_cÚ¡¿št
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

1459 
j
;

1461 
	`as£¹
(
c¡
->
Ãxt
 =ğ
NULL
);

1463 
j
=0; j<
c¡
->
ncŞs
-1; j++) {

1464 
c¡
->
v®
[
pos
][
j
] = -cst->val[pos][j];

1466 
c¡
->
v®
[
pos
][c¡->
ncŞs
-1]--;

1467 
	}
}

1473 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_to_pu»_šequ®™›s_sšgË
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

1475 
i
, 
j
;

1477 
PlutoCÚ¡¿šts
 *
šeq
 = 
	`¶uto_cÚ¡¿šts_dup_sšgË
(
c¡
);

1479 
i
=0; i<
šeq
->
Äows
; i++) {

1480 
šeq
->
is_eq
[
i
] = 0;

1483 
has_eq
 = 0;

1484 
i
=0; i<
c¡
->
Äows
; i++) {

1485 ià(
c¡
->
is_eq
[
i
]) {

1486 
has_eq
 = 1;

1491 ià(
has_eq
) {

1493 
PlutoCÚ¡¿šts
 *
Ãg_eq
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
c¡
->
ncŞs
);

1495 
i
=0; i<
c¡
->
Äows
; i++) {

1496 ià(
c¡
->
is_eq
[
i
]) {

1497 
j
=0; j<
c¡
->
ncŞs
; j++) {

1498 
Ãg_eq
->
v®
[0][
j
] -ğ
c¡
->v®[
i
][j];

1502 
Ãg_eq
->
Äows
 = 1;

1503 
	`¶uto_cÚ¡¿šts_add
(
šeq
, 
Ãg_eq
);

1504 
	`¶uto_cÚ¡¿šts_ä“
(
Ãg_eq
);

1507  
šeq
;

1508 
	}
}

1512 
	$¶uto_cÚ¡¿šts_´ojeù_out_sšgË
(

1513 
PlutoCÚ¡¿šts
 *
c¡
,

1514 
¡¬t
,

1515 
num
)

1517 
i
, 
’d
;

1519 
	`as£¹
(
num
>= 0);

1521 ià(
num
 == 0) ;

1523 
’d
 = 
¡¬t
 + 
num
 - 1;

1525 
	`as£¹
(
¡¬t
 >ğ0 && 
’d
 <ğ
c¡
->
ncŞs
-2);

1527 
PlutoM©rix
 *
func
 = 
	`¶uto_m©rix_®loc
(
c¡
->
ncŞs
-
num
, cst->ncols);

1528 
	`¶uto_m©rix_£t
(
func
, 0);

1529 
i
=0; i<
¡¬t
; i++) {

1530 
func
->
v®
[
i
][i] = 1;

1532 
i
=
’d
+1; i<
c¡
->
ncŞs
; i++) {

1533 
func
->
v®
[
i
-
num
][i] = 1;

1536 
PlutoCÚ¡¿šts
 *
img
 = 
	`¶uto_cÚ¡¿šts_image
(
c¡
, 
func
);

1537 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
c¡
, 
img
);

1539 
	`¶uto_cÚ¡¿šts_ä“
(
img
);

1540 
	`¶uto_m©rix_ä“
(
func
);

1541 
	}
}

1544 
	$¶uto_cÚ¡¿šts_´ojeù_out
(

1545 
PlutoCÚ¡¿šts
 *
c¡
,

1546 
¡¬t
,

1547 
num
)

1549 
	`¶uto_cÚ¡¿šts_´ojeù_out_sšgË
(
c¡
, 
¡¬t
, 
num
);

1551 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

1552 
	`¶uto_cÚ¡¿šts_´ojeù_out
(
c¡
->
Ãxt
, 
¡¬t
, 
num
);

1554 
	}
}

1557 
	$¶uto_cÚ¡¿šts_š‹rchªge_cŞs
(
PlutoCÚ¡¿šts
 *
c¡
, 
cŞ1
,

1558 
cŞ2
)

1560 
r
, 
tmp
;

1564 
r
=0;„<
c¡
->
Äows
;„++) {

1565 
tmp
 = 
c¡
->
v®
[
r
][
cŞ1
];

1566 
c¡
->
v®
[
r
][
cŞ1
] = c¡->v®[r][
cŞ2
];

1567 
c¡
->
v®
[
r
][
cŞ2
] = 
tmp
;

1570 if(
c¡
->
Ãxt
 !ğ
NULL
) {

1571 
	`¶uto_cÚ¡¿šts_š‹rchªge_cŞs
(
c¡
->
Ãxt
, 
cŞ1
, 
cŞ2
);

1574 
	}
}

1577 
	$check_»dundªcy
(
PlutoCÚ¡¿šts
 *
c¡
)

1579 
i
;

1580 
PlutoCÚ¡¿šts
 *
check
 = 
	`¶uto_cÚ¡¿šts_®loc
(
c¡
->
Äows
, c¡->
ncŞs
);

1581 
couÁ
;

1583 
	`as£¹
(
c¡
->
Ãxt
 =ğ
NULL
);

1585 
couÁ
 = 0;

1587 
i
=0; i<
c¡
->
Äows
; i++) {

1588 
	`¶uto_cÚ¡¿šts_cİy
(
check
, 
c¡
);

1589 
PlutoCÚ¡¿šts
 *
row
 = 
	`¶uto_cÚ¡¿šts_£Ëù_row
(
c¡
, 
i
);

1590 
	`¶uto_cÚ¡¿šts_»move_row
(
check
, 
i
);

1591 
	`¶uto_cÚ¡¿šts_Ãg©e_cÚ¡¿št
(
row
, 0);

1592 
	`¶uto_cÚ¡¿šts_add
(
check
, 
row
);

1593 ià(
	`¶uto_cÚ¡¿šts_is_em±y
(
check
)) {

1595 
couÁ
++;

1599 
	`¶uto_cÚ¡¿šts_ä“
(
row
);

1601 
	`IF_DEBUG
(
	`´štf
("%d cÚ¡¿št »dundªt\n", 
couÁ
););

1602 
	}
}

1604 
	$¶uto_cÚ¡¿šts_num_š_li¡
(cÚ¡ 
PlutoCÚ¡¿šts
 *cÚ¡ 
c¡
)

1606 ià(
c¡
 =ğ
NULL
)  0;

1608  1 + 
	`¶uto_cÚ¡¿šts_num_š_li¡
(
c¡
->
Ãxt
);

1609 
	}
}

1612 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_uniÚize
(
PlutoCÚ¡¿šts
 *
c¡1
,

1613 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

1615 
PlutoCÚ¡¿šts
 *
uc¡
 = 
	`¶uto_cÚ¡¿šts_uniÚ
(
c¡1
, 
c¡2
);

1616 
	`¶uto_cÚ¡¿šts_cİy
(
c¡1
, 
uc¡
);

1617 
	`¶uto_cÚ¡¿šts_ä“
(
uc¡
);

1618  
c¡1
;

1619 
	}
}

1622 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_uniÚize_i¦
(
PlutoCÚ¡¿šts
 *
c¡1
,

1623 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

1625 
PlutoCÚ¡¿šts
 *
uc¡
 = 
	`¶uto_cÚ¡¿šts_uniÚ_i¦
(
c¡1
, 
c¡2
);

1626 
	`¶uto_cÚ¡¿šts_cİy
(
c¡1
, 
uc¡
);

1627 
	`¶uto_cÚ¡¿šts_ä“
(
uc¡
);

1628  
c¡1
;

1629 
	}
}

1633 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_univ”£
(
ncŞs
)

1635 
PlutoCÚ¡¿šts
 *
univ”£
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
ncŞs
);

1636  
univ”£
;

1637 
	}
}

1641 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_em±y
(
ncŞs
)

1643 
PlutoCÚ¡¿šts
 *
em±y
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
ncŞs
);

1644 
	`¶uto_cÚ¡¿šts_add_equ®™y
(
em±y
);

1645 
em±y
->
v®
[0][
ncŞs
-1] = 1;

1646  
em±y
;

1647 
	}
}

1650 
	$¶uto_cÚ¡¿šts_is_em±y
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

1652 
št64
 *
sŞ
;

1653 
boŞ
 
is_em±y
;

1655 ià(
İtiÚs
->
i¦sŞve
) {

1656 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

1657 
i¦_£t
 *
i£t
 = 
	`i¦_£t_äom_¶uto_cÚ¡¿šts
(
c¡
, 
ùx
);

1658 
is_em±y
 = 
	`i¦_£t_is_em±y
(
i£t
);

1659 
	`i¦_£t_ä“
(
i£t
);

1660 
	`i¦_ùx_ä“
(
ùx
);

1662 
sŞ
 = 
	`¶uto_cÚ¡¿šts_Ëxmš_p
(
c¡
, 
ALLOW_NEGATIVE_COEFF
);

1663 
is_em±y
 = (
sŞ
 =ğ
NULL
);

1664 
	`ä“
(
sŞ
);

1667 ià(!
is_em±y
)  0;

1669 ià(
c¡
->
Ãxt
 !ğ
NULL
è 
	`¶uto_cÚ¡¿šts_is_em±y
(cst->next);

1673 
	}
}

1676 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_uniÚize_sim¶e
(
PlutoCÚ¡¿šts
 *
c¡1
,

1677 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

1679 
c¡1
->
Ãxt
 !ğ
NULL
) {

1680 
c¡1
 = c¡1->
Ãxt
;

1682 
c¡1
->
Ãxt
 = 
	`¶uto_cÚ¡¿šts_dup
(
c¡2
);

1683  
c¡1
;

1684 
	}
}

1689 
	$¶uto_cÚ¡¿šts_g‘_cÚ¡_lb
(cÚ¡ 
PlutoCÚ¡¿šts
 *
ú¡
, 
pos
,

1690 
št64
 *
lb
)

1692 
i
, 
»tv®
;

1694 
PlutoCÚ¡¿šts
 *
c¡
 = 
	`¶uto_cÚ¡¿šts_dup
(
ú¡
);

1696 
	`¶uto_cÚ¡¿šts_´ojeù_out_sšgË
(
c¡
, 0, 
pos
);

1697 
	`¶uto_cÚ¡¿šts_´ojeù_out_sšgË
(
c¡
, 1, c¡->
ncŞs
-2);

1699 
»tv®
 = 0;

1700 *
lb
 = 
INT_MIN
;

1701 
i
=0; i<
c¡
->
Äows
; i++) {

1702 ià(
c¡
->
is_eq
[
i
]) {

1703 *
lb
 = 
c¡
->
v®
[
i
][c¡->
ncŞs
-1];

1704 
»tv®
 = 1;

1707 ià(!
c¡
->
is_eq
[
i
] && c¡->
v®
[i][0] >= 1) {

1708 
»tv®
 = 1;

1709 *
lb
 = 
	`PLMAX
(*lb,-
c¡
->
v®
[
i
][c¡->
ncŞs
-1]);

1712 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

1714 ià(
»tv®
 && 
ú¡
->
Ãxt
 !ğ
NULL
) {

1715 
št64
 
Ãxt_lb
;

1716 
»tv®
 = 
	`¶uto_cÚ¡¿šts_g‘_cÚ¡_lb
(
ú¡
->
Ãxt
, 
pos
, &
Ãxt_lb
);

1717 ià(*
lb
 !ğ
Ãxt_lb
è
»tv®
 = 0;

1720  
»tv®
;

1721 
	}
}

1726 
	$¶uto_cÚ¡¿šts_g‘_cÚ¡_ub
(cÚ¡ 
PlutoCÚ¡¿šts
 *
ú¡
, 
pos
,

1727 
št64
 *
ub
)

1729 
i
, 
»tv®
;

1731 
PlutoCÚ¡¿šts
 *
c¡
 = 
	`¶uto_cÚ¡¿šts_dup
(
ú¡
);

1733 
	`¶uto_cÚ¡¿šts_´ojeù_out_sšgË
(
c¡
, 0, 
pos
);

1734 
	`¶uto_cÚ¡¿šts_´ojeù_out_sšgË
(
c¡
, 1, c¡->
ncŞs
-2);

1738 
»tv®
 = 0;

1739 *
ub
 = 
LONG_LONG_INT_MAX
;

1740 
i
=0; i<
c¡
->
Äows
; i++) {

1741 ià(
c¡
->
is_eq
[
i
]) {

1742 *
ub
 = 
c¡
->
v®
[
i
][c¡->
ncŞs
-1];

1743 
»tv®
 = 1;

1746 ià(!
c¡
->
is_eq
[
i
] && c¡->
v®
[i][0] <= -1) {

1747 *
ub
 = 
	`PLMIN
(*ub,
c¡
->
v®
[
i
][c¡->
ncŞs
-1]);

1748 
»tv®
 = 1;

1751 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

1753 ià(
»tv®
 && 
ú¡
->
Ãxt
 !ğ
NULL
) {

1754 
št64
 
Ãxt_ub
;

1755 
»tv®
 = 
	`¶uto_cÚ¡¿šts_g‘_cÚ¡_ub
(
ú¡
->
Ãxt
, 
pos
, &
Ãxt_ub
);

1756 ià(*
ub
 !ğ
Ãxt_ub
è
»tv®
 = 0;

1759  
»tv®
;

1760 
	}
}

1762 
	$´št_pŞylib_visu®_£ts_š‹º®
(* 
¡r
, 
k
, 
PlutoCÚ¡¿šts
 *
c¡
){

1763 
i
, 
j
, 
fœ¡
 = 0;

1764 
Çme
[100];

1766 if(!
İtiÚs
->
mÜedebug
)

1769 if(
c¡
 =ğ
NULL
)

1772 
	`¥rštf
(
Çme
, "%si%d", 
¡r
, 
k
);

1774 
	`´štf
("% :ğ{ ", 
Çme
 );

1775  
i
=0; i<
c¡
->
ncŞs
-1; i++){

1776 if(
i
 =ğ
c¡
->
ncŞs
-2)

1777 
	`´štf
("t%d | ", 
i
);

1779 
	`´štf
("t%d,", 
i
);

1782 
i
=0; i<
c¡
->
Äows
; i++ ){

1783 
fœ¡
 = 0;

1784 
j
=0; j<
c¡
->
ncŞs
-1; j++){

1785 if(
c¡
->
v®
[
i
][
j
] == 0)

1788 if(
fœ¡
 == 0){

1789 
fœ¡
 = 1;

1790 if(
c¡
->
v®
[
i
][
j
] == 1)

1791 
	`´štf
("t%d", 
j
);

1792 if(
c¡
->
v®
[
i
][
j
] == -1)

1793 
	`´štf
("-t%d", 
j
);

1794 if(
c¡
->
v®
[
i
][
j
] != 0)

1795 
	`´štf
("%Îd*t%d", 
c¡
->
v®
[
i
][
j
], j);

1798 
fœ¡
 = 1;

1799 if(
c¡
->
v®
[
i
][
j
] == 1)

1800 
	`´štf
("+t%d", 
j
);

1801 if(
c¡
->
v®
[
i
][
j
] == -1)

1802 
	`´štf
("-t%d", 
j
);

1803 if(
c¡
->
v®
[
i
][
j
] != 0)

1804 
	`´štf
("%+Îd*t%d", 
c¡
->
v®
[
i
][
j
], j);

1808 if(
c¡
->
v®
[
i
][
j
] != 0){

1809 if(
fœ¡
 != 0)

1810 
	`´štf
("%+Îd", 
c¡
->
v®
[
i
][
j
]);

1812 
	`´štf
("%Îd", 
c¡
->
v®
[
i
][
j
]);

1815 
	`´štf
("%s0 ", 
c¡
->
is_eq
[
i
]?"=":">=" );

1816 if(
i
 !ğ
c¡
->
Äows
 -1)

1817 
	`´štf
(",");

1820 
	`´štf
("};\n\n");

1822 if(
c¡
->
Ãxt
 !ğ
NULL
)

1823 
	`´št_pŞylib_visu®_£ts_š‹º®
(
¡r
,
k
+1, 
c¡
->
Ãxt
);

1824 
	}
}

1828 
	$´št_pŞylib_visu®_£ts_š‹º®_Ãw
(* 
¡r
, 
k
, 
PlutoCÚ¡¿šts
 *
c¡
) {

1830 
i
, 
j
, 
fœ¡
 = 0;

1831 
Çme
[100];

1833 
	`¥rštf
(
Çme
, "%s%d", 
¡r
, 
k
);

1835 
	`´štf
("% :ğ{ ", 
Çme
 );

1836  
i
=0; i<
c¡
->
ncŞs
-1; i++){

1837 if(
i
 =ğ
c¡
->
ncŞs
-2)

1838 
	`´štf
("t%d | ", 
i
);

1840 
	`´štf
("t%d,", 
i
);

1843 
i
=0; i<
c¡
->
Äows
; i++ ){

1844 
fœ¡
 = 0;

1845 
j
=0; j<
c¡
->
ncŞs
-1; j++){

1846 if(
c¡
->
v®
[
i
][
j
] == 0)

1849 if(
fœ¡
 == 0){

1850 
fœ¡
 = 1;

1851 if(
c¡
->
v®
[
i
][
j
] == 1)

1852 
	`´štf
("t%d", 
j
);

1853 if(
c¡
->
v®
[
i
][
j
] == -1)

1854 
	`´štf
("-t%d", 
j
);

1855 if(
c¡
->
v®
[
i
][
j
] != 0)

1856 
	`´štf
("%Îd*t%d", 
c¡
->
v®
[
i
][
j
], j);

1859 
fœ¡
 = 1;

1860 if(
c¡
->
v®
[
i
][
j
] == 1)

1861 
	`´štf
("+t%d", 
j
);

1862 if(
c¡
->
v®
[
i
][
j
] == -1)

1863 
	`´štf
("-t%d", 
j
);

1864 if(
c¡
->
v®
[
i
][
j
] != 0)

1865 
	`´štf
("%+Îd*t%d", 
c¡
->
v®
[
i
][
j
], j);

1869 if(
c¡
->
v®
[
i
][
j
] != 0){

1870 if(
fœ¡
 != 0)

1871 
	`´štf
("%+Îd", 
c¡
->
v®
[
i
][
j
]);

1873 
	`´štf
("%Îd", 
c¡
->
v®
[
i
][
j
]);

1876 
	`´štf
("%s0 ", 
c¡
->
is_eq
[
i
]?"=":">=" );

1877 if(
i
 !ğ
c¡
->
Äows
 -1)

1878 
	`´štf
(",");

1881 
	`´štf
("};\n\n");

1883 if(
c¡
->
Ãxt
 !ğ
NULL
)

1884 
	`´št_pŞylib_visu®_£ts_š‹º®
(
¡r
,
k
+1, 
c¡
->
Ãxt
);

1885 
	}
}

1887 
	$´št_pŞylib_visu®_£ts_Ãw
(* 
Çme
, 
PlutoCÚ¡¿šts
 *
c¡
){

1888 
	`´št_pŞylib_visu®_£ts_š‹º®_Ãw
(
Çme
, 0, 
c¡
);

1890 
	}
}

1892 
	$´št_pŞylib_visu®_£ts
(* 
Çme
, 
PlutoCÚ¡¿šts
 *
c¡
)

1894 
	`´št_pŞylib_visu®_£ts_š‹º®
(
Çme
, 0, 
c¡
);

1896 
	}
}

1898 
PlutoD•Li¡
* 
	$¶uto_d•_li¡_®loc
(
D•
 *
d•
){

1899 
PlutoD•Li¡
 *
li¡
 = (PlutoD•Li¡ *)
	`m®loc
((PlutoDepList));

1900 
	`as£¹
(
d•
!ğ
NULL
);

1902 
li¡
->
d•
 = dep;

1903 
li¡
->
Ãxt
 = 
NULL
;

1904  
li¡
;

1905 
	}
}

1907 
	$¶uto_d•s_li¡_ä“
(
PlutoD•Li¡
 *
d•li¡
) {

1908 ià(
d•li¡
 =ğ
NULL
)

1910 
	`¶uto_d•s_li¡_ä“
(
d•li¡
->
Ãxt
);

1911 
	}
}

1913 
PlutoD•Li¡
* 
	$¶uto_d•s_li¡_dup
(
PlutoD•Li¡
 *
¤c
){

1915 
	`as£¹
(
¤c
 !ğ
NULL
);

1917 
PlutoD•Li¡
 *
Ãw
 = 
	`¶uto_d•_li¡_®loc
(
¤c
->
d•
);

1919 if(
¤c
->
Ãxt
 !ğ
NULL
) {

1920 
Ãw
->
Ãxt
 = 
	`¶uto_d•s_li¡_dup
(
¤c
->next);

1923  
Ãw
;

1924 
	}
}

1927 
	$¶uto_d•s_li¡_­³nd
(
PlutoD•Li¡
 *
li¡
, 
D•
 *
d•
) {

1929 
	`as£¹
(
li¡
 !ğ
NULL
);

1930 
	`as£¹
(
d•
 !ğ
NULL
);

1932 
PlutoD•Li¡
 *
Ãw
 = 
	`¶uto_d•_li¡_®loc
(
d•
);

1933 
Ãw
->
Ãxt
 = 
li¡
->next;

1934 
li¡
->
Ãxt
 = 
Ãw
;

1937 
	}
}

1939 
PlutoCÚ¡¿štsLi¡
* 
	$¶uto_cÚ¡¿šts_li¡_®loc
(
PlutoCÚ¡¿šts
 *
c¡
) {

1941 
PlutoCÚ¡¿štsLi¡
 *
li¡
 = (PlutoCÚ¡¿štsLi¡ *)
	`m®loc
((PlutoConstraintsList));

1942 
li¡
->
cÚ¡¿šts
 = 
c¡
;

1943 
li¡
->
d•s
 = 
NULL
;

1944 
li¡
->
Ãxt
 = 
NULL
;

1945  
li¡
;

1946 
	}
}

1948 
	$¶uto_cÚ¡¿šts_li¡_ä“
(
PlutoCÚ¡¿štsLi¡
 *
c¡li¡
) {

1949 ià(
c¡li¡
 =ğ
NULL
)

1951 
	`¶uto_cÚ¡¿šts_li¡_ä“
(
c¡li¡
->
Ãxt
);

1952 
	`¶uto_cÚ¡¿šts_ä“
(
c¡li¡
->
cÚ¡¿šts
);

1953 
	`¶uto_d•s_li¡_ä“
(
c¡li¡
->
d•s
);

1954 
	}
}

1958 
	$¶uto_cÚ¡¿šts_li¡_add
(
PlutoCÚ¡¿štsLi¡
 *
li¡
,cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
D•
 *
d•
, 
cİyD•
) {

1960 
	`as£¹
(
li¡
 !ğ
NULL
);

1961 
	`as£¹
(
c¡
 !ğ
NULL
);

1963 
PlutoCÚ¡¿štsLi¡
 *
Ãw
 = 
	`¶uto_cÚ¡¿šts_li¡_®loc
(
	`¶uto_cÚ¡¿šts_dup
(
c¡
));

1964 
Ãw
->
Ãxt
 = 
li¡
->next;

1965 
li¡
->
Ãxt
 = 
Ãw
;

1967 if(
cİyD•
) {

1968 
Ãw
->
d•s
 = 
	`¶uto_d•s_li¡_dup
(
li¡
->deps);

1969 
	`¶uto_d•s_li¡_­³nd
(
Ãw
->
d•s
,
d•
);

1972 
Ãw
->
d•s
 = 
	`¶uto_d•_li¡_®loc
(
d•
);

1975 
	}
}

1977 
	$¶uto_cÚ¡¿šts_li¡_»¶aû
(
PlutoCÚ¡¿štsLi¡
 *
li¡
, 
PlutoCÚ¡¿šts
 *
c¡
) {

1979 
	`as£¹
(
li¡
 !ğ
NULL
);

1980 
	`as£¹
(
c¡
 !ğ
NULL
);

1982 
	`¶uto_cÚ¡¿šts_ä“
(
li¡
->
cÚ¡¿šts
);

1983 
li¡
->
cÚ¡¿šts
 = 
	`¶uto_cÚ¡¿šts_dup
(
c¡
);

1986 
	}
}

1988 
	$¶uto_cÚ¡¿šts_g‘_num_equ®™›s
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

1990 
r
, 
couÁ
;

1992 
couÁ
 = 0;

1993 
r
=0;„<
c¡
->
Äows
;„++) {

1994 ià(
c¡
->
is_eq
[
r
]è
couÁ
++;

1996  
couÁ
;

1997 
	}
}

2000 
PlutoM©rix
 *
	$¶uto_cÚ¡¿šts_exŒaù_equ®™›s
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

2002 
r
, 
c
, 
couÁ
;

2004 
PlutoM©rix
 *
m©
 = 
	`¶uto_m©rix_®loc
(
	`¶uto_cÚ¡¿šts_g‘_num_equ®™›s
(
c¡
),

2005 
c¡
->
ncŞs
);

2007 
couÁ
=0;

2008 
r
=0;„<
c¡
->
Äows
;„++) {

2009 ià(
c¡
->
is_eq
[
r
]) {

2010 
c
=0; c<
c¡
->
ncŞs
; c++) {

2011 
m©
->
v®
[
couÁ
][
c
] = 
c¡
->v®[
r
][c];

2013 
couÁ
++;

2017  
m©
;

2018 
	}
}

2021 
	$¶uto_cÚ¡¿šts_»move_Çmes_sšgË
(
PlutoCÚ¡¿šts
 *
c¡
)

2023 
i
;

2025 ià(
c¡
->
Çmes
) {

2026 
i
=0; i<
c¡
->
ncŞs
-1; i++) {

2027 
	`ä“
(
c¡
->
Çmes
[
i
]);

2030 
	`ä“
(
c¡
->
Çmes
);

2031 
c¡
->
Çmes
 = 
NULL
;

2033 
	}
}

2039 
	$¶uto_cÚ¡¿šts_£t_Çmes
(
PlutoCÚ¡¿šts
 *
c¡
, **
Çmes
)

2041 
i
;

2043 ià(
c¡
->
Çmes
) {

2044 
i
=0; i<
c¡
->
ncŞs
-1; i++) {

2045 
	`ä“
(
c¡
->
Çmes
[
i
]);

2049 ià(!
c¡
->
Çmes
) {

2050 
c¡
->
Çmes
 = 
	`m®loc
((c¡->
ncŞs
-1)*(*));

2053 
	`as£¹
(
Çmes
);

2055 
i
=0; i<
c¡
->
ncŞs
-1; i++) {

2056 
c¡
->
Çmes
[
i
] =‚ames[i]? 
	`¡rdup
Òames[i]): 
NULL
;

2058 
	}
}

2060 
	$¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
PlutoCÚ¡¿šts
 *
c¡
, **
Çmes
,

2061 
de¡_off£t
, 
¤c_off£t
, 
num
)

2063 
i
;

2065 ià(
num
 == 0) ;

2067 
	`as£¹
(
Çmes
);

2068 
	`as£¹
(
de¡_off£t
+
num
 <ğ
c¡
->
ncŞs
-1);

2070 ià(!
c¡
->
Çmes
) {

2071 
c¡
->
Çmes
 = 
	`m®loc
((c¡->
ncŞs
-1)*(*));

2072 
i
=0; i<
c¡
->
ncŞs
-1; i++) {

2073 
c¡
->
Çmes
[
i
] = 
NULL
;

2076 
i
=0; i<
num
; i++) {

2077 
	`ä“
(
c¡
->
Çmes
[
de¡_off£t
+
i
]);

2081 
i
=0; i<
num
; i++) {

2082 ià(
Çmes
[
¤c_off£t
+
i
] !ğ
NULL
) {

2083 
c¡
->
Çmes
[
de¡_off£t
+
i
] = 
	`¡rdup
Òames[
¤c_off£t
+i]);

2085 
c¡
->
Çmes
[
de¡_off£t
+
i
] = 
NULL
;

2088 
	}
}

2097 
	$¶uto_cÚ¡¿šts_be¡_–im_ÿndid©e
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
max_–im
)

2099 
št64
 **
csm
;

2100 
št64
 
i
, 
j
, 
ub
, 
lb
, 
nb
, 
num_eq
, 
co¡
;

2102 
mš_co¡
 = 
c¡
->
Äows
*cst->nrows/4;

2103 
be¡_ÿndid©e
 = 
c¡
->
ncŞs
-2;

2105 
csm
 = 
c¡
->
v®
;

2107 
j
=
c¡
->
ncŞs
-2; j > c¡->ncŞs-2-
max_–im
; j--) {

2108 
ub
=0;

2109 
lb
=0;

2110 
nb
=0;

2111 
num_eq
 = 0;

2112 
i
=0; i < 
c¡
->
Äows
; i++) {

2113 ià(
c¡
->
is_eq
[
i
] && 
csm
[i][
j
] !ğ0è
num_eq
++;

2114 ià(
csm
[
i
][
j
] > 0è
ub
++;

2115 ià(
csm
[
i
][
j
] < 0è
lb
++;

2116 
nb
++;

2118 ià(
num_eq
 >ğ1è
co¡
 = 
c¡
->
Äows
-1;

2119 
co¡
 = 
lb
*
ub
 + 
nb
;

2120 ià(
co¡
 < 
mš_co¡
) {

2121 
mš_co¡
 = 
co¡
;

2122 
be¡_ÿndid©e
 = 
j
;

2126  
be¡_ÿndid©e
;

2127 
	}
}

2129 
PlutoCÚ¡¿šts
 *
	$¶uto_hy³½ÏÃ_g‘_nÚ_Ãg©ive_h®f_¥aû
(
Hy³½ÏÃ
 *
h
)

2131 
	`as£¹
(
h
->
Äows
 == 1);

2132 
	`as£¹
(
h
->
is_eq
[0]);

2134 
PlutoCÚ¡¿šts
 *
pos_h
 = 
	`¶uto_cÚ¡¿šts_dup
(
h
);

2135 
pos_h
->
is_eq
[0] = 0;

2136  
pos_h
;

2137 
	}
}

2139 
PlutoCÚ¡¿šts
 *
	$¶uto_hy³½ÏÃ_g‘_Ãg©ive_h®f_¥aû
(
Hy³½ÏÃ
 *
h
)

2141 
	`as£¹
(
h
->
Äows
 == 1);

2142 
	`as£¹
(
h
->
is_eq
[0]);

2144 
PlutoCÚ¡¿šts
 *
Ãg_h
 = 
	`¶uto_cÚ¡¿šts_dup
(
h
);

2145 
Ãg_h
->
is_eq
[0] = 0;

2146 
	`¶uto_cÚ¡¿šts_Ãg©e_row
(
Ãg_h
, 0);

2147 
Ãg_h
->
v®
[Ãg_h->
Äows
-1][Ãg_h->
ncŞs
-1] -= 1;

2148  
Ãg_h
;

2149 
	}
}

2154 
	$¶uto_cÚ¡¿šts_shiá_dim
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
, 
PlutoM©rix
 *
func
)

2156 
i
, 
j
;

2157 
	`as£¹
(
func
->
ncŞs
 =ğ
c¡
->ncols);

2158 
	`as£¹
(
func
->
Äows
 == 1);

2159 
	`as£¹
(
func
->
v®
[0][
pos
] == 0);

2161 
i
=0; i<
c¡
->
Äows
; i++) {

2162 
j
=0; j<
c¡
->
ncŞs
; j++) {

2163 ià(
j
 !ğ
pos
) {

2164 
c¡
->
v®
[
i
][
j
] -ğc¡->v®[i][
pos
]*
func
->val[0][j];

2168 
	}
}

2170 
	$¶uto_cÚ¡¿šts_is_ub
(
PlutoCÚ¡¿šts
 *
c¡
, 
row
, 
pos
)

2172 ià(
c¡
->
is_eq
[
row
])  0;

2173 ià(
c¡
->
v®
[
row
][
pos
] <= -1)  1;

2176 
	}
}

2178 
	$¶uto_cÚ¡¿šts_is_lb
(
PlutoCÚ¡¿šts
 *
c¡
, 
row
, 
pos
)

2180 ià(
c¡
->
is_eq
[
row
])  0;

2181 ià(
c¡
->
v®
[
row
][
pos
] >= 1)  1;

2184 
	}
}

2188 
	$¶uto_cÚ¡¿šts_»move_cÚ¡_ub
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

2190 
i
, 
j
, 
r
, 
Äows
, 
sum
;

2191 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
c¡
->
ncŞs
-2);

2193 
Äows
 = 
c¡
->nrows;

2195 
i
=0, 
r
=0;„<
Äows
;„++) {

2196 ià(
	`¶uto_cÚ¡¿šts_is_ub
(
c¡
, 
i
, 
pos
)) {

2197 
sum
 = 0;

2198 
j
=0; j<
c¡
->
ncŞs
-1; j++) {

2199 ià(
j
 !ğ
pos
) ;

2200 
sum
 +ğ
	`abs
(
c¡
->
v®
[
i
][
j
]);

2202 ià(
sum
 == 0) {

2203 
	`¶uto_cÚ¡¿šts_»move_row
(
c¡
, 
i
);

2207 
i
++;

2209 
	}
}

2212 
	$¶uto_cÚ¡¿šts_»move_cÚ¡_lb
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

2214 
i
, 
j
, 
r
, 
Äows
;

2215 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
c¡
->
ncŞs
-2);

2217 
Äows
 = 
c¡
->nrows;

2219 
i
=0, 
r
=0;„<
Äows
;„++) {

2220 ià(
	`¶uto_cÚ¡¿šts_is_lb
(
c¡
, 
i
, 
pos
)) {

2221 
sum
 = 0;

2222 
j
=0; j<
c¡
->
ncŞs
-1; j++) {

2223 ià(
j
 !ğ
pos
) ;

2224 
sum
 +ğ
	`abs
(
c¡
->
v®
[
i
][
j
]);

2226 ià(
sum
 == 0) {

2227 
	`¶uto_cÚ¡¿šts_»move_row
(
c¡
, 
i
);

2231 
i
++;

2233 
	}
}

2236 
	$¶uto_cÚ¡¿šts_»move_cÚ¡_bounds
(
PlutoCÚ¡¿šts
 *
c¡
)

2238 
i
;

2240 
i
=0; i<
c¡
->
ncŞs
-1; i++) {

2241 
	`¶uto_cÚ¡¿šts_»move_cÚ¡_lb
(
c¡
, 
i
);

2242 
	`¶uto_cÚ¡¿šts_»move_cÚ¡_ub
(
c¡
, 
i
);

2244 
	}
}

2251 
	$¶uto_cÚ¡¿šts_k“p_cÚÃùšg_cÚ¡¿šts
(
PlutoCÚ¡¿šts
 *
c¡
,

2252 
¡¬t1
, 
num1
, 
¡¬t2
, 
num2
)

2254 
i
, 
j1
, 
j2
, 
d–_couÁ
, 
Üig_Äows
;

2256 
	`as£¹
(
¡¬t1
 >ğ0 && s¹1 <ğ
c¡
->
ncŞs
-2);

2257 
	`as£¹
(
¡¬t2
 >ğ0 && s¹2 <ğ
c¡
->
ncŞs
-2);

2258 
	`as£¹
(
num1
 >= 0);

2259 
	`as£¹
(
num2
 >= 0);

2260 
	`as£¹
(
¡¬t1
 + 
num1
 - 1 < 
¡¬t2
 ||

2261 
¡¬t2
 + 
num2
 - 1 < 
¡¬t1
);

2262 
	`as£¹
(
¡¬t1
 + 
num1
 - 1 <ğ
c¡
->
ncŞs
-2);

2263 
	`as£¹
(
¡¬t2
 + 
num2
 - 1 <ğ
c¡
->
ncŞs
-2);

2267 
d–_couÁ
 = 0;

2268 
Üig_Äows
 = 
c¡
->
Äows
;

2269 
i
=0; i< 
Üig_Äows
; i++) {

2270 
j1
=
¡¬t1
; j1<¡¬t1+
num1
; j1++) {

2271 ià(
c¡
->
v®
[
i
-
d–_couÁ
][
j1
] != 0) {

2275 
j2
=
¡¬t2
; j2<¡¬t2+
num2
; j2++) {

2276 ià(
c¡
->
v®
[
i
-
d–_couÁ
][
j2
] != 0) {

2280 ià((
j1
 =ğ
¡¬t1
+
num1
 && 
j2
 < 
¡¬t2
+
num2
)

2281 || (
j1
 < 
¡¬t1
+
num1
 && 
j2
 =ğ
¡¬t2
+
num2
)) {

2282 
	`¶uto_cÚ¡¿šts_»move_row
(
c¡
, 
i
-
d–_couÁ
);

2283 
d–_couÁ
++;

2289  (
d–_couÁ
 >= 1);

2291 
	}
}

2302 
	$four›r_mÙzkš_–imš©e_sm¬t
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

2304 
i
, 
r
, 
k
, 
l
, 
p
, 
q
;

2305 
št64
 
lb
, 
ub
, 
nb
;

2306 *
bound
;

2309 
	`as£¹
(
c¡
->
ncŞs
 >= 2);

2310 
	`as£¹
(
pos
 >= 0);

2311 
	`as£¹
(
pos
 <ğ
c¡
->
ncŞs
-2);

2313 
i
=0; i<
c¡
->
Äows
; i++) {

2314 ià(
c¡
->
is_eq
[
i
] && c¡->
v®
[i][
pos
] != 0) {

2315 
	`¶uto_cÚ¡¿šts_gaussŸn_–imš©e
(
c¡
, 
pos
);

2316 
	`¶uto_cÚ¡¿šts_sim¶ify
(
c¡
);

2321 
PlutoCÚ¡¿šts
 *
Ãwc¡
;

2323 
i
=0; i<
c¡
->
Äows
; i++) {

2324 ià(
c¡
->
v®
[
i
][
pos
] != 0) ;

2327 ià(
i
==
c¡
->
Äows
) {

2328 
Ãwc¡
 = 
	`¶uto_cÚ¡¿šts_dup_sšgË
(
c¡
);

2329 
	`¶uto_cÚ¡¿šts_»move_dim
(
Ãwc¡
, 
pos
);

2331 
bound
 = (*è
	`m®loc
(
c¡
->
Äows
*());

2333 
lb
=0;

2334 
ub
=0;

2335 
nb
=0;

2337 
r
=0;„<
c¡
->
Äows
;„++) {

2338 ià(
c¡
->
v®
[
r
][
pos
] == 0) {

2339 
bound
[
r
] = 
NB
;

2340 
nb
++;

2341 }ià(
c¡
->
v®
[
r
][
pos
] >= 1) {

2342 
bound
[
r
] = 
LB
;

2343 
lb
++;

2345 
bound
[
r
] = 
UB
;

2346 
ub
++;

2349 
Ãwc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
lb
*
ub
+
nb
, 
c¡
->
ncŞs
-1);

2350 
Ãwc¡
->
Äows
 = 0;

2352 
p
=0;

2353 
r
=0;„<
c¡
->
Äows
;„++) {

2354 ià(
bound
[
r
] =ğ
UB
) {

2355 
k
=0; k<
c¡
->
Äows
; k++) {

2356 ià(
bound
[
k
] =ğ
LB
) {

2357 
q
 = 0;

2358 
l
=0;† < 
c¡
->
ncŞs
;†++) {

2359 ià(
l
!=
pos
) {

2360 
Ãwc¡
->
v®
[
p
][
q
] =

2361 
c¡
->
v®
[
r
][
l
]*(
	`lcm
(c¡->v®[
k
][
pos
],

2362 -
c¡
->
v®
[
r
][
pos
])/(-cst->val[r][pos]))

2363 + 
c¡
->
v®
[
k
][
l
]*(
	`lcm
(-c¡->v®[
r
][
pos
],

2364 
c¡
->
v®
[
k
][
pos
])/cst->val[k][pos]);

2365 
q
++;

2368 
Ãwc¡
->
is_eq
[
p
] = 0;

2369 
p
++;

2372 }ià(
bound
[
r
] =ğ
NB
) {

2373 
q
 = 0;

2374 
l
=0;†<
c¡
->
ncŞs
;†++) {

2375 ià(
l
!=
pos
) {

2376 
Ãwc¡
->
v®
[
p
][
q
] = 
c¡
->v®[
r
][
l
];

2377 
q
++;

2380 
Ãwc¡
->
is_eq
[
p
] = 
c¡
->is_eq[
r
];

2381 
p
++;

2384 
	`as£¹
(
p
 =ğ
lb
*
ub
 + 
nb
);

2385 
Ãwc¡
->
Äows
 = 
p
;

2386 
	`ä“
(
bound
);

2389 
	`¶uto_cÚ¡¿šts_sim¶ify
(
Ãwc¡
);

2390 
	`¶uto_cÚ¡¿šts_cİy_sšgË
(
c¡
, 
Ãwc¡
);

2391 
	`¶uto_cÚ¡¿šts_ä“
(
Ãwc¡
);

2393 ià(
c¡
->
Ãxt
 !ğ
NULL
è
	`four›r_mÙzkš_–imš©e
(c¡->Ãxt,
pos
);

2394 
	}
}

2397 
	$¶uto_cÚ¡¿šts_gaussŸn_–imš©e
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
)

2399 
r
, 
r2
, 
c
;

2400 
çùÜ1
, 
çùÜ2
;

2402 
	`as£¹
(
pos
 >= 0);

2403 
	`as£¹
(
pos
 <ğ
c¡
->
ncŞs
-2);

2409 
r
=0;„<
c¡
->
Äows
;„++) {

2410 ià(
c¡
->
is_eq
[
r
] && c¡->
v®
[r][
pos
] != 0) {

2415 ià(
r
 =ğ
c¡
->
Äows
) {

2416 
	`´štf
("Can'tƒliminate dimension via GE\n");

2417 
	`as£¹
(0);

2421 
r2
=0;„2<
c¡
->
Äows
;„2++) {

2422 ià(
r2
 =ğ
r
 || 
c¡
->
v®
[r2][
pos
] == 0) ;

2423 ià(
c¡
->
v®
[
r2
][
pos
] >= 1) {

2424 
çùÜ1
 = 
	`lcm
(
	`Îabs
(
c¡
->
v®
[
r
][
pos
]),

2425 
	`Îabs
(
c¡
->
v®
[
r2
][
pos
]))/cst->val[r2][pos];

2426 
çùÜ2
 = 
	`lcm
(
	`Îabs
(
c¡
->
v®
[
r
][
pos
]),Îabs(c¡->v®[
r2
][pos]))/cst->val[r][pos];

2427 }ià(
c¡
->
v®
[
r2
][
pos
] <= -1) {

2428 
çùÜ1
 = -
	`lcm
(
	`Îabs
(
c¡
->
v®
[
r
][
pos
]),

2429 
	`Îabs
(
c¡
->
v®
[
r2
][
pos
]))/cst->val[r2][pos];

2430 
çùÜ2
 = -
	`lcm
(
	`Îabs
(
c¡
->
v®
[
r
][
pos
]),Îabs(c¡->v®[
r2
][pos]))/cst->val[r][pos];

2432 
c
=0; c<
c¡
->
ncŞs
; c++) {

2433 
c¡
->
v®
[
r2
][
c
] = c¡->v®[r2][c]*
çùÜ1


2434 - 
c¡
->
v®
[
r
][
c
]*
çùÜ2
;

2437 
	`¶uto_cÚ¡¿šts_»move_row
(
c¡
, 
r
);

2442 
	`¶uto_cÚ¡¿šts_»move_dim
(
c¡
, 
pos
);

2444 ià(
c¡
->
Ãxt
 !ğ
NULL
è
	`¶uto_cÚ¡¿šts_gaussŸn_–imš©e
(c¡->Ãxt, 
pos
);

2445 
	}
}

	@constraints.h

20 #iâdeà
_CONSTRAINTS_H


21 
	#_CONSTRAINTS_H


	)

23 
	~"i¦/£t.h
"

24 
	~"m©h_suµÜt.h
"

26 
	#št64
 

	)

31 
	s¶uto_cÚ¡¿šts
 {

33 
št64
 **
	mv®
;

36 
št64
 *
	mbuf
;

39 
	mÄows
;

41 
	mncŞs
;

44 *
	mis_eq
;

47 
	m®loc_Äows
;

48 
	m®loc_ncŞs
;

51 **
	mÇmes
;

53 
¶uto_cÚ¡¿šts
 *
	mÃxt
;

56 
¶uto_cÚ¡¿šts
 
	tPlutoCÚ¡¿šts
;

59 
PlutoCÚ¡¿šts
 
	tPlutoEqu®™y
;

60 
PlutoCÚ¡¿šts
 
	tHy³½ÏÃ
;

63 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_®loc
(
Äows
, 
ncŞs
);

64 
¶uto_cÚ¡¿šts_ä“
(
PlutoCÚ¡¿šts
 *);

65 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_äom_equ®™›s
(cÚ¡ 
PlutoM©rix
 *
m©
);

66 
¶uto_cÚ¡¿šts_»size
(
PlutoCÚ¡¿šts
 *, , );

67 
¶uto_cÚ¡¿šts_»size_sšgË
(
PlutoCÚ¡¿šts
 *
c¡
, 
Äows
, 
ncŞs
);

68 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_cİy
(PlutoCÚ¡¿št *
de¡
, cÚ¡ PlutoCÚ¡¿št *
¤c
);

69 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_cİy_sšgË
(PlutoCÚ¡¿št *
de¡
, cÚ¡ PlutoCÚ¡¿št *
¤c
);

70 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_dup
(cÚ¡ PlutoCÚ¡¿št *
¤c
);

71 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_dup_sšgË
(cÚ¡ PlutoCÚ¡¿št *
¤c
);

73 
four›r_mÙzkš_–imš©e
(
PlutoCÚ¡¿šts
 *, 
n
);

74 
four›r_mÙzkš_–imš©e_sm¬t
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
);

76 
PlutoM©rix
 *
¶uto_cÚ¡¿šts_to_p_m©rix
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, PlutoM©rix *
pm©
);

77 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_to_pu»_šequ®™›s_sšgË
(cÚ¡ PlutoCÚ¡¿št *
c¡
);

78 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_äom_šequ®™›s
(cÚ¡ 
PlutoM©rix
 *
m©
);

80 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_add
(PlutoConstraints *, const PlutoConstraints *);

81 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_add_to_—ch
(PlutoCÚ¡¿št *
c¡1
, cÚ¡ PlutoCÚ¡¿št *
c¡2
);

83 
¶uto_cÚ¡¿šts_sim¶ify
(
PlutoCÚ¡¿šts
 *cÚ¡ 
c¡
);

85 
št64
 *
¶uto_cÚ¡¿šts_Ëxmš
(cÚ¡ 
PlutoCÚ¡¿šts
 *,);

86 
št64
 *
¶uto_cÚ¡¿šts_Ëxmš_i¦
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
Ãgv¬
);

87 
št64
 *
¶uto_cÚ¡¿šts_Ëxmš_p
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
Ãgv¬
);

88 
¶uto_cÚ¡¿šts_add_šequ®™y
(
PlutoCÚ¡¿šts
 *
c¡
);

89 
¶uto_cÚ¡¿šts_add_equ®™y
(
PlutoCÚ¡¿šts
 *
c¡
);

90 
¶uto_cÚ¡¿šts_add_cÚ¡¿št
(
PlutoCÚ¡¿šts
 *
c¡
, 
is_eq
);

91 
¶uto_cÚ¡¿šts_add_dim
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
, cÚ¡ *
Çme
);

92 
¶uto_cÚ¡¿šts_»move_row
(
PlutoCÚ¡¿šts
 *, );

93 
¶uto_cÚ¡¿šts_»move_dim
(
PlutoCÚ¡¿šts
 *, );

95 
¶uto_cÚ¡¿šts_add_lb
(
PlutoCÚ¡¿šts
 *
c¡
, 
v¬num
, 
št64
 
lb
);

96 
¶uto_cÚ¡¿šts_add_ub
(
PlutoCÚ¡¿šts
 *
c¡
, 
v¬num
, 
št64
 
ub
);

97 
¶uto_cÚ¡¿šts_£t_v¬
(
PlutoCÚ¡¿šts
 *
c¡
, 
v¬num
, 
št64
 
v®
);

99 
¶uto_cÚ¡¿šts_z”o_row
(
PlutoCÚ¡¿šts
 *, );

100 
¶uto_cÚ¡¿šts_nÜm®ize_row
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
);

101 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_£Ëù_row
(cÚ¡ PlutoCÚ¡¿št *
c¡
, 
pos
);

102 
¶uto_cÚ¡¿šts_Ãg©e_row
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
);

103 
¶uto_cÚ¡¿šts_Ãg©e_cÚ¡¿št
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
);

104 
¶uto_cÚ¡¿šts_š‹rchªge_cŞs
(
PlutoCÚ¡¿šts
 *
c¡
, 
cŞ1
, 
cŞ2
);

106 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_»ad
(
FILE
 *
å
);

108 
¶uto_cÚ¡¿šts_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *);

109 
¶uto_cÚ¡¿šts_´‘ty_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

110 
¶uto_cÚ¡¿šts_com·ù_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

111 
¶uto_cÚ¡¿šts_´št_pŞylib
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

112 
PlutoM©rix
 *
¶uto_cÚ¡¿šts_to_m©rix
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

113 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_äom_m©rix
(cÚ¡ 
PlutoM©rix
 *
m©
);

114 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_äom_mixed_m©rix
(cÚ¡ 
PlutoM©rix
 *
m©
, *
is_eq
);

115 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_image
(cÚ¡ PlutoCÚ¡¿št *
c¡
, cÚ¡ 
PlutoM©rix
 *
func
);

116 
¶uto_cÚ¡¿šts_´ojeù_out
(
PlutoCÚ¡¿šts
 *
c¡
, 
¡¬t
, 
’d
);

118 
¶uto_cÚ¡¿šts_´ojeù_out_i¦_sšgË
(

119 
PlutoCÚ¡¿šts
 **
c¡
,

120 
¡¬t
,

121 
num
);

124 
¶uto_cÚ¡¿šts_num_š_li¡
(cÚ¡ 
PlutoCÚ¡¿šts
 *cÚ¡ 
c¡
);

126 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_š‹r£ùiÚ
(cÚ¡ PlutoCÚ¡¿št *
c¡1
,

127 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

128 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_š‹r£ù
(PlutoCÚ¡¿št *
c¡1
,

129 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

130 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_difã»nû
(cÚ¡ PlutoCÚ¡¿št *
c¡1
,

131 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

132 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_subŒaù
(PlutoCÚ¡¿št *
c¡1
,

133 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

134 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_uniÚ
(cÚ¡ PlutoCÚ¡¿št *
c¡1
,

135 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

136 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_uniÚize
(PlutoCÚ¡¿št *
c¡1
,

137 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

138 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_uniÚize_sim¶e
(PlutoCÚ¡¿št *
c¡1
,

139 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

141 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_š‹r£ù_i¦
(PlutoCÚ¡¿št *
c¡1
,

142 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

144 
¶uto_cÚ¡¿šts_g‘_cÚ¡_ub
(cÚ¡ 
PlutoCÚ¡¿šts
 *
ú¡
, 
d•th
, 
št64
 *
ub
);

145 
¶uto_cÚ¡¿šts_g‘_cÚ¡_lb
(cÚ¡ 
PlutoCÚ¡¿šts
 *
ú¡
, 
d•th
, 
št64
 *
lb
);

147 
¶uto_cÚ¡¿šts_»move_cÚ¡_bounds
(
PlutoCÚ¡¿šts
 *
c¡
);

149 
¶uto_cÚ¡¿šts_is_em±y
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

150 
¶uto_cÚ¡¿šts_¬e_equ®
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
, cÚ¡ PlutoCÚ¡¿št *
c¡2
);

152 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_em±y
(
ncŞs
);

153 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_univ”£
(
ncŞs
);

154 
¶uto_cÚ¡¿šts_£t_Çmes
(
PlutoCÚ¡¿šts
 *
c¡
, **
Çmes
);

155 
¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
PlutoCÚ¡¿šts
 *
c¡
, **
Çmes
,

156 
de¡_off£t
, 
¤c_off£t
, 
num
);

158 
¶uto_cÚ¡¿šts_£t_Çmes
(
PlutoCÚ¡¿šts
 *
c¡
, **
Çmes
);

159 
¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
PlutoCÚ¡¿šts
 *
c¡
, **
Çmes
,

160 
de¡_off£t
, 
¤c_off£t
, 
num
);

162 
´št_pŞylib_visu®_£ts
(* 
Çme
, 
PlutoCÚ¡¿šts
 *
c¡
);

163 
´št_pŞylib_visu®_£ts_Ãw
(* 
Çme
, 
PlutoCÚ¡¿šts
 *
c¡
);

165 
__i¦_give
 
i¦_£t
 *
i¦_£t_äom_¶uto_cÚ¡¿šts
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
,

166 
i¦_ùx
 *
ùx
);

167 
PlutoCÚ¡¿šts
 *
i¦_£t_to_¶uto_cÚ¡¿šts
(
__i¦_k“p
 
i¦_£t
 *
£t
);

168 
__i¦_give
 
i¦_basic_£t
 *
i¦_basic_£t_äom_¶uto_cÚ¡¿šts
(
i¦_ùx
 *
ùx
,

169 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

170 
PlutoCÚ¡¿šts
 *
i¦_basic_£t_to_¶uto_cÚ¡¿šts
(

171 
__i¦_k“p
 
i¦_basic_£t
 *
b£t
);

172 
PlutoCÚ¡¿šts
 *
i¦_basic_m­_to_¶uto_cÚ¡¿šts
(

173 
__i¦_k“p
 
i¦_basic_m­
 *
bm­
);

174 
i¦_basic_m­_to_¶uto_cÚ¡¿šts_func_¬g
(
__i¦_k“p
 
i¦_basic_m­
 *
bm­
,

175 *
u£r
);

176 
__i¦_give
 
i¦_basic_m­
 *
i¦_basic_m­_äom_¶uto_cÚ¡¿šts
(

177 
i¦_ùx
 *
ùx
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
n_·r
, 
n_š
, 
n_out
);

178 
¶uto_cÚ¡¿šts_»move_Çmes_sšgË
(
PlutoCÚ¡¿šts
 *
c¡
);

180 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_uniÚize_i¦
(PlutoCÚ¡¿št *
c¡1
,

181 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

182 
PlutoCÚ¡¿šts
 *
¶uto_cÚ¡¿šts_uniÚ_i¦
(cÚ¡ PlutoCÚ¡¿št *
c¡1
,

183 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
);

185 
PlutoM©rix
 *
¶uto_cÚ¡¿šts_exŒaù_equ®™›s
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

186 
¶uto_cÚ¡¿šts_be¡_–im_ÿndid©e
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
max_–im
);

187 
PlutoCÚ¡¿šts
 *
¶uto_hy³½ÏÃ_g‘_Ãg©ive_h®f_¥aû
(
Hy³½ÏÃ
 *
h
);

188 
PlutoCÚ¡¿šts
 *
¶uto_hy³½ÏÃ_g‘_nÚ_Ãg©ive_h®f_¥aû
(
Hy³½ÏÃ
 *
h
);

189 
¶uto_cÚ¡¿šts_shiá_dim
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
, 
PlutoM©rix
 *
func
);

190 
¶uto_cÚ¡¿šts_»move_Çmes_sšgË
(
PlutoCÚ¡¿šts
 *
c¡
);

192 
¶uto_cÚ¡¿šts_»move_Çmes_sšgË
(
PlutoCÚ¡¿šts
 *
c¡
);

194 
¶uto_cÚ¡¿šts_ıËx_´št
(
FILE
 *
å
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

196 
¶uto_cÚ¡¿šts_k“p_cÚÃùšg_cÚ¡¿šts
(
PlutoCÚ¡¿šts
 *
c¡
,

197 
¡¬t1
, 
num1
, 
¡¬t2
, 
num2
);

199 
PlutoCÚ¡¿šts
 *
çrkas_Ëmma_affše
(cÚ¡ PlutoCÚ¡¿št *
dom
, cÚ¡ 
PlutoM©rix
 *
phi
);

200 
¶uto_cÚ¡¿šts_gaussŸn_–imš©e
(
PlutoCÚ¡¿šts
 *
c¡
, 
pos
);

	@constraints_isl.c

5 
	~<¡dio.h
>

6 
	~<¡dlib.h
>

7 
	~<m©h.h
>

8 
	~<as£¹.h
>

9 
	~<¡ršg.h
>

10 
	~<uni¡d.h
>

11 
	~<sys/time.h
>

13 
	~"m©h_suµÜt.h
"

14 
	~"cÚ¡¿šts.h
"

15 
	~"¶uto.h
"

17 
	~"i¦/m­.h
"

18 
	~"i¦/£t.h
"

19 
	~"i¦/v®_gmp.h
"

22 
	$¶uto_cÚ¡¿šts_´ojeù_out_i¦
(

23 
PlutoCÚ¡¿šts
 *
c¡
,

24 
¡¬t
,

25 
num
)

27 
’d
;

28 
i¦_£t
 *
£t
;

30 
	`as£¹
(
num
>= 0);

31 ià(
num
 == 0) ;

33 
’d
 = 
¡¬t
 + 
num
 - 1;

34 
	`as£¹
(
¡¬t
 >ğ0 && 
’d
 <ğ
c¡
->
ncŞs
-2);

36 
£t
 = 
	`i¦_£t_äom_¶uto_cÚ¡¿šts
(
c¡
, 
NULL
);

37 
£t
 = 
	`i¦_£t_´ojeù_out
(£t, 
i¦_dim_£t
, 
¡¬t
, 
num
);

38 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

39 
c¡
 = 
	`i¦_£t_to_¶uto_cÚ¡¿šts
(
£t
);

40 
	`i¦_£t_ä“
(
£t
);

41 
	}
}

44 
	$¶uto_cÚ¡¿šts_´ojeù_out_i¦_sšgË
(

45 
PlutoCÚ¡¿šts
 **
c¡
,

46 
¡¬t
,

47 
num
)

49 
’d
;

50 
i¦_basic_£t
 *
b£t
;

52 
	`as£¹
(
num
 >= 0);

53 ià(
num
 == 0) ;

55 
’d
 = 
¡¬t
 + 
num
 - 1;

56 
	`as£¹
(
¡¬t
 >ğ0 && 
’d
 <ğ(*
c¡
)->
ncŞs
-2);

58 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

59 
b£t
 = 
	`i¦_basic_£t_äom_¶uto_cÚ¡¿šts
(
ùx
, *
c¡
);

60 
b£t
 = 
	`i¦_basic_£t_´ojeù_out
(b£t, 
i¦_dim_£t
, 
¡¬t
, 
num
);

61 
	`¶uto_cÚ¡¿šts_ä“
(*
c¡
);

62 *
c¡
 = 
	`i¦_basic_£t_to_¶uto_cÚ¡¿šts
(
b£t
);

63 
	`i¦_basic_£t_ä“
(
b£t
);

64 
	`i¦_ùx_ä“
(
ùx
);

65 
	}
}

71 
__i¦_give
 
i¦_basic_£t
 *
	$i¦_basic_£t_äom_¶uto_cÚ¡¿šts
(

72 
i¦_ùx
 *
ùx
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

74 
i
, 
j
;

75 
n_eq
 = 0, 
n_šeq
 = 0;

76 
i¦_¥aû
 *
dim
;

77 
i¦_m©
 *
eq
, *
šeq
;

78 
i¦_basic_£t
 *
b£t
;

80 
i
 = 0; i < 
c¡
->
Äows
; ++i)

81 ià(
c¡
->
is_eq
[
i
])

82 
n_eq
++;

84 
n_šeq
++;

86 
eq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_eq
, 
c¡
->
ncŞs
);

87 
šeq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_šeq
, 
c¡
->
ncŞs
);

89 
dim
 = 
	`i¦_¥aû_£t_®loc
(
ùx
, 0, 
c¡
->
ncŞs
 - 1);

91 
n_eq
 = 
n_šeq
 = 0;

92 
i
 = 0; i < 
c¡
->
Äows
; ++i) {

93 
i¦_m©
 **
m
;

94 
row
;

96 ià(
c¡
->
is_eq
[
i
]) {

97 
m
 = &
eq
;

98 
row
 = 
n_eq
++;

100 
m
 = &
šeq
;

101 
row
 = 
n_šeq
++;

104 
j
 = 0; j < 
c¡
->
ncŞs
; ++j) {

105 
mpz_t
 
tmp
, 
Úe
;

106 
	`mpz_š™
(
tmp
);

107 
	`mpz_š™
(
Úe
);

108 
	`mpz_£t_ui
(
Úe
, 1);

109 
	`mpz_£t_¦l
(
tmp
, 
c¡
->
v®
[
i
][
j
]);

110 
i¦_v®
 *
v
 = 
	`i¦_v®_äom_gmp
(
ùx
, 
tmp
, 
Úe
);

111 *
m
 = 
	`i¦_m©_£t_–em’t_v®
(*m, 
row
, 
j
, 
v
);

112 
	`mpz_ş—r
(
tmp
);

113 
	`mpz_ş—r
(
Úe
);

117 
b£t
 = 
	`i¦_basic_£t_äom_cÚ¡¿št_m©riûs
(
dim
, 
eq
, 
šeq
,

118 
i¦_dim_£t
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

119  
b£t
;

120 
	}
}

125 
__i¦_give
 
i¦_£t
 *
	$i¦_£t_äom_¶uto_cÚ¡¿šts
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
,

126 
i¦_ùx
 *
ùx
)

128 
i¦_£t
 *
£t
;

130 
i¦_¥aû
 *
dim
 = 
	`i¦_¥aû_£t_®loc
(
ùx
, 0, 
c¡
->
ncŞs
 - 1);

131 
£t
 = 
	`i¦_£t_em±y
(
dim
);

133 
c¡
 !ğ
NULL
) {

134 
i¦_basic_£t
 *
b£t
 = 
	`i¦_basic_£t_äom_¶uto_cÚ¡¿šts
(
ùx
, 
c¡
);

135 
£t
 = 
	`i¦_£t_uniÚ
(£t, 
	`i¦_£t_äom_basic_£t
(
b£t
));

136 
c¡
 = c¡->
Ãxt
;

139  
£t
;

140 
	}
}

142 
	$exŒaù_basic_£t_cÚ¡¿šts
(
__i¦_ke
 
i¦_basic_£t
 *
b£t
, *
u¤
)

144 
PlutoCÚ¡¿šts
 **
c¡
 = (PlutoCÚ¡¿št **è
u¤
;

146 
PlutoCÚ¡¿šts
 *
bc¡
 = 
	`i¦_basic_£t_to_¶uto_cÚ¡¿šts
(
b£t
);

147 
	`i¦_basic_£t_ä“
(
b£t
);

149 ià(*
c¡
 =ğ
NULL
è*c¡ = 
bc¡
;

153 
	`¶uto_cÚ¡¿šts_uniÚize_sim¶e
(*
c¡
, 
bc¡
);

154 
	`¶uto_cÚ¡¿šts_ä“
(
bc¡
);

158 
	}
}

161 
PlutoCÚ¡¿šts
 *
	$i¦_£t_to_¶uto_cÚ¡¿šts
(
__i¦_k“p
 
i¦_£t
 *
£t
)

163 
PlutoCÚ¡¿šts
 *
c¡
 = 
NULL
;

164 
	`as£¹
(
£t
 !ğ
NULL
);

165 
	`i¦_£t_fÜ—ch_basic_£t
(
£t
, &
exŒaù_basic_£t_cÚ¡¿šts
, &
c¡
);

166 ià(
c¡
 =ğ
NULL
èc¡ = 
	`¶uto_cÚ¡¿šts_em±y
(
	`i¦_£t_dim
(
£t
,

167 
i¦_dim_£t
)+ 
	`i¦_£t_dim
(
£t
, 
i¦_dim_·¿m
)+ 1);

168  
c¡
;

169 
	}
}

175 
__i¦_give
 
i¦_basic_m­
 *
	$i¦_basic_m­_äom_¶uto_cÚ¡¿šts
(

176 
i¦_ùx
 *
ùx
, cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
n_š
, 
n_out
,

177 
n_·r
)

179 
i
, 
j
;

180 
n_eq
 = 0, 
n_šeq
 = 0;

181 
i¦_m©
 *
eq
, *
šeq
;

182 
i¦_basic_m­
 *
bm­
;

183 
i¦_¥aû
 *
¥aû
;

185 
	`as£¹
(
c¡
->
ncŞs
 =ğ
n_š
 + 
n_out
 + 
n_·r
 + 1);

187 
¥aû
 = 
	`i¦_¥aû_®loc
(
ùx
, 
n_·r
, 
n_š
, 
n_out
);

189 
i
 = 0; i < 
c¡
->
Äows
; ++i) {

190 ià(
c¡
->
is_eq
[
i
]è
n_eq
++;

191 
n_šeq
++;

194 
eq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_eq
, 
c¡
->
ncŞs
);

195 
šeq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_šeq
, 
c¡
->
ncŞs
);

197 
n_eq
 = 
n_šeq
 = 0;

198 
i
 = 0; i < 
c¡
->
Äows
; ++i) {

199 
i¦_m©
 **
m
;

200 
row
;

202 ià(
c¡
->
is_eq
[
i
]) {

203 
m
 = &
eq
;

204 
row
 = 
n_eq
++;

206 
m
 = &
šeq
;

207 
row
 = 
n_šeq
++;

210 
j
 = 0; j < 
c¡
->
ncŞs
; ++j) {

211 *
m
 = 
	`i¦_m©_£t_–em’t_si
(*m, 
row
, 
j
, 
c¡
->
v®
[
i
][j]);

215 
bm­
 = 
	`i¦_basic_m­_äom_cÚ¡¿št_m©riûs
(
¥aû
, 
eq
, 
šeq
,

216 
i¦_dim_out
, 
i¦_dim_š
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

217  
bm­
;

218 
	}
}

225 
PlutoCÚ¡¿šts
 *
	$i¦_basic_£t_to_¶uto_cÚ¡¿šts
(

226 
__i¦_k“p
 
i¦_basic_£t
 *
b£t
)

228 
i
, 
j
;

229 
eq_row
;

230 
šeq_row
;

231 
n_cŞ
;

232 
i¦_m©
 *
eq
, *
šeq
;

233 
PlutoCÚ¡¿šts
 *
cÚs
;

234 
i¦_basic_£t
 *
b£t_c
;

236 
b£t_c
 = 
	`i¦_basic_£t_»move_divs
(
	`i¦_basic_£t_cİy
(
b£t
));

238 
eq
 = 
	`i¦_basic_£t_equ®™›s_m©rix
(
b£t_c
,

239 
i¦_dim_£t
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

240 
šeq
 = 
	`i¦_basic_£t_šequ®™›s_m©rix
(
b£t_c
,

241 
i¦_dim_£t
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

242 
	`i¦_basic_£t_ä“
(
b£t_c
);

244 
eq_row
 = 
	`i¦_m©_rows
(
eq
);

245 
šeq_row
 = 
	`i¦_m©_rows
(
šeq
);

246 
n_cŞ
 = 
	`i¦_m©_cŞs
(
eq
);

248 
cÚs
 = 
	`¶uto_cÚ¡¿šts_®loc
(
eq_row
 + 
šeq_row
, 
n_cŞ
);

249 
cÚs
->
Äows
 = 
eq_row
 + 
šeq_row
;

251 
i
 = 0; i < 
eq_row
; ++i) {

252 
cÚs
->
is_eq
[
i
] = 1;

253 
j
 = 0; j < 
n_cŞ
; ++j) {

254 
i¦_v®
 *
v
 = 
	`i¦_m©_g‘_–em’t_v®
(
eq
, 
i
, 
j
);

255 
cÚs
->
v®
[
i
][
j
] = 
	`i¦_v®_g‘_num_Î
(
v
);

256 
	`i¦_v®_ä“
(
v
);

260 
i
 = 0; i < 
šeq_row
; ++i) {

261 
cÚs
->
is_eq
[
eq_row
+
i
] = 0;

262 
j
 = 0; j < 
n_cŞ
; ++j) {

263 
i¦_v®
 *
v
 = 
	`i¦_m©_g‘_–em’t_v®
(
šeq
, 
i
, 
j
);

264 
cÚs
->
v®
[
eq_row
 + 
i
][
j
] = 
	`i¦_v®_g‘_num_Î
(
v
);

265 
	`i¦_v®_ä“
(
v
);

269 
	`i¦_m©_ä“
(
eq
);

270 
	`i¦_m©_ä“
(
šeq
);

272  
cÚs
;

273 
	}
}

276 
PlutoCÚ¡¿šts
 *
	$i¦_basic_m­_to_¶uto_cÚ¡¿šts
(

277 
__i¦_k“p
 
i¦_basic_m­
 *
bm­
)

279 
PlutoCÚ¡¿šts
 *
c¡
;

281 
	`i¦_basic_m­_to_¶uto_cÚ¡¿šts_func_¬g
(

282 
	`i¦_basic_m­_cİy
(
bm­
), &
c¡
);

284  
c¡
;

285 
	}
}

288 
	$i¦_basic_m­_to_¶uto_cÚ¡¿šts_func_¬g
(

289 
__i¦_ke
 
i¦_basic_m­
 *
bm­
, *
u£r
)

291 
i
, 
j
;

292 
eq_row
;

293 
šeq_row
;

294 
n_cŞ
;

295 
i¦_m©
 *
eq
, *
šeq
;

296 
PlutoCÚ¡¿šts
 *
cÚs
;

298 
eq
 = 
	`i¦_basic_m­_equ®™›s_m©rix
(
bm­
,

299 
i¦_dim_š
, 
i¦_dim_out
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

300 
šeq
 = 
	`i¦_basic_m­_šequ®™›s_m©rix
(
bm­
,

301 
i¦_dim_š
, 
i¦_dim_out
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

303 
eq_row
 = 
	`i¦_m©_rows
(
eq
);

304 
šeq_row
 = 
	`i¦_m©_rows
(
šeq
);

305 
n_cŞ
 = 
	`i¦_m©_cŞs
(
eq
);

307 
cÚs
 = 
	`¶uto_cÚ¡¿šts_®loc
(
eq_row
 + 
šeq_row
, 
n_cŞ
);

308 
cÚs
->
Äows
 = 
eq_row
 + 
šeq_row
;

310 
i
 = 0; i < 
eq_row
; ++i) {

311 
cÚs
->
is_eq
[
i
] = 1;

312 
j
 = 0; j < 
n_cŞ
; ++j) {

313 
i¦_v®
 *
v
 = 
	`i¦_m©_g‘_–em’t_v®
(
eq
, 
i
, 
j
);

314 
cÚs
->
v®
[
i
][
j
] = 
	`i¦_v®_g‘_num_Î
(
v
);

315 
	`i¦_v®_ä“
(
v
);

319 
i
 = 0; i < 
šeq_row
; ++i) {

320 
cÚs
->
is_eq
[
eq_row
+
i
] = 0;

321 
j
 = 0; j < 
n_cŞ
; ++j) {

322 
i¦_v®
 *
v
 = 
	`i¦_m©_g‘_–em’t_v®
(
šeq
, 
i
, 
j
);

323 
cÚs
->
v®
[
eq_row
 + 
i
][
j
] = 
	`i¦_v®_g‘_num_Î
(
v
);

324 
	`i¦_v®_ä“
(
v
);

328 
	`i¦_m©_ä“
(
eq
);

329 
	`i¦_m©_ä“
(
šeq
);

330 
	`i¦_basic_m­_ä“
(
bm­
);

332 *(
PlutoCÚ¡¿šts
 **)
u£r
 = 
cÚs
;

334 
	}
}

339 
št64
 *
	$¶uto_cÚ¡¿šts_Ëxmš_i¦
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
Ãgv¬
)

341 
i
;

342 
št64
 *
sŞ
;

343 
i¦_ùx
 *
ùx
;

344 
i¦_basic_£t
 *
b£t
, *
®l_pos™ive
;

345 
i¦_£t
 *
domaš
, *
®l_pos™ive_£t
, *
Ëxmš
;

347 
	`IF_DEBUG2
(
	`´štf
("[pluto]…luto_constraints_lexmin_isl (%d variables, %d constraints)\n",

348 
c¡
->
ncŞs
-1, c¡->
Äows
););

350 
ùx
 = 
	`i¦_ùx_®loc
();

351 
b£t
 = 
	`i¦_basic_£t_äom_¶uto_cÚ¡¿šts
(
ùx
, 
c¡
);

352 
domaš
 = 
	`i¦_£t_äom_basic_£t
(
b£t
);

355 if(
Ãgv¬
 == 0) {

356 
®l_pos™ive
 = 
	`i¦_basic_£t_pos™ive_Üthªt
(
	`i¦_£t_g‘_¥aû
(
domaš
));

357 
®l_pos™ive_£t
 = 
	`i¦_£t_äom_basic_£t
(
®l_pos™ive
);

358 
domaš
 = 
	`i¦_£t_š‹r£ù
(domaš, 
®l_pos™ive_£t
);

362 
Ëxmš
 = 
	`i¦_£t_Ëxmš
(
domaš
);

364 ià(
	`i¦_£t_is_em±y
(
Ëxmš
)) {

365 
	`i¦_£t_ä“
(
Ëxmš
);

366 
	`i¦_ùx_ä“
(
ùx
);

367  
NULL
;

370 
num_dim’siÚs
 = 
	`i¦_£t_n_dim
(
Ëxmš
);

371 
sŞ
 = (
št64
 *è
	`m®loc
((
num_dim’siÚs
)*(int64));

375 
i¦_pošt
 *
p
 = 
	`i¦_£t_§m¶e_pošt
(
Ëxmš
);

377 
i
 = 0; i < 
num_dim’siÚs
; i++) {

378 
i¦_v®
 *
v
;

379 
v
 = 
	`i¦_pošt_g‘_coÜdš©e_v®
(
p
, 
i¦_dim_£t
, 
i
);

380 
sŞ
[
i
] = 
	`i¦_v®_g‘_num_Î
(
v
);

381 
	`i¦_v®_ä“
(
v
);

384 
	`i¦_pošt_ä“
(
p
);

385 
	`i¦_ùx_ä“
(
ùx
);

387  
sŞ
;

388 
	}
}

390 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_uniÚ_i¦
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
,

391 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

393 
i¦_£t
 *
£t1
 = 
	`i¦_£t_äom_¶uto_cÚ¡¿šts
(
c¡1
, 
NULL
);

394 
i¦_£t
 *
£t2
 = 
	`i¦_£t_äom_¶uto_cÚ¡¿šts
(
c¡2
, 
NULL
);

395 
i¦_£t
 *
£t3
 = 
	`i¦_£t_uniÚ
(
£t1
, 
£t2
);

397 
PlutoCÚ¡¿šts
 *
uc¡
 = 
	`i¦_£t_to_¶uto_cÚ¡¿šts
(
£t3
);

399 
	`i¦_£t_ä“
(
£t3
);

401  
uc¡
;

402 
	}
}

405 
	$basic_m­_couÁ
(
__i¦_ke
 
i¦_basic_m­
 *
bm­
, *
u£r
)

407 *
couÁ
 = 
u£r
;

409 *
couÁ
 += 1;

410 
	`i¦_basic_m­_ä“
(
bm­
);

412 
	}
}

415 
	$i¦_m­_couÁ
(
__i¦_ke
 
i¦_m­
 *
m­
, *
u£r
)

417 
r
;

419 
r
 = 
	`i¦_m­_fÜ—ch_basic_m­
(
m­
, &
basic_m­_couÁ
, 
u£r
);

420 
	`i¦_m­_ä“
(
m­
);

421  
r
;

422 
	}
}

425 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_š‹r£ùiÚ_i¦
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
,

426 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

428 
i¦_£t
 *
i£t1
, *
i£t2
, *
i£t3
;

429 
PlutoCÚ¡¿šts
 *
ic¡
;

431 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

433 
i£t1
 = 
	`i¦_£t_äom_¶uto_cÚ¡¿šts
(
c¡1
, 
ùx
);

434 
i£t2
 = 
	`i¦_£t_äom_¶uto_cÚ¡¿šts
(
c¡2
, 
ùx
);

436 
i£t3
 = 
	`i¦_£t_š‹r£ù
(
i£t1
, 
i£t2
);

438 
ic¡
 = 
	`i¦_£t_to_¶uto_cÚ¡¿šts
(
i£t3
);

439 
	`i¦_£t_ä“
(
i£t3
);

441 
	`i¦_ùx_ä“
(
ùx
);

443  
ic¡
;

444 
	}
}

448 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_š‹r£ù_i¦
(
PlutoCÚ¡¿šts
 *
c¡1
,

449 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

451 
PlutoCÚ¡¿šts
 *
ic¡
 = 
	`¶uto_cÚ¡¿šts_š‹r£ùiÚ_i¦
(
c¡1
, 
c¡2
);

452 
	`¶uto_cÚ¡¿šts_cİy
(
c¡1
, 
ic¡
);

453 
	`¶uto_cÚ¡¿šts_ä“
(
ic¡
);

455  
c¡1
;

456 
	}
}

	@constraints_polylib.c

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<m©h.h
>

7 
	~<as£¹.h
>

8 
	~<¡ršg.h
>

9 
	~<uni¡d.h
>

10 
	~<sys/time.h
>

12 
	~"m©h_suµÜt.h
"

13 
	~"cÚ¡¿šts.h
"

14 
	~"¶uto.h
"

15 
	~"cÚ¡¿šts_pŞylib.h
"

17 
	~"pŞylib/pŞylib64.h
"

19 
M©rix
 *
	$¶uto_m©rix_to_pŞylib
(cÚ¡ 
PlutoM©rix
 *
m©
)

21 
r
, 
c
;

22 
M©rix
 *
pŞym©
;

24 
pŞym©
 = 
	`M©rix_AÎoc
(
m©
->
Äows
, m©->
ncŞs
);

26 
r
=0;„<
m©
->
Äows
;„++) {

27 
c
=0; c<
m©
->
ncŞs
; c++) {

28 
pŞym©
->
p
[
r
][
c
] = 
m©
->
v®
[r][c];

32  
pŞym©
;

33 
	}
}

36 
PlutoM©rix
 *
	$pŞylib_m©rix_to_¶uto
(
M©rix
 *
pm©
)

38 
PlutoM©rix
 *
m©
;

39 
r
, 
c
;

41 
m©
 = 
	`¶uto_m©rix_®loc
(
pm©
->
NbRows
,…m©->
NbCŞumns
);

43 
r
=0;„<
m©
->
Äows
;„++) {

44 
c
=0; c<
m©
->
ncŞs
; c++) {

45 
m©
->
v®
[
r
][
c
] = 
pm©
->
p
[r][c];

50  
m©
;

51 
	}
}

55 
PŞyhedrÚ
 *
	$¶uto_cÚ¡¿šts_to_pŞylib
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
)

57 
PŞyhedrÚ
 *
pŞ
;

58 
PlutoM©rix
 *
m©
;

59 
M©rix
 *
pŞym©
;

61 
m©
 = 
	`¶uto_cÚ¡¿šts_to_m©rix
(
c¡
);

63 
pŞym©
 = 
	`¶uto_m©rix_to_pŞylib
(
m©
);

65 
pŞ
 = 
	`CÚ¡¿šts2PŞyhedrÚ
(
pŞym©
, 50);

67 
	`M©rix_F»e
(
pŞym©
);

68 
	`¶uto_m©rix_ä“
(
m©
);

70 ià(
c¡
->
Ãxt
 !ğ
NULL
) {

71 
pŞ
->
Ãxt
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡
->next);

74  
pŞ
;

75 
	}
}

77 
PlutoCÚ¡¿šts
 *
	$pŞylib_to_¶uto_cÚ¡¿šts
(
PŞyhedrÚ
 *
pŞ
)

79 
PlutoCÚ¡¿šts
 *
c¡
;

83 
M©rix
 *
pŞym©
 = 
	`PŞyhedrÚ2CÚ¡¿šts
(
pŞ
);

87 
c¡
 = 
	`pŞylib_m©rix_to_¶uto_cÚ¡¿šts
(
pŞym©
);

88 
	`M©rix_F»e
(
pŞym©
);

90 ià(
pŞ
->
Ãxt
 !ğ
NULL
) {

91 
c¡
->
Ãxt
 = 
	`pŞylib_to_¶uto_cÚ¡¿šts
(
pŞ
->next);

94  
c¡
;

95 
	}
}

102 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_image
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, cÚ¡ 
PlutoM©rix
 *
func
)

108 
	`as£¹
(
func
->
ncŞs
 =ğ
c¡
->ncols);

110 
PlutoCÚ¡¿šts
 *
imagec¡
;

112 
PŞyhedrÚ
 *
pŞ
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡
);

113 
M©rix
 *
pŞym©
 = 
	`¶uto_m©rix_to_pŞylib
(
func
);

116 
PŞyhedrÚ
 *
image
 = 
	`PŞyhedrÚ_Image
(
pŞ
, 
pŞym©
, 2*
c¡
->
Äows
);

119 
imagec¡
 = 
	`pŞylib_to_¶uto_cÚ¡¿šts
(
image
);

121 
	`M©rix_F»e
(
pŞym©
);

122 
	`Domaš_F»e
(
pŞ
);

123 
	`PŞyhedrÚ_F»e
(
image
);

128  
imagec¡
;

129 
	}
}

131 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_uniÚ
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
,

132 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

134 
PŞyhedrÚ
 *
pŞ1
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡1
);

135 
PŞyhedrÚ
 *
pŞ2
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡2
);

136 
PŞyhedrÚ
 *
pŞ3
 = 
	`DomašUniÚ
(
pŞ1
, 
pŞ2
, 50);

138 
PlutoCÚ¡¿šts
 *
uc¡
 = 
	`pŞylib_to_¶uto_cÚ¡¿šts
(
pŞ3
);

140 
	`Domaš_F»e
(
pŞ1
);

141 
	`Domaš_F»e
(
pŞ2
);

142 
	`Domaš_F»e
(
pŞ3
);

144  
uc¡
;

145 
	}
}

147 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_difã»nû
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
,

148 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

150 
	`as£¹
(
c¡1
->
ncŞs
 =ğ
c¡2
->ncols);

152 
PŞyhedrÚ
 *
pŞ1
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡1
);

153 
PŞyhedrÚ
 *
pŞ2
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡2
);

154 
PŞyhedrÚ
 *
pŞ3
 = 
	`DomašDifã»nû
(
pŞ1
, 
pŞ2
, 50);

156 
PlutoCÚ¡¿šts
 *
diffc¡
 = 
	`pŞylib_to_¶uto_cÚ¡¿šts
(
pŞ3
);

158 
	`Domaš_F»e
(
pŞ1
);

159 
	`Domaš_F»e
(
pŞ2
);

160 
	`Domaš_F»e
(
pŞ3
);

162  
diffc¡
;

163 
	}
}

166 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_š‹r£ùiÚ
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
,

167 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

169 
PŞyhedrÚ
 *
pŞ1
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡1
);

170 
PŞyhedrÚ
 *
pŞ2
 = 
	`¶uto_cÚ¡¿šts_to_pŞylib
(
c¡2
);

172 
PŞyhedrÚ
 *
pŞ3
 = 
	`DomašIÁ”£ùiÚ
(
pŞ1
, 
pŞ2
, 50);

174 
PlutoCÚ¡¿šts
 *
ic¡
 = 
	`pŞylib_to_¶uto_cÚ¡¿šts
(
pŞ3
);

176 
	`Domaš_F»e
(
pŞ1
);

177 
	`Domaš_F»e
(
pŞ2
);

178 
	`Domaš_F»e
(
pŞ3
);

180  
ic¡
;

181 
	}
}

185 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_š‹r£ù
(
PlutoCÚ¡¿šts
 *
c¡1
,

186 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

188 
PlutoCÚ¡¿šts
 *
ic¡
 = 
	`¶uto_cÚ¡¿šts_š‹r£ùiÚ
(
c¡1
, 
c¡2
);

189 
	`¶uto_cÚ¡¿šts_cİy
(
c¡1
, 
ic¡
);

190 
	`¶uto_cÚ¡¿šts_ä“
(
ic¡
);

192  
c¡1
;

193 
	}
}

199 
PlutoCÚ¡¿šts
 *
	$pŞylib_m©rix_to_¶uto_cÚ¡¿šts
(
M©rix
 *
pŞym©
)

201 
i
, 
j
;

202 
PlutoCÚ¡¿šts
 *
c¡
;

204 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
pŞym©
->
NbRows
,…Şym©->
NbCŞumns
-1);

205 
c¡
->
Äows
 = 
pŞym©
->
NbRows
;

207 
i
=0; i<
c¡
->
Äows
; i++) {

208 
c¡
->
is_eq
[
i
]ğ(
pŞym©
->
p
[i][0] == 0)? 1: 0;

209 
j
=0; j<
c¡
->
ncŞs
; j++) {

210 
c¡
->
v®
[
i
][
j
] = 
pŞym©
->
p
[i][j+1];

214  
c¡
;

215 
	}
}

217 
PlutoM©rix
 *
	$¶uto_m©rix_šv”£
(
PlutoM©rix
 *
m©
)

219 
	`as£¹
(
m©
->
Äows
 =ğm©->
ncŞs
);

221 
PlutoM©rix
 *
šv
;

223 
dim
 = 
m©
->
Äows
;

225 
M©rix
 *
pšv
 = 
	`M©rix_AÎoc
(
dim
, dim);

226 
M©rix
 *
pm©
 = 
	`¶uto_m©rix_to_pŞylib
(
m©
);

228 
	`M©rix_Inv”£
(
pm©
, 
pšv
);

230 
šv
 = 
	`pŞylib_m©rix_to_¶uto
(
pšv
);

232 
	`M©rix_F»e
(
pm©
);

233 
	`M©rix_F»e
(
pšv
);

235  
šv
;

236 
	}
}

239 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_subŒaù
(
PlutoCÚ¡¿šts
 *
c¡1
,

240 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

242 
PlutoCÚ¡¿šts
 *
dc¡
 = 
	`¶uto_cÚ¡¿šts_difã»nû
(
c¡1
,
c¡2
);

243 
	`¶uto_cÚ¡¿šts_cİy
(
c¡1
,
dc¡
);

244 
	`¶uto_cÚ¡¿šts_ä“
(
dc¡
);

245  
c¡1
;

246 
	}
}

248 
	$¶uto_cÚ¡¿šts_¬e_equ®
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
, cÚ¡ PlutoCÚ¡¿št *
c¡2
) {

249 
PlutoCÚ¡¿šts
 *
diff
 = 
	`¶uto_cÚ¡¿šts_difã»nû
(
c¡1
,
c¡2
);

250 
¬e_cÚ¡¿šts_equ®
 = 
	`¶uto_cÚ¡¿šts_is_em±y
(
diff
);

251 
	`¶uto_cÚ¡¿šts_ä“
(
diff
);

252 ià(
¬e_cÚ¡¿šts_equ®
) {

253 
diff
 = 
	`¶uto_cÚ¡¿šts_difã»nû
(
c¡2
, 
c¡1
);

254 
¬e_cÚ¡¿šts_equ®
 = 
	`¶uto_cÚ¡¿šts_is_em±y
(
diff
);

255 
	`¶uto_cÚ¡¿šts_ä“
(
diff
);

257  
¬e_cÚ¡¿šts_equ®
;

258 
	}
}

	@constraints_polylib.h

1 
	~"pŞylib/pŞylib64.h
"

2 
	~"cÚ¡¿šts.h
"

4 
PŞyhedrÚ
 *
¶uto_cÚ¡¿šts_to_pŞylib
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
);

5 
PlutoCÚ¡¿šts
 *
pŞylib_to_¶uto_cÚ¡¿šts
(
PŞyhedrÚ
 *
pŞ
);

6 
PlutoCÚ¡¿šts
 *
pŞylib_m©rix_to_¶uto_cÚ¡¿šts
(
M©rix
 *
pŞym©
);

8 
M©rix
 *
¶uto_m©rix_to_pŞylib
(cÚ¡ 
PlutoM©rix
 *
m©
);

9 
PlutoM©rix
 *
pŞylib_m©rix_to_¶uto
(
M©rix
 *
pm©
);

	@ddg.c

22 
	~<¡dlib.h
>

23 
	~<as£¹.h
>

24 
	~<¡ršg.h
>

26 
	~"¶uto.h
"

27 
	~"m©h_suµÜt.h
"

28 
	~"ddg.h
"

31 
G¿ph
 *
	$g¿ph_®loc
(
nV”tiûs
)

33 
G¿ph
 *
g
;

34 
i
, 
j
;

36 
g
 = (
G¿ph
 *è
	`m®loc
((Graph));

38 
g
->
nV”tiûs
 =‚Vertices;

40 
g
->
v”tiûs
 = (
V”‹x
 *è
	`m®loc
(
nV”tiûs
*(Vertex));

41 
i
=0; i<
nV”tiûs
; i++) {

42 
g
->
v”tiûs
[
i
].
id
 = i;

45 
g
->
adj
 = 
	`¶uto_m©rix_®loc
(
nV”tiûs
,‚Vertices);

46 
g
->
adj
->
Äows
 = 
nV”tiûs
;

47 
g
->
adj
->
ncŞs
 = 
nV”tiûs
;

49 
i
=0; i<
nV”tiûs
; i++) {

50 
g
->
v”tiûs
[
i
].
vn
 = -1;

51 
g
->
v”tiûs
[
i
].
â
 = -1;

52 
j
=0; j<
nV”tiûs
; j++)

53 
g
->
adj
->
v®
[
i
][
j
] = 0;

56 
g
->
sccs
 = (
Scc
 *è
	`m®loc
(
nV”tiûs
*(Scc));

59 
g
->
num_sccs
 = -1;

61  
g
;

62 
	}
}

66 
	$g¿ph_´št_sccs
(
G¿ph
 *
g
)

68 
i
;

71 
	`as£¹
(
g
->
num_sccs
 != -1);

73 
i
=0; i<
g
->
num_sccs
; i++) {

74 
	`IF_DEBUG
(
	`´štf
("\tSCC %d: size: %d: max stmt dim: %d\n",

75 
g
->
sccs
[
i
].
id
, g->sccs[i].
size
, g->sccs[i].
max_dim
));

77 
	}
}

82 
G¿ph
 *
	$g¿ph_Œª¥o£
(
G¿ph
 *
g
)

84 
i
, 
j
;

85 
G¿ph
 *
gT
;

87 
gT
 = 
	`g¿ph_®loc
(
g
->
nV”tiûs
);

89 
i
=0; i<
g
->
nV”tiûs
; i++) {

90 
j
=0; j<
g
->
nV”tiûs
; j++) {

91 
gT
->
adj
->
v®
[
j
][
i
] = 
g
->adj->val[i][j];

94 
gT
->
v”tiûs
[
i
].
â
 = 
g
->vertices[i].fn;

97  
gT
;

98 
	}
}

102 
	$dfs_v”‹x
(
G¿ph
 *
g
, 
V”‹x
 *
v
, *
time
)

104 
j
;

106 *
time
 = *time + 1;

107 
v
->
vn
 = *
time
;

111 
j
=0; j< 
g
->
nV”tiûs
; j++) {

112 ià(
g
->
adj
->
v®
[
v
->
id
][
j
]) {

114 ià(
g
->
v”tiûs
[
j
].
vn
 == 0) {

115 
	`dfs_v”‹x
(
g
, &g->
v”tiûs
[
j
], 
time
);

120 *
time
 = *time + 1;

121 
v
->
â
 = *
time
;

122 
	}
}

126 
	$dfs
(
G¿ph
 *
g
)

128 
i
;

129 
time
 = 0;

131 
i
=0; i<
g
->
nV”tiûs
; i++) {

132 
g
->
v”tiûs
[
i
].
vn
 = 0;

135 
i
=0; i<
g
->
nV”tiûs
; i++) {

136 ià(
g
->
v”tiûs
[
i
].
vn
 == 0) {

138 
	`dfs_v”‹x
 (
g
, &g->
v”tiûs
[
i
], &
time
);

141 
	}
}

145 
	$com·r
 (cÚ¡ *
e1
, cÚ¡ *
e2
)

147 
V”‹x
 *
v1
, *
v2
;

149 
v1
 = (
V”‹x
 *è
e1
;

150 
v2
 = (
V”‹x
 *è
e2
;

152 ià(
v1
->
â
 < 
v2
->fn) {

154 }ià(
v1
->
â
 =ğ
v2
->fn) {

157 
	}
}

166 
	$dfs_fÜ_scc
(
G¿ph
 *
g
)

168 
i
, 
j
;

169 
time
 = 0;

171 
V”‹x
 *
vCİy
 = (V”‹x *è
	`m®loc
(
g
->
nV”tiûs
*(Vertex));

172 
	`memıy
(
vCİy
, 
g
->
v”tiûs
, g->
nV”tiûs
*(
V”‹x
));

174 
i
=0; i<
g
->
nV”tiûs
; i++) {

175 
g
->
v”tiûs
[
i
].
vn
 = 0;

176 
g
->
v”tiûs
[
i
].
scc_id
 = -1;

180 
	`qsÜt
(
vCİy
, 
g
->
nV”tiûs
, (
V”‹x
), 
com·r
);

183 
numScc
 = 0;

184 
i
=
g
->
nV”tiûs
-1; i>=0; i--) {

185 ià(
g
->
v”tiûs
[
vCİy
[
i
].
id
].
vn
 == 0) {

186 
g
->
sccs
[
numScc
].
id
 =‚umScc;

187 
	`dfs_v”‹x
(
g
, &g->
v”tiûs
[
vCİy
[
i
].
id
], &
time
);

189 
	`IF_MORE_DEBUG
(
	`´štf
("[¶uto] dfs_fÜ_scc: SCC %d: Stmˆids: ", 
numScc
));

190 
j
=0; j<
g
->
nV”tiûs
; j++) {

191 ià(
g
->
v”tiûs
[
j
].
scc_id
 =ğ-1 && g->v”tiûs[j].
vn
 > 0) {

192 
g
->
v”tiûs
[
j
].
scc_id
 = 
numScc
;

193 
	`IF_MORE_DEBUG
(
	`´štf
(" %d", 
g
->
v”tiûs
[
j
].
id
));

196 
	`IF_MORE_DEBUG
(
	`´štf
("\n"));

197 
numScc
++;

200 
	`IF_MORE_DEBUG
(
	`´štf
("\n\n"));

202 
g
->
num_sccs
 = 
numScc
;

204 
	`ä“
(
vCİy
);

205 
	}
}

211 
	$Œªs™ive_şosu»
(
G¿ph
 *
g¿ph
){

212 
i
, 
j
, 
k
;

213 
n_v”tiûs
;

214 
PlutoM©rix
 *
adjaûncy
;

216 
adjaûncy
 = 
g¿ph
->
adj
;

217 
n_v”tiûs
 = 
g¿ph
->
nV”tiûs
;

219 
k
 = 0; k < 
n_v”tiûs
; k++) {

220 
i
 = 0; i < 
n_v”tiûs
; i++) {

221 
j
 = 0; j < 
n_v”tiûs
; j++) {

222 
adjaûncy
->
v®
[
i
][
j
] =‡djacency->val[i][j] ||

223 (
adjaûncy
->
v®
[
i
][
k
] &&‡djaûncy->v®[k][
j
]);

227 
	}
}

232 
	$compu‹_scc_v”tiûs
(
G¿ph
 *
ddg
){

233 
i
,
j
,
k
;

234 
n_sccs
;

235 *
v”tiûs
;

237 
n_sccs
 = 
ddg
->
num_sccs
;

238 
i
=0; i<
n_sccs
; i++) {

239 
v”tiûs
 = (*è
	`m®loc
((
ddg
->
sccs
[
i
].
size
)*());

240 
k
 = 0;

241 
j
=0; j<
ddg
->
nV”tiûs
; j++) {

242 ià((
ddg
->
v”tiûs
[
j
].
scc_id
è=ğ
i
) {

243 
v”tiûs
[
k
] = 
ddg
->v”tiûs[
j
].
id
;

244 
k
++;

247 
ddg
->
sccs
[
i
].
v”tiûs
 = vertices;

249 
	}
}

251 
	$g¿ph_ä“
(
G¿ph
 *
g
)

253 
	`¶uto_m©rix_ä“
(
g
->
adj
);

254 
	`ä“
(
g
->
v”tiûs
);

255 
	`ä“
(
g
->
sccs
);

256 
	`ä“
(
g
);

257 
	}
}

	@ddg.h

1 #iâdeà
_DDG_H_


2 
	#_DDG_H_


	)

4 
	~"m©h_suµÜt.h
"

7 
	sv”‹x
{

9 
	mid
;

10 
	mvn
;

11 
	mâ
;

14 
	mscc_id
;

16 
v”‹x
 
	tV”‹x
;

18 
	sscc
{

20 
	msize
;

23 
	mmax_dim
;

26 
	mid
;

29 * 
	mv”tiûs
;

31 
scc
 
	tScc
;

34 
	sg¿ph
{

38 
V”‹x
 *
	mv”tiûs
;

39 
	mnV”tiûs
;

42 
PlutoM©rix
 *
	madj
;

44 
Scc
 *
	msccs
;

45 
	mnum_sccs
;

47 
g¿ph
 
	tG¿ph
;

49 
G¿ph
 *
g¿ph_®loc
 (
nV”tiûs
);

50 
g¿ph_ä“
(
G¿ph
 *
g
);

51 
g¿ph_´št_sccs
 (
G¿ph
 *
g
);

52 
dfs_fÜ_scc
 (
G¿ph
 *
g
);

53 
G¿ph
 *
g¿ph_Œª¥o£
 (G¿ph *
g
);

54 
dfs
 (
G¿ph
 *
g
);

55 
dfs_fÜ_scc
 (
G¿ph
 *
g
);

56 
V”‹x
 *
ddg_g‘_v”‹x_by_id
(
G¿ph
 *
g
, 
id
);

58 
Œªs™ive_şosu»
(
G¿ph
 *
g¿ph
);

59 
compu‹_scc_v”tiûs
(
G¿ph
 *
ddg
);

	@framework.c

22 
	~<¡dio.h
>

23 
	~<¡dlib.h
>

24 
	~<¡ršg.h
>

25 
	~<m©h.h
>

26 
	~<as£¹.h
>

28 
	~"m©h_suµÜt.h
"

29 
	~"cÚ¡¿šts.h
"

30 
	~"¶uto.h
"

31 
	~"´og¿m.h
"

33 
	~<i¦/cÚ¡¿št.h
>

34 
	~<i¦/m©.h
>

35 
	~<i¦/£t.h
>

36 
	~"ÿndl/ÿndl.h
"

38 
	#CONSTRAINTS_SIMPLIFY_THRESHOLD
 10000

	)

39 
	#MAX_FARKAS_CST
 2000

	)

41 
¶uto_d•_§tisf›s_š¡ªû
(cÚ¡ 
D•
 *
d•
, cÚ¡ 
PlutoProg
 *
´og
, 
Ëv–
);

42 
¶uto_d•_»move_§tisf›d_š¡ªûs
(
D•
 *
d•
, 
PlutoProg
 *
´og
, 
Ëv–
);

57 
	$compu‹_³rmub™y_cÚ¡¿šts_d•
(
D•
 *
d•
, 
PlutoProg
 *
´og
)

59 
PlutoCÚ¡¿šts
 *
c¡
, *
tšg_v®id_c¡
, *
boundšg_func_c¡
;

60 
n¡mts
, 
nv¬
, 
Å¬
, 
¤c_¡mt
, 
de¡_¡mt
, 
j
, 
k
, 
r
;

61 
¤c_off£t
, 
de¡_off£t
;

62 
PlutoM©rix
 *
phi
;

63 
Stmt
 **
¡mts
;

65 
nv¬
 = 
´og
->nvar;

66 
Å¬
 = 
´og
->npar;

67 
¡mts
 = 
´og
->stmts;

68 
n¡mts
 = 
´og
->nstmts;

72 
	`IF_DEBUG
(
	`´štf
("[¶uto] compu‹…”mub™y cÚ¡¿šts: D• %d\n", 
d•
->
id
+1););

74 
de¡_¡mt
 = 
d•
->
de¡
;

75 
¤c_¡mt
 = 
d•
->
¤c
;

77 
PlutoCÚ¡¿šts
 *
dpŞy
 = 
	`¶uto_cÚ¡¿šts_dup
(
d•
->
dpŞytİe
);

78 
PlutoCÚ¡¿šts
 *
boundšg_pŞy
 = 
	`¶uto_cÚ¡¿šts_dup
(
d•
->bounding_poly);

80 
	`¶uto_cÚ¡¿šts_k“p_cÚÃùšg_cÚ¡¿šts
(
dpŞy
, 0, 
nv¬
,

81 
nv¬
+
Å¬
,‚var);

82 
	`¶uto_cÚ¡¿šts_k“p_cÚÃùšg_cÚ¡¿šts
(
boundšg_pŞy
, 0, 
nv¬
,

83 
nv¬
,‚v¬+
Å¬
);

91 ià(
¤c_¡mt
 !ğ
de¡_¡mt
) {

92 
phi
 = 
	`¶uto_m©rix_®loc
(2*
nv¬
+
Å¬
+1, 2*(nvar+1)+1);

93 
	`¶uto_m©rix_£t
(
phi
, 0);

95 
r
=0;„<
nv¬
;„++) {

97 
phi
->
v®
[
r
][r] = -1;

99 
r
=
nv¬
;„<2*nvar;„++) {

101 
phi
->
v®
[
r
][(
nv¬
+1)+(r-nvar)] = 1;

106 
phi
->
v®
[2*
nv¬
+
Å¬
][(nvar+1)+nvar] = 1;

107 
phi
->
v®
[2*
nv¬
+
Å¬
][nvar] = -1;

109 
phi
 = 
	`¶uto_m©rix_®loc
(2*
nv¬
+
Å¬
+1, (nvar+1)+1);

110 
	`¶uto_m©rix_£t
(
phi
, 0);

112 
r
=0;„<
nv¬
;„++) {

114 
phi
->
v®
[
r
][r] = -1;

116 
r
=
nv¬
;„<2*nvar;„++) {

118 
phi
->
v®
[
r
][r-
nv¬
] = 1;

127 
tšg_v®id_c¡
 = 
	`çrkas_Ëmma_affše
(
dpŞy
, 
phi
);

129 
	`¶uto_m©rix_ä“
(
phi
);

131 ià(
¤c_¡mt
 !ğ
de¡_¡mt
) {

132 
phi
 = 
	`¶uto_m©rix_®loc
(2*
nv¬
+
Å¬
+1,‚par+1+2*(nvar+1)+1);

133 
	`¶uto_m©rix_£t
(
phi
, 0);

135 
r
=0;„<
nv¬
;„++) {

137 
phi
->
v®
[
r
][
Å¬
+1+r] = 1;

139 
r
=
nv¬
;„<2*nvar;„++) {

141 
phi
->
v®
[
r
][
Å¬
+1+(
nv¬
+1)+(r-nvar)] = -1;

143 
r
=2*
nv¬
;„<2*nv¬+
Å¬
;„++) {

145 
phi
->
v®
[
r
][r-2*
nv¬
] = 1;

149 
phi
->
v®
[2*
nv¬
+
Å¬
][npar+1+nvar] = 1;

150 
phi
->
v®
[2*
nv¬
+
Å¬
][npar+1+(nvar+1)+nvar] = -1;

152 
phi
->
v®
[2*
nv¬
+
Å¬
][npar] = 1;

154 
phi
 = 
	`¶uto_m©rix_®loc
(2*
nv¬
+
Å¬
+1,‚par+1+(nvar+1)+1);

155 
	`¶uto_m©rix_£t
(
phi
, 0);

157 
r
=0;„<
nv¬
;„++) {

159 
phi
->
v®
[
r
][
Å¬
+1+r] = 1;

161 
r
=
nv¬
;„<2*nvar;„++) {

163 
phi
->
v®
[
r
][
Å¬
+1+Ô-
nv¬
)] = -1;

165 
r
=2*
nv¬
;„<2*nv¬+
Å¬
;„++) {

167 
phi
->
v®
[
r
][r-2*
nv¬
] = 1;

173 
phi
->
v®
[2*
nv¬
+
Å¬
][npar] = 1;

177 
boundšg_func_c¡
 = 
	`çrkas_Ëmma_affše
(
boundšg_pŞy
, 
phi
);

179 
	`¶uto_m©rix_ä“
(
phi
);

180 
	`¶uto_cÚ¡¿šts_ä“
(
dpŞy
);

181 
	`¶uto_cÚ¡¿šts_ä“
(
boundšg_pŞy
);

188 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
tšg_v®id_c¡
->
Äows
 + 
boundšg_func_c¡
->Äows, 
CST_WIDTH
);

189 
c¡
->
Äows
 = 0;

190 
c¡
->
ncŞs
 = 
CST_WIDTH
;

192 
¤c_off£t
 = 
Å¬
+1+
¤c_¡mt
*(
nv¬
+1);

193 
de¡_off£t
 = 
Å¬
+1+
de¡_¡mt
*(
nv¬
+1);

196 ià(!
	`IS_RAR
(
d•
->
ty³
)) {

198 
k
=0; k<
tšg_v®id_c¡
->
Äows
; k++) {

199 
	`¶uto_cÚ¡¿šts_add_cÚ¡¿št
(
c¡
, 
tšg_v®id_c¡
->
is_eq
[
k
]);

200 
j
=0; j<
nv¬
+1; j++) {

201 
c¡
->
v®
[c¡->
Äows
-1][
¤c_off£t
+
j
] = 
tšg_v®id_c¡
->v®[
k
][j];

202 ià(
¤c_¡mt
 !ğ
de¡_¡mt
) {

203 
c¡
->
v®
[c¡->
Äows
-1][
de¡_off£t
+
j
] = 
tšg_v®id_c¡
->v®[
k
][
nv¬
+1+j];

207 ià(
¤c_¡mt
 =ğ
de¡_¡mt
) {

208 
c¡
->
v®
[c¡->
Äows
-1][c¡->
ncŞs
-1] = 
tšg_v®id_c¡
->v®[
k
][
nv¬
+1];

210 
c¡
->
v®
[c¡->
Äows
-1][c¡->
ncŞs
-1] = 
tšg_v®id_c¡
->v®[
k
][2*
nv¬
+2];

216 ià(!
İtiÚs
->
nod•bound
) {

218 
PlutoCÚ¡¿šts
 *
bc¡_g
;

220 
¤c_off£t
 = 
Å¬
+1+
¤c_¡mt
*(
nv¬
+1);

221 
de¡_off£t
 = 
Å¬
+1+
de¡_¡mt
*(
nv¬
+1);

223 
bc¡_g
 = 
	`¶uto_cÚ¡¿šts_®loc
(
boundšg_func_c¡
->
Äows
, 
CST_WIDTH
);

225 
k
=0; k<
boundšg_func_c¡
->
Äows
; k++) {

226 
	`¶uto_cÚ¡¿šts_add_cÚ¡¿št
(
bc¡_g
, 
boundšg_func_c¡
->
is_eq
[
k
]);

227 
j
=0; j<
Å¬
+1; j++) {

228 
bc¡_g
->
v®
[bc¡_g->
Äows
-1][
j
] = 
boundšg_func_c¡
->v®[
k
][j];

230 
j
=0; j<
nv¬
+1; j++) {

231 
bc¡_g
->
v®
[bc¡_g->
Äows
-1][
¤c_off£t
+
j
] = 
boundšg_func_c¡
->v®[
k
][
Å¬
+1+j];

232 ià(
¤c_¡mt
 !ğ
de¡_¡mt
) {

233 
bc¡_g
->
v®
[bc¡_g->
Äows
-1][
de¡_off£t
+
j
] = 
boundšg_func_c¡
->v®[
k
][
Å¬
+1+
nv¬
+1+j];

237 ià(
¤c_¡mt
 =ğ
de¡_¡mt
) {

238 
bc¡_g
->
v®
[bc¡_g->
Äows
-1][bc¡_g->
ncŞs
-1] = 
boundšg_func_c¡
->v®[
k
][
Å¬
+1+
nv¬
+1];

240 
bc¡_g
->
v®
[bc¡_g->
Äows
-1][bc¡_g->
ncŞs
-1] = 
boundšg_func_c¡
->v®[
k
][
Å¬
+1+2*
nv¬
+2];

243 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
bc¡_g
);

245 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
boundšg_c¡
);

246 
d•
->
boundšg_c¡
 = 
bc¡_g
;

251 
k
=0; k<
nv¬
; k++) {

252 ià(!
¡mts
[
¤c_¡mt
]->
is_Üig_loİ
[
k
]) {

253 
j
=0; j < 
c¡
->
Äows
; j++) {

254 
c¡
->
v®
[
j
][
¤c_off£t
+
k
] = 0;

257 ià(
¤c_¡mt
 !ğ
de¡_off£t
 && !
¡mts
[
de¡_¡mt
]->
is_Üig_loİ
[
k
]) {

258 
j
=0; j < 
c¡
->
Äows
; j++) {

259 
c¡
->
v®
[
j
][
de¡_off£t
+
k
] = 0;

264 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
c¡
);

265 
d•
->
c¡
 = cst;

267 
	`¶uto_cÚ¡¿šts_ä“
(
tšg_v®id_c¡
);

268 
	`¶uto_cÚ¡¿šts_ä“
(
boundšg_func_c¡
);

269 
	}
}

276 
PlutoCÚ¡¿šts
 *
	$g‘_£Ëùive_³rmub™y_cÚ¡¿šts
(
PlutoProg
 *
´og
, 
boŞ
 *
¡mts_to_cÚsid”
){

277 
i
, 
šc
, 
n¡mts
, 
nv¬
, 
Å¬
, 
nd•s
, 
tÙ®_c¡_rows
;

278 
PlutoCÚ¡¿šts
 *
globc¡
;

279 
D•
 **
d•s
;

281 
n¡mts
 = 
´og
->nstmts;

282 
nd•s
 = 
´og
->ndeps;

283 
d•s
 = 
´og
->deps;

284 
nv¬
 = 
´og
->nvar;

285 
Å¬
 = 
´og
->npar;

287 
tÙ®_c¡_rows
 = 0;

290 
i
=0; i<
nd•s
; i++) {

291 
D•
 *
d•
 = 
d•s
[
i
];

292 
¤c_šdex
 = 
d•
->
¤c
;

293 
d¡_šdex
 = 
d•
->
de¡
;

296 ià(!
¡mts_to_cÚsid”
[
¤c_šdex
] || !¡mts_to_cÚsid”[
d¡_šdex
]) ;

298 ià(
İtiÚs
->
¿r
 =ğ0 && 
	`IS_RAR
(
d•
->
ty³
)) {

302 ià(
d•
->
c¡
 =ğ
NULL
) {

304 
	`compu‹_³rmub™y_cÚ¡¿šts_d•
(
d•
, 
´og
);

306 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tFor dep %d;‚um_constraints: %d\n",

307 
i
+1, 
d•
->
c¡
->
Äows
));

308 
tÙ®_c¡_rows
 +ğ
d•
->
c¡
->
Äows
;

314 ià(!
´og
->
globc¡
) {

315 
´og
->
globc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
tÙ®_c¡_rows
, 
CST_WIDTH
);

318 
globc¡
 = 
´og
->globcst;

319 
globc¡
->
ncŞs
 = 
CST_WIDTH
;

320 
globc¡
->
Äows
 = 0;

323 
i
 = 0, 
šc
 = 0; i < 
nd•s
; i++) {

324 
D•
 *
d•
 = 
d•s
[
i
];

325 
¤c_šdex
 = 
d•
->
¤c
;

326 
d¡_šdex
 = 
d•
->
de¡
;

329 ià(!
¡mts_to_cÚsid”
[
¤c_šdex
] || !¡mts_to_cÚsid”[
d¡_šdex
]) ;

333 ià(
İtiÚs
->
¿r
 =ğ0 && 
	`IS_RAR
(
d•
->
ty³
)) ;

339 ià(
	`d•_is_§tisf›d
(
d•
)) {

344 
	`¶uto_cÚ¡¿šts_add
(
globc¡
, 
d•
->
c¡
);

347 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tAá” d• %d;‚um_cÚ¡¿šts: %d\n", 
i
+1,

348 
globc¡
->
Äows
));

356 ià(
globc¡
->
Äows
 >ğ
CONSTRAINTS_SIMPLIFY_THRESHOLD
 + (3000*
šc
) &&

357 
globc¡
->
Äows
 - 
d•
->
c¡
->nrows <

358 
CONSTRAINTS_SIMPLIFY_THRESHOLD
 + (3000*
šc
)) {

359 
	`¶uto_cÚ¡¿šts_sim¶ify
(
globc¡
);

360 
šc
++;

361 
	`IF_DEBUG
(
	`årštf
(
¡dout
,

362 "\tAá” d• %d;‚um_cÚ¡¿šts_sim¶if›d: %d\n", 
i
+1,

363 
globc¡
->
Äows
));

367 
	`¶uto_cÚ¡¿šts_sim¶ify
(
globc¡
);

369 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tAfter‡ll dependences:‚um constraints: %d,‚um variables: %d\n",

370 
globc¡
->
Äows
, globc¡->
ncŞs
 - 1));

373  
globc¡
;

374 
	}
}

377 
PlutoCÚ¡¿šts
 *
	$g‘_³rmub™y_cÚ¡¿šts
(
PlutoProg
 *
´og
)

379 
i
, 
šc
, 
n¡mts
, 
nv¬
, 
Å¬
, 
nd•s
, 
tÙ®_c¡_rows
;

380 
PlutoCÚ¡¿šts
 *
globc¡
;

381 
D•
 **
d•s
;

383 
n¡mts
 = 
´og
->nstmts;

384 
nd•s
 = 
´og
->ndeps;

385 
d•s
 = 
´og
->deps;

386 
nv¬
 = 
´og
->nvar;

387 
Å¬
 = 
´og
->npar;

389 
FILE
 *
skå
 = 
	`fİ’
("skipdeps.txt", "r");

390 *
skd•s
 = 
	`m®loc
(
nd•s
*());

391 
	`bz”o
(
skd•s
, 
nd•s
*());

394 ià(
skå
) {

395 
num
;

396 !
	`ãof
(
skå
)) {

397 
	`fsÿnf
(
skå
, "%d", &
num
);

398 
skd•s
[
num
-1] = 1;

399 
	`´štf
("\tskpšg d• %d\n", 
num
);

403 
tÙ®_c¡_rows
 = 0;

406 
i
=0; i<
nd•s
; i++) {

407 
D•
 *
d•
 = 
d•s
[
i
];

409 ià(
skd•s
[
i
]) ;

411 ià(
İtiÚs
->
¿r
 =ğ0 && 
	`IS_RAR
(
d•
->
ty³
)) {

415 ià(
d•
->
c¡
 =ğ
NULL
) {

417 
	`compu‹_³rmub™y_cÚ¡¿šts_d•
(
d•
, 
´og
);

419 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tFor dep %d;‚um_constraints: %d\n",

420 
i
+1, 
d•
->
c¡
->
Äows
));

421 
tÙ®_c¡_rows
 +ğ
d•
->
c¡
->
Äows
;

427 ià(!
´og
->
globc¡
) {

428 
´og
->
globc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
tÙ®_c¡_rows
, 
CST_WIDTH
);

431 
globc¡
 = 
´og
->globcst;

433 
globc¡
->
ncŞs
 = 
CST_WIDTH
;

434 
globc¡
->
Äows
 = 0;

437 
i
 = 0, 
šc
 = 0; i < 
nd•s
; i++) {

438 
D•
 *
d•
 = 
d•s
[
i
];

440 ià(
skd•s
[
i
]) ;

444 ià(
İtiÚs
->
¿r
 =ğ0 && 
	`IS_RAR
(
d•
->
ty³
)) ;

450 ià(
	`d•_is_§tisf›d
(
d•
)) {

455 
	`¶uto_cÚ¡¿šts_add
(
globc¡
, 
d•
->
c¡
);

458 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tAá” d• %d;‚um_cÚ¡¿šts: %d\n", 
i
+1,

459 
globc¡
->
Äows
));

467 ià(
globc¡
->
Äows
 >ğ
CONSTRAINTS_SIMPLIFY_THRESHOLD
 + (3000*
šc
) &&

468 
globc¡
->
Äows
 - 
d•
->
c¡
->nrows <

469 
CONSTRAINTS_SIMPLIFY_THRESHOLD
 + (3000*
šc
)) {

470 
	`¶uto_cÚ¡¿šts_sim¶ify
(
globc¡
);

471 
šc
++;

472 
	`IF_DEBUG
(
	`årštf
(
¡dout
,

473 "\tAá” d• %d;‚um_cÚ¡¿šts_sim¶if›d: %d\n", 
i
+1,

474 
globc¡
->
Äows
));

478 
	`¶uto_cÚ¡¿šts_sim¶ify
(
globc¡
);

480 
	`ä“
(
skd•s
);

481 ià(
skå
è
	`fşo£
(skipfp);

483 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tAfter‡ll dependences:‚um constraints: %d,‚um variables: %d\n",

484 
globc¡
->
Äows
, globc¡->
ncŞs
 - 1));

487  
globc¡
;

488 
	}
}

491 
PlutoCÚ¡¿šts
 *
	$g‘_ãauŒ›r_scheduË_cÚ¡¿šts_d•
(
D•
 *
d•
, 
PlutoProg
 *
´og
)

493 
PlutoCÚ¡¿šts
 *
c¡
, *
sched_v®id_c¡
;

494 
n¡mts
, 
nv¬
, 
Å¬
, 
¤c_¡mt
, 
de¡_¡mt
, 
j
, 
k
, 
r
;

495 
¤c_off£t
, 
de¡_off£t
;

496 
PlutoM©rix
 *
phi
;

497 
Stmt
 **
¡mts
;

499 
nv¬
 = 
´og
->nvar;

500 
Å¬
 = 
´og
->npar;

501 
¡mts
 = 
´og
->stmts;

502 
n¡mts
 = 
´og
->nstmts;

506 
	`IF_DEBUG
(
	`´štf
("[¶uto] g‘ 1-d schedulšg cÚ¡¿šts: D• %d\n", 
d•
->
id
+1););

508 
de¡_¡mt
 = 
d•
->
de¡
;

509 
¤c_¡mt
 = 
d•
->
¤c
;

511 
PlutoCÚ¡¿šts
 *
dpŞy
 = 
	`¶uto_cÚ¡¿šts_dup
(
d•
->
dpŞytİe
);

513 
	`¶uto_cÚ¡¿šts_k“p_cÚÃùšg_cÚ¡¿šts
(
dpŞy
, 0, 
nv¬
,

514 
nv¬
,‚var);

516 ià(
¤c_¡mt
 !ğ
de¡_¡mt
) {

517 
phi
 = 
	`¶uto_m©rix_®loc
(2*
nv¬
+
Å¬
+1, 2*(nvar+1)+1);

518 
	`¶uto_m©rix_£t
(
phi
, 0);

520 
r
=0;„<
nv¬
;„++) {

522 
phi
->
v®
[
r
][r] = -1;

524 
r
=
nv¬
;„<2*nvar;„++) {

526 
phi
->
v®
[
r
][(
nv¬
+1)+(r-nvar)] = 1;

531 
phi
->
v®
[2*
nv¬
+
Å¬
][(nvar+1)+nvar] = 1;

532 
phi
->
v®
[2*
nv¬
+
Å¬
][nvar] = -1;

534 
phi
->
v®
[2*
nv¬
+
Å¬
][2*(nvar+1)] = -1;

536 
phi
 = 
	`¶uto_m©rix_®loc
(2*
nv¬
+
Å¬
+1, (nvar+1)+1);

537 
	`¶uto_m©rix_£t
(
phi
, 0);

539 
r
=0;„<
nv¬
;„++) {

541 
phi
->
v®
[
r
][r] = -1;

543 
r
=
nv¬
;„<2*nvar;„++) {

545 
phi
->
v®
[
r
][r-
nv¬
] = 1;

553 
phi
->
v®
[2*
nv¬
+
Å¬
][nvar+1] = -1;

557 
sched_v®id_c¡
 = 
	`çrkas_Ëmma_affše
(
dpŞy
, 
phi
);

560 
	`¶uto_m©rix_ä“
(
phi
);

561 
	`¶uto_cÚ¡¿šts_ä“
(
dpŞy
);

566 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
sched_v®id_c¡
->
Äows
, 
CST_WIDTH
);

567 
c¡
->
Äows
 = 0;

568 
c¡
->
ncŞs
 = 
CST_WIDTH
;

570 
¤c_off£t
 = 
Å¬
+1+
¤c_¡mt
*(
nv¬
+1);

571 
de¡_off£t
 = 
Å¬
+1+
de¡_¡mt
*(
nv¬
+1);

574 ià(!
	`IS_RAR
(
d•
->
ty³
)) {

576 
k
=0; k<
sched_v®id_c¡
->
Äows
; k++) {

577 
	`¶uto_cÚ¡¿šts_add_cÚ¡¿št
(
c¡
, 
sched_v®id_c¡
->
is_eq
[
k
]);

578 
j
=0; j<
nv¬
+1; j++) {

579 
c¡
->
v®
[c¡->
Äows
-1][
¤c_off£t
+
j
] = 
sched_v®id_c¡
->v®[
k
][j];

580 ià(
¤c_¡mt
 !ğ
de¡_¡mt
) {

581 
c¡
->
v®
[c¡->
Äows
-1][
de¡_off£t
+
j
] = 
sched_v®id_c¡
->v®[
k
][
nv¬
+1+j];

585 ià(
¤c_¡mt
 =ğ
de¡_¡mt
) {

586 
c¡
->
v®
[c¡->
Äows
-1][c¡->
ncŞs
-1] = 
sched_v®id_c¡
->v®[
k
][
nv¬
+1];

588 
c¡
->
v®
[c¡->
Äows
-1][c¡->
ncŞs
-1] = 
sched_v®id_c¡
->v®[
k
][2*
nv¬
+2];

595 
k
=0; k<
nv¬
; k++) {

596 ià(!
¡mts
[
¤c_¡mt
]->
is_Üig_loİ
[
k
]) {

597 
j
=0; j < 
c¡
->
Äows
; j++) {

598 
c¡
->
v®
[
j
][
¤c_off£t
+
k
] = 0;

601 ià(
¤c_¡mt
 !ğ
de¡_off£t
 && !
¡mts
[
de¡_¡mt
]->
is_Üig_loİ
[
k
]) {

602 
j
=0; j < 
c¡
->
Äows
; j++) {

603 
c¡
->
v®
[
j
][
de¡_off£t
+
k
] = 0;

608 
	`¶uto_cÚ¡¿šts_ä“
(
sched_v®id_c¡
);

610  
c¡
;

611 
	}
}

617 
PlutoCÚ¡¿šts
 *
	$g‘_ãauŒ›r_scheduË_cÚ¡¿šts
(
PlutoProg
 *
´og
, 
Stmt
 **
¡mts
,

618 
n¡mts
)

620 
i
, 
šc
, 
nv¬
, 
Å¬
, 
nd•s
;

621 
PlutoCÚ¡¿šts
 *
fc¡
, *
fc¡_d
;

622 
D•
 **
d•s
;

624 
nd•s
 = 
´og
->ndeps;

625 
d•s
 = 
´og
->deps;

626 
nv¬
 = 
´og
->nvar;

627 
Å¬
 = 
´og
->npar;

629 
fc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(128, (
Å¬
+1+
´og
->
n¡mts
*(
nv¬
+1)+1));

632 
i
=0, 
šc
 = 0; i<
nd•s
; i++) {

633 
D•
 *
d•
 = 
d•s
[
i
];

635 ià(
İtiÚs
->
¿r
 =ğ0 && 
	`IS_RAR
(
d•
->
ty³
)) {

639 ià(!
	`¶uto_¡mt_is_memb”_of
(
d•
->
¤c
, 
¡mts
, 
n¡mts
)

640 || !
	`¶uto_¡mt_is_memb”_of
(
d•
->
de¡
, 
¡mts
, 
n¡mts
)) {

644 
fc¡_d
 = 
	`g‘_ãauŒ›r_scheduË_cÚ¡¿šts_d•
(
d•
, 
´og
);

646 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tFor dep %d;‚um_constraints: %d\n",

647 
i
+1, 
fc¡_d
->
Äows
));

648 
	`IF_MORE_DEBUG
(
	`årštf
(
¡dout
, "CÚ¡¿št fÜ d• %d\n", 
i
+1));

649 
	`IF_MORE_DEBUG
(
	`¶uto_cÚ¡¿šts_´‘ty_´št
(
¡dout
, 
fc¡_d
));

651 
	`¶uto_cÚ¡¿šts_add
(
fc¡
, 
fc¡_d
);

652 
	`¶uto_cÚ¡¿šts_ä“
(
fc¡_d
);

654 ià(
fc¡
->
Äows
 >ğ
CONSTRAINTS_SIMPLIFY_THRESHOLD
 + (1000*
šc
) &&

655 
fc¡
->
Äows
 - 
fc¡_d
->nrows <

656 
CONSTRAINTS_SIMPLIFY_THRESHOLD
 + (1000*
šc
)) {

657 
	`¶uto_cÚ¡¿šts_sim¶ify
(
fc¡
);

658 
	`IF_DEBUG
(
	`årštf
(
¡dout
,

659 "\tAá” d• %d;‚um_cÚ¡¿šts_sim¶if›d: %d\n", 
i
+1,

660 
fc¡
->
Äows
));

661 ià(
fc¡
->
Äows
 >ğ
CONSTRAINTS_SIMPLIFY_THRESHOLD
 + (1000*
šc
)) {

662 
šc
++;

666 
	`¶uto_cÚ¡¿šts_sim¶ify
(
fc¡
);

668 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "\tAfter‡ll dependences:‚um constraints: %d,‚um variables: %d\n",

669 
fc¡
->
Äows
, fc¡->
ncŞs
 - 1));

670 
	`IF_DEBUG2
(
	`¶uto_cÚ¡¿šts_´‘ty_´št
(
¡dout
, 
fc¡
));

672  
fc¡
;

673 
	}
}

702 
PlutoCÚ¡¿šts
 **
	$g‘_¡mt_Ütho_cÚ¡¿šts
(
Stmt
 *
¡mt
, cÚ¡ 
PlutoProg
 *
´og
,

703 cÚ¡ 
PlutoCÚ¡¿šts
 *
cu¼c¡
, *
ÜthÚum
)

705 
i
, 
j
, 
k
, 
p
, 
q
, 
nv¬
, 
Å¬
, 
n¡mts
;

706 
PlutoCÚ¡¿šts
 **
Üthc¡
;

707 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
;

708 
i¦_ùx
 *
ùx
;

709 
i¦_m©
 *
h
;

710 
i¦_basic_£t
 *
i¦_cu¼c¡
;

711 
PlutoO±iÚs
 *
İtiÚs
;

713 
İtiÚs
 = 
´og
->options;

715 
nv¬
 = 
´og
->nvar;

716 
Å¬
 = 
´og
->npar;

717 
n¡mts
 = 
´og
->nstmts;

718 
hPrİs
 = 
´og
->hProps;

720 
	`IF_DEBUG
(
	`´štf
("[¶uto] g‘_¡mt_ÜthØcÚ¡¿št S%d\n", 
¡mt
->
id
+1););

723 ià(
	`¶uto_¡mt_g‘_num_šd_hyps
(
¡mt
è>ğ¡mt->
dim_Üig
) {

724 *
ÜthÚum
 = 0;

725  
NULL
;

730 
i
 = 0, 
p
 = 0; i < 
nv¬
; i++) {

731 ià(
¡mt
->
is_Üig_loİ
[
i
]) {

732 
p
++;

736 
	`as£¹
(
¡mt
->
Œªs
 !ğ
NULL
);

738 
j
 = 0, 
q
 = 0; j < 
¡mt
->
Œªs
->
Äows
; j++) {

739 ià(
hPrİs
[
j
].
ty³
 !ğ
H_SCALAR
) {

740 
q
++;

744 
ùx
 = 
	`i¦_ùx_®loc
();

745 
	`as£¹
(
ùx
);

747 
h
 = 
	`i¦_m©_®loc
(
ùx
, 
q
, 
p
);

749 
p
=0;

750 
q
=0;

751 
i
=0; i<
nv¬
; i++) {

752 ià(
¡mt
->
is_Üig_loİ
[
i
]) {

753 
q
=0;

754 
j
=0; j<
¡mt
->
Œªs
->
Äows
; j++) {

756 ià(
hPrİs
[
j
].
ty³
 !ğ
H_SCALAR
) {

757 
h
 = 
	`i¦_m©_£t_–em’t_si
(h, 
q
, 
p
, 
¡mt
->
Œªs
->
v®
[
j
][
i
]);

758 
q
++;

761 
p
++;

765 
h
 = 
	`i¦_m©_right_k”Ãl
(h);

767 
PlutoM©rix
 *
Ütho
 = 
	`¶uto_m©rix_äom_i¦_m©
(
h
);

769 
	`i¦_m©_ä“
(
h
);

771 
Üthc¡
 = (
PlutoCÚ¡¿šts
 **è
	`m®loc
((
nv¬
+1)*(PlutoConstraints *));

773 
i
=0; i<
nv¬
+1; i++) {

774 
Üthc¡
[
i
] = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
CST_WIDTH
);

775 
Üthc¡
[
i
]->
ncŞs
 = 
CST_WIDTH
;

787 
j
=0; j<
Ütho
->
ncŞs
; j++) {

788 ià(
Ütho
->
v®
[0][
j
] == 0) ;

789 
cŞgcd
 = 
	`abs
(
Ütho
->
v®
[0][
j
]);

790 
i
=1; i<
Ütho
->
Äows
; i++) {

791 ià(
Ütho
->
v®
[
i
][
j
] == 0) ;

792 
cŞgcd
 = 
	`gcd
(cŞgcd,
	`abs
(
Ütho
->
v®
[
i
][
j
]));

794 ià(
i
 =ğ
Ütho
->
Äows
) {

795 ià(
cŞgcd
 > 1) {

796 
k
=0; k<
Ütho
->
Äows
; k++) {

797 
Ütho
->
v®
[
k
][
j
] /ğ
cŞgcd
;

806 ià(
İtiÚs
->
æic
è
i¦_cu¼c¡
 = 
NULL
;

807 
i¦_cu¼c¡
 = 
	`i¦_basic_£t_äom_¶uto_cÚ¡¿šts
(
ùx
, 
cu¼c¡
);

809 
	`as£¹
(
p
 =ğ
Ütho
->
Äows
);

810 
p
=0;

811 
i
=0; i<
Ütho
->
ncŞs
; i++) {

812 
i¦_basic_£t
 *
Üthc¡_i
;

814 
j
=0;

815 
q
=0; q<
nv¬
; q++) {

816 ià(
¡mt
->
is_Üig_loİ
[
q
]) {

817 
Üthc¡
[
p
]->
v®
[0][
Å¬
+1+(
¡mt
->
id
)*(
nv¬
+1)+
q
] = 
Ütho
->v®[
j
][
i
];

818 
j
++;

821 
Üthc¡
[
p
]->
Äows
 = 1;

822 
Üthc¡
[
p
]->
v®
[0][
CST_WIDTH
-1] = -1;

823 ià(!
İtiÚs
->
æic
) {

824 
Üthc¡_i
 = 
	`i¦_basic_£t_äom_¶uto_cÚ¡¿šts
(
ùx
, 
Üthc¡
[
p
]);

826 
Üthc¡
[
p
]->
v®
[0][
CST_WIDTH
-1] = 0;

828 ià(!
İtiÚs
->
æic
) {

829 
Üthc¡_i
 = 
	`i¦_basic_£t_š‹r£ù
(orthcst_i,

830 
	`i¦_basic_£t_cİy
(
i¦_cu¼c¡
));

831 ià(
	`i¦_basic_£t_¶aš_is_em±y
(
Üthc¡_i
)

832 || 
	`i¦_basic_£t_is_em±y
(
Üthc¡_i
)) {

833 
	`¶uto_cÚ¡¿šts_Ãg©e_row
(
Üthc¡
[
p
], 0);

835 
	`i¦_basic_£t_ä“
(
Üthc¡_i
);

837 
p
++;

841 ià(
p
 >= 1) {

843 
j
=0; j<
CST_WIDTH
; j++) {

844 
i
=0; i<
p
; i++) {

845 
Üthc¡
[
p
]->
v®
[0][
j
] +ğÜthc¡[
i
]->val[0][j];

848 
Üthc¡
[
p
]->
Äows
 = 1;

849 
Üthc¡
[
p
]->
v®
[0][
CST_WIDTH
-1] = -1;

850 
p
++;

853 *
ÜthÚum
 = 
p
;

855 
	`IF_DEBUG2
(
	`´štf
("Ortho constraints for S%d; %d disjuncts\n",

856 
¡mt
->
id
+1, *
ÜthÚum
-1));

857 
i
=0; i<*
ÜthÚum
; i++) {

859 
	`IF_DEBUG2
(
	`¶uto_cÚ¡¿šts_com·ù_´št
(
¡dout
, 
Üthc¡
[
i
]));

863 
i
=
p
; i<
nv¬
+1; i++) {

864 
	`¶uto_cÚ¡¿šts_ä“
(
Üthc¡
[
i
]);

867 
	`¶uto_m©rix_ä“
(
Ütho
);

868 
	`i¦_basic_£t_ä“
(
i¦_cu¼c¡
);

869 
	`i¦_ùx_ä“
(
ùx
);

871  
Üthc¡
;

872 
	}
}

880 
boŞ
 
	$d•_§tisçùiÚ_‹¡
(
D•
 *
d•
, 
PlutoProg
 *
´og
, 
Ëv–
)

882 
PlutoCÚ¡¿šts
 *
c¡
;

883 
j
, 
¤c_dim
, 
de¡_dim
, 
Å¬
;

884 
boŞ
 
is_em±y
;

886 
Å¬
 = 
´og
->npar;

888 
Stmt
 *
¤c_¡mt
 = 
´og
->
¡mts
[
d•
->
¤c
];

889 
Stmt
 *
de¡_¡mt
 = 
´og
->
¡mts
[
d•
->
de¡
];

891 
¤c_dim
 = 
¤c_¡mt
->
dim
;

892 
de¡_dim
 = 
de¡_¡mt
->
dim
;

894 
	`as£¹
(
¤c_¡mt
->
Œªs
 !ğ
NULL
);

895 
	`as£¹
(
de¡_¡mt
->
Œªs
 !ğ
NULL
);

896 
	`as£¹
(
Ëv–
 < 
¤c_¡mt
->
Œªs
->
Äows
);

897 
	`as£¹
(
Ëv–
 < 
de¡_¡mt
->
Œªs
->
Äows
);

899 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(2*(1+
d•
->
dpŞytİe
->
Äows
),

900 
¤c_dim
+
de¡_dim
+
Å¬
+1);

908 
c¡
->
is_eq
[0] = 0;

909 
j
=0; j<
¤c_dim
; j++) {

910 
c¡
->
v®
[0][
j
] = 
¤c_¡mt
->
Œªs
->v®[
Ëv–
][j];

912 
j
=
¤c_dim
; j<¤c_dim+
de¡_dim
; j++) {

913 
c¡
->
v®
[0][
j
] = -
de¡_¡mt
->
Œªs
->v®[
Ëv–
][j-
¤c_dim
];

915 
j
=
¤c_dim
+
de¡_dim
; j<¤c_dim+de¡_dim+
Å¬
+1; j++) {

916 
c¡
->
v®
[0][
j
] =

917 
¤c_¡mt
->
Œªs
->
v®
[
Ëv–
][
j
-
de¡_dim
] - 
de¡_¡mt
->Œªs->v®[Ëv–][j-
¤c_dim
];

920 
c¡
->
Äows
 = 1;

922 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
d•
->
dpŞytİe
);

926 
is_em±y
 = 
	`¶uto_cÚ¡¿šts_is_em±y
(
c¡
);

927 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

929  
is_em±y
;

930 
	}
}

942 
	$¶uto_d•_»move_§tisf›d_š¡ªûs
(
D•
 *
d•
, 
PlutoProg
 *
´og
, 
Ëv–
)

944 
PlutoCÚ¡¿šts
 *
c¡
;

945 
j
, 
¤c
, 
de¡
, 
¤c_dim
, 
de¡_dim
, 
»tv®
;

947 
Å¬
 = 
´og
->npar;

949 
Stmt
 **
¡mts
 = 
´og
->stmts;

951 
¤c
 = 
d•
->src;

952 
de¡
 = 
d•
->dest;

954 
¤c_dim
 = 
´og
->
¡mts
[
¤c
]->
dim
;

955 
de¡_dim
 = 
´og
->
¡mts
[
de¡
]->
dim
;

957 
	`as£¹
(
Ëv–
 < 
¡mts
[
¤c
]->
Œªs
->
Äows
);

958 
	`as£¹
(
Ëv–
 < 
¡mts
[
de¡
]->
Œªs
->
Äows
);

960 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(1+
d•
->
dpŞytİe
->
Äows
, 
¤c_dim
+
de¡_dim
+
Å¬
+1);

967 
c¡
->
is_eq
[0] = 0;

968 
j
=0; j<
¤c_dim
; j++) {

969 
c¡
->
v®
[0][
j
] = 
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j];

971 
j
=
¤c_dim
; j<¤c_dim+
de¡_dim
; j++) {

972 
c¡
->
v®
[0][
j
] = -
¡mts
[
de¡
]->
Œªs
->v®[
Ëv–
][j-
¤c_dim
];

974 
j
=
¤c_dim
+
de¡_dim
; j<¤c_dim+de¡_dim+
Å¬
; j++) {

975 
c¡
->
v®
[0][
j
] =

976 
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
j
-
de¡_dim
] - stmts[
de¡
]->Œªs->v®[Ëv–][j-
¤c_dim
];

978 
j
=
¤c_dim
+
de¡_dim
+
Å¬
;

979 
c¡
->
v®
[0][
j
] =

980 
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
j
-
de¡_dim
] - stmts[
de¡
]->Œªs->v®[Ëv–][j-
¤c_dim
];

982 
c¡
->
Äows
 = 1;

984 
	`¶uto_cÚ¡¿šts_š‹r£ù_i¦
(
d•
->
d•§t_pŞy
, 
c¡
);

986 
»tv®
 = !
	`¶uto_cÚ¡¿šts_is_em±y
(
c¡
);

988 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

990  
»tv®
;

991 
	}
}

1000 
	$¶uto_compu‹_d•_§tisçùiÚ_´eci£
(
PlutoProg
 *
´og
)

1002 
i
, 
num_§tisf›d
;

1004 
	`IF_DEBUG
(
	`´štf
("[pluto] computing_dep_satisfaction_precise\n"););

1006 
i
=0; i<
´og
->
nd•s
; i++) {

1007 
´og
->
d•s
[
i
]->
§tisf›d
 = 
çl£
;

1008 
´og
->
d•s
[
i
]->
§tisçùiÚ_Ëv–
 = -1;

1011 
num_§tisf›d
 = 0;

1015 
i
=0; i<
´og
->
nd•s
; i++) {

1016 
Ëv–
;

1017 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

1019 ià(
d•
->
d•§t_pŞy
 !ğ
NULL
) {

1020 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
d•§t_pŞy
);

1022 
d•
->
d•§t_pŞy
 = 
	`¶uto_cÚ¡¿šts_dup
(d•->
dpŞytİe
);

1024 ià(
d•
->
§tvec
 !ğ
NULL
è
	`ä“
(dep->satvec);

1025 
d•
->
§tvec
 = (*è
	`m®loc
(
´og
->
num_hy³½ÏÃs
*());

1027 
d•
->
§tisçùiÚ_Ëv–
 = -1;

1029 
Ëv–
=0;†ev–<
´og
->
num_hy³½ÏÃs
;†evel++) {

1030 
d•
->
§tvec
[
Ëv–
] = 
	`¶uto_d•_§tisf›s_š¡ªû
(d•, 
´og
,†evel);

1031 
	`¶uto_d•_»move_§tisf›d_š¡ªûs
(
d•
, 
´og
, 
Ëv–
);

1032 ià(
d•
->
§tvec
[
Ëv–
]) {

1033 
d•
->
§tisçùiÚ_Ëv–
 = 
	`PLMAX
(d•->§tisçùiÚ_Ëv–, 
Ëv–
);

1035 ià(
	`¶uto_cÚ¡¿šts_is_em±y
(
d•
->
d•§t_pŞy
)) {

1036 
d•
->
§tisf›d
 = 
Œue
;

1037 
	`IF_MORE_DEBUG
(
	`´štf
("\td• %d s©isf›d\n", 
d•
->
id
+1););

1038 ià(!
	`IS_RAR
(
d•
->
ty³
)è
num_§tisf›d
++;

1042 ià(
Ëv–
 =ğ
´og
->
num_hy³½ÏÃs
 && !
	`IS_RAR
(
d•
->
ty³
)) {

1045 
Ëv–
++;

1046 ;
Ëv–
<
´og
->
num_hy³½ÏÃs
;†evel++) {

1047 
d•
->
§tvec
[
Ëv–
] = 0;

1051 
	`IF_DEBUG
(
	`´štf
("\t %d (out of %d) dep(s) satisfied\n",

1052 
num_§tisf›d
, 
´og
->
nd•s
););

1053  
num_§tisf›d
;

1054 
	}
}

1058 
	$¶uto_d•_§tisf›s_š¡ªû
(cÚ¡ 
D•
 *
d•
, cÚ¡ 
PlutoProg
 *
´og
, 
Ëv–
)

1060 
PlutoCÚ¡¿šts
 *
c¡
;

1061 
j
, 
¤c
, 
de¡
, 
¤c_dim
, 
de¡_dim
, 
»tv®
;

1063 
Å¬
 = 
´og
->npar;

1065 
Stmt
 **
¡mts
 = 
´og
->stmts;

1067 
¤c
 = 
d•
->src;

1068 
de¡
 = 
d•
->dest;

1070 
¤c_dim
 = 
´og
->
¡mts
[
¤c
]->
dim
;

1071 
de¡_dim
 = 
´og
->
¡mts
[
de¡
]->
dim
;

1073 
	`as£¹
(
Ëv–
 < 
¡mts
[
¤c
]->
Œªs
->
Äows
);

1074 
	`as£¹
(
Ëv–
 < 
¡mts
[
de¡
]->
Œªs
->
Äows
);

1076 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(1+
d•
->
dpŞytİe
->
Äows
, 
¤c_dim
+
de¡_dim
+
Å¬
+1);

1083 
c¡
->
is_eq
[0] = 0;

1084 
j
=0; j<
¤c_dim
; j++) {

1085 
c¡
->
v®
[0][
j
] = -
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j];

1087 
j
=
¤c_dim
; j<¤c_dim+
de¡_dim
; j++) {

1088 
c¡
->
v®
[0][
j
] = 
¡mts
[
de¡
]->
Œªs
->v®[
Ëv–
][j-
¤c_dim
];

1090 
j
=
¤c_dim
+
de¡_dim
; j<¤c_dim+de¡_dim+
Å¬
; j++) {

1091 
c¡
->
v®
[0][
j
] =

1092 -
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
j
-
de¡_dim
] + stmts[
de¡
]->Œªs->v®[Ëv–][j-
¤c_dim
];

1094 
j
=
¤c_dim
+
de¡_dim
+
Å¬
;

1095 
c¡
->
v®
[0][
j
] =

1096 -
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
j
-
de¡_dim
] + stmts[
de¡
]->Œªs->v®[Ëv–][j-
¤c_dim
]-1;

1098 
c¡
->
Äows
 = 1;

1100 
	`¶uto_cÚ¡¿šts_š‹r£ù_i¦
(
c¡
, 
d•
->
d•§t_pŞy
);

1103 
»tv®
 = !
	`¶uto_cÚ¡¿šts_is_em±y
(
c¡
);

1105 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

1107  
»tv®
;

1108 
	}
}

1112 
D•Dœ
 
	$g‘_d•_dœeùiÚ
(cÚ¡ 
D•
 *
d•
, cÚ¡ 
PlutoProg
 *
´og
, 
Ëv–
)

1114 
PlutoCÚ¡¿šts
 *
c¡
;

1115 
j
, 
¤c
, 
de¡
;

1117 
Å¬
 = 
´og
->npar;

1118 
Stmt
 **
¡mts
 = 
´og
->stmts;

1120 
¤c
 = 
d•
->src;

1121 
de¡
 = 
d•
->dest;

1123 
Stmt
 *
¤c_¡mt
 = 
¡mts
[
d•
->
¤c
];

1124 
Stmt
 *
de¡_¡mt
 = 
¡mts
[
d•
->
de¡
];

1126 
¤c_dim
 = 
¤c_¡mt
->
dim
;

1127 
de¡_dim
 = 
de¡_¡mt
->
dim
;

1129 
	`as£¹
(
Ëv–
 < 
¡mts
[
¤c
]->
Œªs
->
Äows
);

1130 
	`as£¹
(
Ëv–
 < 
¡mts
[
de¡
]->
Œªs
->
Äows
);

1132 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(2 * (2 + 
d•
->
dpŞytİe
->
Äows
),

1133 (
¤c_dim
 + 
de¡_dim
è+ 
Å¬
 + 1);

1142 
c¡
->
is_eq
[0] = 0;

1143 
j
 = 0; j < 
¤c_dim
; j++) {

1144 
c¡
->
v®
[0][
j
] = -
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j];

1146 
j
 = 
¤c_dim
; j < src_dim + 
de¡_dim
; j++) {

1147 
c¡
->
v®
[0][
j
] = 
¡mts
[
de¡
]->
Œªs
->v®[
Ëv–
][j - 
¤c_dim
];

1149 
j
 = 
¤c_dim
 + 
de¡_dim
; j < src_dim + de¡_dim + 
Å¬
; j++) {

1150 
c¡
->
v®
[0][
j
] = -
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j - 
de¡_dim
] +

1151 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
j
 - 
¤c_dim
];

1153 
c¡
->
v®
[0][
¤c_dim
 + 
de¡_dim
 + 
Å¬
] =

1154 -
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
¤c_dim
 + 
Å¬
] +

1155 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
de¡_dim
 + 
Å¬
] - 1;

1156 
c¡
->
Äows
 = 1;

1158 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
d•
->
dpŞytİe
);

1160 
boŞ
 
is_em±y
 = 
	`¶uto_cÚ¡¿šts_is_em±y
(
c¡
);

1162 ià(
is_em±y
) {

1163 
j
 = 0; j < 
¤c_dim
; j++) {

1164 
c¡
->
v®
[0][
j
] = 
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j];

1166 
j
 = 
¤c_dim
; j < src_dim + 
de¡_dim
; j++) {

1167 
c¡
->
v®
[0][
j
] = -
¡mts
[
de¡
]->
Œªs
->v®[
Ëv–
][j - 
¤c_dim
];

1169 
j
 = 
¤c_dim
 + 
de¡_dim
; j < src_dim + de¡_dim + 
Å¬
; j++) {

1170 
c¡
->
v®
[0][
j
] = 
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j - 
de¡_dim
]

1171 - 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
j
 - 
¤c_dim
];

1173 
c¡
->
v®
[0][
¤c_dim
 + 
de¡_dim
 + 
Å¬
] =

1174 
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
¤c_dim
 + 
Å¬
]

1175 - 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
de¡_dim
 + 
Å¬
] - 1;

1176 
c¡
->
Äows
 = 1;

1178 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
d•
->
dpŞytİe
);

1180 
is_em±y
 = 
	`¶uto_cÚ¡¿šts_is_em±y
(
c¡
);

1183 ià(
is_em±y
) {

1184 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

1185  
DEP_ZERO
;

1196 
j
 = 0; j < 
¤c_dim
; j++) {

1197 
c¡
->
v®
[0][
j
] = 
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j];

1199 
j
 = 
¤c_dim
; j < src_dim + 
de¡_dim
; j++) {

1200 
c¡
->
v®
[0][
j
] = -
¡mts
[
de¡
]->
Œªs
->v®[
Ëv–
][j - 
¤c_dim
];

1202 
j
 = 
¤c_dim
 + 
de¡_dim
; j < src_dim + de¡_dim + 
Å¬
; j++) {

1203 
c¡
->
v®
[0][
j
] = 
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j - 
de¡_dim
]

1204 - 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
j
 - 
¤c_dim
];

1206 
c¡
->
v®
[0][
¤c_dim
 + 
de¡_dim
 + 
Å¬
] =

1207 
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
¤c_dim
 + 
Å¬
] -

1208 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
de¡_dim
 + 
Å¬
] - 1;

1210 
c¡
->
Äows
 = 1;

1212 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
d•
->
dpŞytİe
);

1214 
is_em±y
 = 
	`¶uto_cÚ¡¿šts_is_em±y
(
c¡
);

1216 ià(
is_em±y
) {

1217 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

1218  
DEP_PLUS
;

1229 
j
 = 0; j < 
¤c_dim
; j++) {

1230 
c¡
->
v®
[0][
j
] = -
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j];

1232 
j
 = 
¤c_dim
; j < src_dim + 
de¡_dim
; j++) {

1233 
c¡
->
v®
[0][
j
] = 
¡mts
[
de¡
]->
Œªs
->v®[
Ëv–
][j - 
¤c_dim
];

1235 
j
 = 
¤c_dim
 + 
de¡_dim
; j < src_dim + de¡_dim + 
Å¬
; j++) {

1236 
c¡
->
v®
[0][
j
] = -
¡mts
[
¤c
]->
Œªs
->v®[
Ëv–
][j - 
de¡_dim
]

1237 + 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
j
 - 
¤c_dim
];

1239 
c¡
->
v®
[0][
¤c_dim
 + 
de¡_dim
 + 
Å¬
] =

1240 -
¡mts
[
¤c
]->
Œªs
->
v®
[
Ëv–
][
¤c_dim
 + 
Å¬
] +

1241 
¡mts
[
de¡
]->
Œªs
->
v®
[
Ëv–
][
de¡_dim
 + 
Å¬
] - 1;

1242 
c¡
->
Äows
 = 1;

1244 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
d•
->
dpŞytİe
);

1246 
is_em±y
 = 
	`¶uto_cÚ¡¿šts_is_em±y
(
c¡
);

1247 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

1249 ià(
is_em±y
) {

1250  
DEP_MINUS
;

1254  
DEP_STAR
;

1255 
	}
}

	@iss.c

3 
	~<¡dio.h
>

4 
	~<¡dlib.h
>

5 
	~<as£¹.h
>

6 
	~<m©h.h
>

7 
	~<¡ršg.h
>

8 
	~<¡dboŞ.h
>

10 
	~"¶uto.h
"

11 
	~"m©h_suµÜt.h
"

12 
	~"cÚ¡¿šts.h
"

13 
	~"´og¿m.h
"

16 
PlutoCÚ¡¿šts
 **
	$g‘_lš_šd_cÚ¡¿šts
(
PlutoM©rix
 *
m©
, *
ÜthÚum
)

18 
i
, 
j
, 
k
;

19 
PlutoCÚ¡¿šts
 **
Üthc¡
;

20 
i¦_ùx
 *
ùx
;

21 
i¦_m©
 *
h
;

23 
	`as£¹
(
m©
 !ğ
NULL
);

25 
ndim
 = 
m©
->
ncŞs
;

27 
ùx
 = 
	`i¦_ùx_®loc
();

28 
	`as£¹
(
ùx
);

33 
h
 = 
	`i¦_m©_®loc
(
ùx
, 
m©
->
Äows
, 
ndim
);

35 
i
=0; i<
m©
->
ncŞs
; i++) {

36 
j
=0; j<
m©
->
Äows
; j++) {

37 
h
 = 
	`i¦_m©_£t_–em’t_si
(h, 
j
, 
i
, 
m©
->
v®
[j][i]);

41 
h
 = 
	`i¦_m©_right_k”Ãl
(h);

43 
PlutoM©rix
 *
Ütho
 = 
	`¶uto_m©rix_äom_i¦_m©
(
h
);

45 
	`i¦_m©_ä“
(
h
);

47 
Üthc¡
 = (
PlutoCÚ¡¿šts
 **è
	`m®loc
((
ndim
+1)*(PlutoConstraints *));

49 
i
=0; i<
ndim
+1; i++) {

50 
Üthc¡
[
i
] = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
ndim
+1);

51 
Üthc¡
[
i
]->
ncŞs
 = 
ndim
+1;

63 
j
=0; j<
Ütho
->
ncŞs
; j++) {

64 ià(
Ütho
->
v®
[0][
j
] == 0) ;

65 
cŞgcd
 = 
	`abs
(
Ütho
->
v®
[0][
j
]);

66 
i
=1; i<
Ütho
->
Äows
; i++) {

67 ià(
Ütho
->
v®
[
i
][
j
] == 0) ;

68 
cŞgcd
 = 
	`gcd
(cŞgcd,
	`abs
(
Ütho
->
v®
[
i
][
j
]));

70 ià(
i
 =ğ
Ütho
->
Äows
) {

71 ià(
cŞgcd
 > 1) {

72 
k
=0; k<
Ütho
->
Äows
; k++) {

73 
Ütho
->
v®
[
k
][
j
] /ğ
cŞgcd
;

81 
i
=0; i<
Ütho
->
ncŞs
; i++) {

82 
j
=0; j<
ndim
; j++) {

83 
Üthc¡
[
i
]->
v®
[0][
j
] = 
Ütho
->val[j][i];

85 
Üthc¡
[
i
]->
Äows
 = 1;

86 
Üthc¡
[
i
]->
v®
[0][
ndim
] = -1;

87 
Üthc¡
[
i
]->
v®
[0][
ndim
] = 0;

92 ià(
Ütho
->
ncŞs
 >= 1) {

94 
j
=0; j<
ndim
+1; j++) {

95 
i
=0; i<
Ütho
->
ncŞs
; i++) {

96 
Üthc¡
[
Ütho
->
ncŞs
]->
v®
[0][
j
] +ğÜthc¡[
i
]->val[0][j];

99 
Üthc¡
[
Ütho
->
ncŞs
]->
Äows
 = 1;

100 
Üthc¡
[
Ütho
->
ncŞs
]->
v®
[0][
ndim
] = -1;

101 *
ÜthÚum
 = 
Ütho
->
ncŞs
+1;

102 }*
ÜthÚum
 = 0;

112 
i
=*
ÜthÚum
; i<
ndim
+1; i++) {

113 
	`¶uto_cÚ¡¿šts_ä“
(
Üthc¡
[
i
]);

116 
	`¶uto_m©rix_ä“
(
Ütho
);

117 
	`i¦_ùx_ä“
(
ùx
);

119  
Üthc¡
;

120 
	}
}

130 
PlutoCÚ¡¿šts
 *
	$¶uto_fšd_iss
(cÚ¡ 
PlutoCÚ¡¿šts
 **
doms
, 
ndoms
,

131 
Å¬
, 
PlutoCÚ¡¿šts
 *
šdc¡
)

133 
i
, 
j
, 
k
, 
ndim
;

135 ià(
ndoms
 =ğ0è 
NULL
;

137 
	`as£¹
(
ndoms
 >= 0);

139 cÚ¡ 
PlutoCÚ¡¿šts
 *
dom0
 = 
doms
[0];

141 
i
=0; i<
ndoms
; i++) {

142 
	`as£¹
((
doms
[
i
]->
ncŞs
 - 1 - 
Å¬
)%2 == 0);

144 
ndim
 = (
doms
[0]->
ncŞs
 - 1 - 
Å¬
)/2;

153 
iss_c¡_width
 = 2+
ndim
+
Å¬
+1+1;

154 
PlutoCÚ¡¿šts
 *
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(10, 
iss_c¡_width
);

156 
k
=0; k<
ndoms
; k++) {

158 cÚ¡ 
PlutoCÚ¡¿šts
 *
dom
 = 
doms
[
k
];

161 
PlutoM©rix
 *
m©
 = 
	`¶uto_m©rix_®loc
(
dom
->
ncŞs
, 
iss_c¡_width
);

162 
	`¶uto_m©rix_£t
(
m©
, 0);

164 
i
=0; i<
ndim
; i++) {

165 
m©
->
v®
[
i
][2+i] = -1;

167 
i
=0; i<
ndim
; i++) {

168 
m©
->
v®
[
ndim
+
i
][2+i] = -1;

170 
i
=0; i<
Å¬
; i++) {

171 
m©
->
v®
[2*
ndim
+
i
][2+ndim+i] = 2;

174 
m©
->
v®
[2*
ndim
+
Å¬
][2+ndim+npar] = 2;

175 
m©
->
v®
[2*
ndim
+
Å¬
][0] = 1;

181 
PlutoCÚ¡¿šts
 *
c¡1
 = 
	`çrkas_Ëmma_affše
(
dom
, 
m©
);

184 
	`¶uto_m©rix_£t
(
m©
, 0);

186 
i
=0; i<
ndim
; i++) {

187 
m©
->
v®
[
i
][2+i] = 1;

189 
i
=0; i<
ndim
; i++) {

190 
m©
->
v®
[
ndim
+
i
][2+i] = 1;

192 
i
=0; i<
Å¬
; i++) {

193 
m©
->
v®
[2*
ndim
+
i
][2+ndim+i] = -2;

196 
m©
->
v®
[2*
ndim
+
Å¬
][2+ndim+npar] = -2;

197 
m©
->
v®
[2*
ndim
+
Å¬
][0] = 1;

199 
PlutoCÚ¡¿šts
 *
c¡2
 = 
	`çrkas_Ëmma_affše
(
dom
, 
m©
);

200 
	`¶uto_m©rix_ä“
(
m©
);

202 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
c¡1
);

203 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
c¡2
);

204 
	`¶uto_cÚ¡¿šts_ä“
(
c¡1
);

205 
	`¶uto_cÚ¡¿šts_ä“
(
c¡2
);

209 
	`¶uto_cÚ¡¿šts_add_ub
(
c¡
, 0, 5);

212 
	`¶uto_cÚ¡¿šts_add_equ®™y
(
c¡
);

214 
j
=2; j<2+
ndim
; j++) {

215 
c¡
->
v®
[c¡->
Äows
-1][
j
] = -1;

217 
c¡
->
v®
[c¡->
Äows
-1][1] = 1;

220 
PlutoCÚ¡¿šts
 *
nz
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
iss_c¡_width
);

221 
nz
->
Äows
 = 1;

222 
j
=0; j<
ndim
; j++) {

223 
nz
->
v®
[0][2+
j
] = 1;

225 
nz
->
v®
[0][nz->
ncŞs
-1] = -1;

226 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
nz
);

229 ià(
šdc¡
) {

231 
	`¶uto_cÚ¡¿šts_add_dim
(
šdc¡
, 0, 
NULL
);

232 
	`¶uto_cÚ¡¿šts_add_dim
(
šdc¡
, 0, 
NULL
);

234 
j
=0; j<
Å¬
+1; j++) {

235 
	`¶uto_cÚ¡¿šts_add_dim
(
šdc¡
, 
ndim
+2, 
NULL
);

237 
	`¶uto_cÚ¡¿šts_add
(
c¡
, 
šdc¡
);

240 
št64
 *
sŞ
 = 
	`¶uto_cÚ¡¿šts_Ëxmš
(
c¡
, 
DO_NOT_ALLOW_NEGATIVE_COEFF
);

242 
	`¶uto_cÚ¡¿šts_ä“
(
c¡
);

243 
	`¶uto_cÚ¡¿šts_ä“
(
nz
);

245 ià(
sŞ
) {

246 
PlutoCÚ¡¿šts
 *
h
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
ndim
+
Å¬
+1);

247 
h
->
Äows
 = 1;

249 
h
->
is_eq
[0] = 1;

250 
j
=0; j<
ndim
; j++) {

251 
h
->
v®
[0][
j
] = 
sŞ
[2+j];

253 
j
=0; j<
Å¬
; j++) {

254 
h
->
v®
[0][
ndim
+
j
] = -
sŞ
[2+ndim+j];

256 
h
->
v®
[0][
ndim
+
Å¬
] = -
sŞ
[2+ndim+npar];

257 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
h
, 
dom0
->
Çmes
, 0, 0, 
ndim
);

258 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
h
, 
dom0
->
Çmes
, 
ndim
, 2*ndim, 
Å¬
);

260 
	`PLUTO_MESSAGE
(
	`´štf
("[iss] m = %Îd\n", 
sŞ
[0]););

261 
	`PLUTO_MESSAGE
(
	`´štf
("[iss] h (cut) is "););

262 
	`PLUTO_MESSAGE
(
	`¶uto_cÚ¡¿šts_com·ù_´št
(
¡dout
, 
h
););

263 
	`ä“
(
sŞ
);

264  
h
;

266 
	`PLUTO_MESSAGE
(
	`´štf
("[iss] No solutiono closeo mid-point cut)\n"););

267  
NULL
;

269 
	}
}

272 
	$is_lÚg_bidœeùiÚ®_d•
(cÚ¡ 
D•
 *
d•
, 
dim
, 
Å¬
)

274 
	`as£¹
(
d•
->
¤c
 =ğd•->
de¡
);

279 
ndim
 = (
d•
->
dpŞytİe
->
ncŞs
-1-
Å¬
)/2;

281 
	`as£¹
(
dim
 >= 0);

282 
	`as£¹
(
dim
 <ğ
ndim
-1);

284 
PlutoCÚ¡¿šts
 *
dpŞyc
 = 
	`¶uto_cÚ¡¿šts_dup
(
d•
->
dpŞytİe
);

286 
	`¶uto_cÚ¡¿šts_add_dim
(
dpŞyc
, 0, 
NULL
);

287 
	`¶uto_cÚ¡¿šts_add_equ®™y
(
dpŞyc
);

288 
dpŞyc
->
v®
[dpŞyc->
Äows
-1][0] = 1;

289 
dpŞyc
->
v®
[dpŞyc->
Äows
-1][1+
dim
] = 1;

290 
dpŞyc
->
v®
[dpŞyc->
Äows
-1][1+
ndim
+
dim
] = -1;

292 
št64
 
lb
, 
ub
;

293 
»tv®1
, 
»tv®2
;

295 
»tv®1
 = 
	`¶uto_cÚ¡¿šts_g‘_cÚ¡_lb
(
dpŞyc
, 0, &
lb
);

296 
»tv®2
 = 
	`¶uto_cÚ¡¿šts_g‘_cÚ¡_ub
(
dpŞyc
, 0, &
ub
);

298 
	`¶uto_cÚ¡¿šts_ä“
(
dpŞyc
);

302  !(
»tv®1
 && 
»tv®2
 && 
	`abs
(
ub
è<ğ5 &&‡bs(
lb
) <= 5);

303 
	}
}

308 
	$¶uto_upd©e_d•s_aá”_iss
(
PlutoProg
 *
´og
,

309 
PlutoCÚ¡¿šts
 **
cuts
, 
num_cuts
,

310 
iss_¡mt_id
, 
ba£_¡mt_id
)

312 
i
, 
k
, 
s
, 
t
, 
num_iss_d•s
;

314 
D•
 **
iss_d•s
 = 
NULL
;

315 
num_iss_d•s
 = 0;

317 ià(
num_cuts
 == 0) ;

319 
i
=0; i<
´og
->
nd•s
; i++) {

320 
num_s_cuts
, 
num_d_cuts
;

322 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

324 ià(
d•
->
¤c
 !ğ
iss_¡mt_id
 && d•->
de¡
 != iss_stmt_id) {

325 
num_iss_d•s
++;

326 
iss_d•s
 = 
	`»®loc
(iss_d•s, 
num_iss_d•s
*(
D•
 *));

327 
iss_d•s
[
num_iss_d•s
-1] = 
d•
;

330 ià(
d•
->
¤c
 =ğ
iss_¡mt_id
è
num_s_cuts
 = 
num_cuts
;

331 
num_s_cuts
 = 1;

332 ià(
d•
->
de¡
 =ğ
iss_¡mt_id
è
num_d_cuts
 = 
num_cuts
;

333 
num_d_cuts
 = 1;

334 
s
=0; s<
num_s_cuts
; s++) {

335 
t
=0;<
num_d_cuts
;++) {

336 
PlutoCÚ¡¿šts
 *
dpŞytİe
 = 
	`¶uto_cÚ¡¿šts_dup
(
d•
->dpolytope);

338 
Stmt
 *
de¡_¡mt
 = 
´og
->
¡mts
[
d•
->
de¡
];

339 
Stmt
 *
¤c_¡mt
 = 
´og
->
¡mts
[
d•
->
¤c
];

340 ià(
d•
->
¤c
 =ğ
iss_¡mt_id
) {

341 
PlutoCÚ¡¿šts
 *
scut
 = 
	`¶uto_cÚ¡¿šts_dup
(
cuts
[
s
]);

342 
k
=0; k<
de¡_¡mt
->
dim
; k++) {

343 
	`¶uto_cÚ¡¿šts_add_dim
(
scut
, 
¤c_¡mt
->
dim
, 
NULL
);

345 
	`¶uto_cÚ¡¿šts_add
(
dpŞytİe
, 
scut
);

346 
	`¶uto_cÚ¡¿šts_ä“
(
scut
);

349 ià(
d•
->
de¡
 =ğ
iss_¡mt_id
) {

350 
PlutoCÚ¡¿šts
 *
dcut
 = 
	`¶uto_cÚ¡¿šts_dup
(
cuts
[
t
]);

351 
k
=0; k<
¤c_¡mt
->
dim
; k++) {

352 
	`¶uto_cÚ¡¿šts_add_dim
(
dcut
, 0, 
NULL
);

354 
	`¶uto_cÚ¡¿šts_add
(
dpŞytİe
, 
dcut
);

355 
	`¶uto_cÚ¡¿šts_ä“
(
dcut
);

358 ià(!
	`¶uto_cÚ¡¿šts_is_em±y
(
dpŞytİe
)) {

359 
num_iss_d•s
++;

360 
iss_d•s
 = 
	`»®loc
(iss_d•s, 
num_iss_d•s
*(
D•
 *));

361 
iss_d•s
[
num_iss_d•s
-1] = 
	`¶uto_d•_dup
(
d•
);

363 
D•
 *
iss_d•
 = 
iss_d•s
[
num_iss_d•s
-1];

364 
	`¶uto_cÚ¡¿šts_ä“
(
iss_d•
->
dpŞytİe
);

365 
iss_d•
->
dpŞytİe
 = dpolytope;

368 ià(
d•
->
¤c
 =ğ
iss_¡mt_id
) {

369 
iss_d•
->
¤c
 = 
ba£_¡mt_id
 + 
s
;

370 
iss_d•
->
¤c_acc
 = 
NULL
;

372 ià(
d•
->
de¡
 =ğ
iss_¡mt_id
) {

373 
iss_d•
->
de¡
 = 
ba£_¡mt_id
 + 
t
;

374 
iss_d•
->
de¡_acc
 = 
NULL
;

377 
	`¶uto_cÚ¡¿šts_ä“
(
dpŞytİe
);

381 
	`¶uto_d•_ä“
(
d•
);

384 ià(
num_iss_d•s
 >= 1) {

385 
	`ä“
(
´og
->
d•s
);

387 
´og
->
d•s
 = 
iss_d•s
;

388 
´og
->
nd•s
 = 
num_iss_d•s
;

390 
	}
}

396 
	$¶uto_iss
(
Stmt
 *
¡mt
, 
PlutoCÚ¡¿šts
 **
cuts
, 
num_cuts
,

397 
PlutoProg
 *
´og
)

399 
i
;

401 
´ev_num_¡mts
 = 
´og
->
n¡mts
;

403 
	`PLUTO_MESSAGE
(
	`´štf
("[iss] Splitting S%d into %d statements\n",

404 
¡mt
->
id
+1, 
num_cuts
););

406 
i
=0; i<
num_cuts
; i++) {

407 
Stmt
 *
n¡mt
 = 
	`¶uto_¡mt_dup
(
¡mt
);

408 
	`¶uto_cÚ¡¿šts_add
(
n¡mt
->
domaš
, 
cuts
[
i
]);

409 
	`¶uto_add_giv’_¡mt
(
´og
, 
n¡mt
);

412 
	`¶uto_upd©e_d•s_aá”_iss
(
´og
, 
cuts
, 
num_cuts
, 
¡mt
->
id
, 
´ev_num_¡mts
);

413 
	}
}

419 
	$¶uto_iss_d•
(
PlutoProg
 *
´og
)

421 
nd•s
 = 
´og
->ndeps;

422 
Å¬
 = 
´og
->npar;

423 
i
, 
j
;

425 ià(
´og
->
n¡mts
 == 0) ;

432 
i
=1; i<
´og
->
n¡mts
; i++) {

433 ià(
´og
->
¡mts
[
i
]->
dim
 !=…rog->stmts[0]->dim) {

437 ià(!
	`¶uto_¬e_¡mts_fu£d
(
´og
->
¡mts
,…rog->
n¡mts
,…rog)) ;

439 ià(
nd•s
 == 0) ;

441 
ndim
 = 
´og
->
¡mts
[0]->
dim
;

443 
is_lÚg
[
´og
->
nd•s
][
ndim
];

444 
num_lÚg_d•s
[
ndim
];

446 
	`bz”o
(
num_lÚg_d•s
, 
ndim
*());

449 
i
=0; i<
nd•s
; i++) {

450 ià(
´og
->
d•s
[
i
]->
¤c
 !ğ´og->d•s[i]->
de¡
) ;

451 
ndim
 = (
´og
->
d•s
[
i
]->
dpŞytİe
->
ncŞs
-1-
Å¬
)/2;

452 
j
=0; j<
ndim
; j++) {

453 
is_lÚg
[
i
][
j
] = 
	`is_lÚg_bidœeùiÚ®_d•
(
´og
->
d•s
[i], j, 
Å¬
);

454 
num_lÚg_d•s
[
j
] +ğ
is_lÚg
[
i
][j];

458 
j
=0; j<
ndim
; j++) {

459 
	`PLUTO_MESSAGE
(
	`´štf
("[iss] Dim’siÚ %d ha %d†Úg d•s\n", 
j
, 
num_lÚg_d•s
[j]););

462 
PlutoCÚ¡¿šts
 ***
lÚg_d•_doms
 = (PlutoCÚ¡¿št ***è
	`m®loc
((PlutoCÚ¡¿št **)*
ndim
);

463 
i
=0; i<
ndim
; i++) {

464 ià(
num_lÚg_d•s
[
i
] >= 1) {

465 
lÚg_d•_doms
[
i
] = 
	`m®loc
(
num_lÚg_d•s
[i]*(
PlutoCÚ¡¿šts
 *));

466 }
lÚg_d•_doms
[
i
] = 
NULL
;

469 
j
=0; j<
ndim
; j++) {

470 
q
 = 0;

471 
i
=0; i<
nd•s
; i++) {

472 ià(
´og
->
d•s
[
i
]->
¤c
 !ğ´og->d•s[i]->
de¡
) ;

473 ià(
is_lÚg
[
i
][
j
]) {

474 
	`as£¹
(
q
 <ğ
num_lÚg_d•s
[
j
]-1);

475 
lÚg_d•_doms
[
j
][
q
++] = 
´og
->
d•s
[
i
]->
dpŞytİe
;

480 
num_cuts
;

482 
PlutoCÚ¡¿šts
 **
cuts
 = 
NULL
;

483 *
pos
 = 
NULL
;

484 
num_cuts
 = 0;

486 
i
=0; i<
ndim
; i++) {

487 ià(
num_lÚg_d•s
[
i
] == 0) ;

488 
	`PLUTO_MESSAGE
(
	`´štf
("[iss] Dim’siÚ %d\n", 
i
););

489 
PlutoCÚ¡¿šts
 *
h
 = 
	`¶uto_fšd_iss
(

490 (cÚ¡ 
PlutoCÚ¡¿šts
 **è
lÚg_d•_doms
[
i
],

491 
num_lÚg_d•s
[
i
], 
Å¬
, 
NULL
);

492 ià(
h
) {

493 
PlutoCÚ¡¿šts
 *
Ãgh
 = 
	`¶uto_hy³½ÏÃ_g‘_Ãg©ive_h®f_¥aû
(
h
);

494 
PlutoCÚ¡¿šts
 *
posh
 = 
	`¶uto_hy³½ÏÃ_g‘_nÚ_Ãg©ive_h®f_¥aû
(
h
);

496 ià(
num_cuts
 == 0) {

497 
cuts
 = (
PlutoCÚ¡¿šts
 **è
	`m®loc
(2*(PlutoConstraints *));

498 
pos
 = (*è
	`m®loc
(2*(()));

499 
cuts
[0] = 
Ãgh
;

500 
cuts
[1] = 
posh
;

501 
num_cuts
 = 2;

502 }ià(
num_cuts
 <= 2) {

503 
cuts
 = (
PlutoCÚ¡¿šts
 **è
	`»®loc
(cuts,

504 2*
num_cuts
*(
PlutoCÚ¡¿šts
 *));

505 
i
=0; i<
num_cuts
; i++) {

506 
cuts
[
num_cuts
+
i
] = 
	`¶uto_cÚ¡¿šts_dup
(cuts[i]);

507 
	`¶uto_cÚ¡¿šts_add
(
cuts
[
i
], 
Ãgh
);

508 
	`¶uto_cÚ¡¿šts_add
(
cuts
[
num_cuts
+
i
], 
posh
);

510 
num_cuts
 *= 2;

511 
	`¶uto_cÚ¡¿šts_ä“
(
Ãgh
);

512 
	`¶uto_cÚ¡¿šts_ä“
(
posh
);

514 
	`¶uto_cÚ¡¿šts_ä“
(
h
);

518 ià(
num_cuts
 >= 2) {

519 
n¡mts
 = 
´og
->nstmts;

521 
i
=0; i<
n¡mts
; i++) {

522 
	`¶uto_iss
(
´og
->
¡mts
[
i
], 
cuts
, 
num_cuts
,…rog);

526 
i
=0; i<
n¡mts
; i++) {

527 
	`¶uto_»move_¡mt
(
´og
, 0);

531 
i
=0; i<
num_cuts
; i++) {

532 
	`¶uto_cÚ¡¿šts_ä“
(
cuts
[
i
]);

534 
	`ä“
(
cuts
);

535 
	`ä“
(
pos
);

537 
i
=0; i<
ndim
; i++) {

538 
	`ä“
(
lÚg_d•_doms
[
i
]);

540 
	`ä“
(
lÚg_d•_doms
);

542 
	`IF_DEBUG
(
	`´štf
("After ISS\n"));

543 
	`IF_DEBUG
(
	`¶uto_´og_´št
(
¡dout
, 
´og
));

544 
	}
}

	@libpluto.c

21 
	~<as£¹.h
>

22 
	~<¡ršg.h
>

23 
	~<ùy³.h
>

24 
	~<uni¡d.h
>

25 
	~<sys/time.h
>

27 
	~"¶uto.h
"

28 
	~"cÚ¡¿šts.h
"

29 
	~"ÿndl/ÿndl.h
"

30 
	~"´og¿m.h
"

31 
	~"¶uto/lib¶uto.h
"

32 
	~"i¦/m­.h
"

33 
	~"i¦/pŞynomŸl.h
"

34 
	~"ÿndl/scİ.h
"

35 
	~"i¦.h
"

37 
PlutoO±iÚs
 *
	gİtiÚs
;

40 
	s¶uto_acûss_m‘a_šfo
 {

42 
PlutoAcûss
 ***
	maccs
;

43 
	mšdex
;

44 
	m¡mt_dim
;

45 
	mÅ¬
;

52 
	$i¦_basic_m­_exŒaù_acûss_func
(
__i¦_ke
 
i¦_basic_m­
 *
bm­
, *
u£r
)

54 
i
;

56 
i¦_m­
 *
m­
;

60 
m­
 = 
	`i¦_m­_äom_basic_m­
(
bm­
);

62 
dim
 = 
	`i¦_m­_dim
(
m­
, 
i¦_dim_out
);

63 
ncŞs
 = 
	`i¦_m­_dim
(
m­
, 
i¦_dim_š
)

64 + 
	`i¦_m­_dim
(
m­
, 
i¦_dim_·¿m
) + 1;

66 
PlutoM©rix
 *
func
 = 
	`¶uto_m©rix_®loc
(0, 
ncŞs
);

68 
i
=0; i<
dim
; i++) {

69 
PlutoM©rix
 *
func_Úedim
 = 
NULL
;

70 ià(
	`i¦_m­_dim_is_sšgË_v®ued
(
m­
, 
i
)) {

71 
i¦_pw_aff
 *
pw_aff
 = 
	`i¦_pw_aff_äom_m­_dim
(
m­
, 
i
);

74 
	`i¦_pw_aff_fÜ—ch_p›û
(
pw_aff
, 
i¦_aff_to_¶uto_func
, &
func_Úedim
);

75 
	`¶uto_m©rix_add
(
func
, 
func_Úedim
);

76 
	`¶uto_m©rix_ä“
(
func_Úedim
);

77 
	`i¦_pw_aff_ä“
(
pw_aff
);

79 
	`¶uto_m©rix_add_row
(
func
, 0);

80 
	`¶uto_m©rix_z”o_row
(
func
, 0);

83 
¶uto_acûss_m‘a_šfo
 *
šfo
 = (¶uto_acûss_m‘a_šfØ*è
u£r
;

85 (*
šfo
->
accs
)[šfo->
šdex
] = (
PlutoAcûss
 *è
	`m®loc
((PlutoAccess));

86 
PlutoAcûss
 *
acc
 = (*
šfo
->
accs
)[šfo->
šdex
];

87 
acc
->
Çme
 = 
	`¡rdup
(
	`i¦_basic_m­_g‘_tu¶e_Çme
(
bm­
, 
i¦_dim_out
));

88 
acc
->
m©
 = 
func
;

90 
šfo
->
šdex
++;

92 
	`i¦_m­_ä“
(
m­
);

95 
	}
}

98 
	$i¦_m­_exŒaù_acûss_func
(
__i¦_ke
 
i¦_m­
 *
m­
, *
u£r
)

100 
r
;

103 
r
 = 
	`i¦_m­_fÜ—ch_basic_m­
(
m­
, &
i¦_basic_m­_exŒaù_acûss_func
, 
u£r
);

105 
	`i¦_m­_ä“
(
m­
);

107  
r
;

108 
	}
}

110 
	$¹şock
()

112 
timezÚe
 
Tzp
;

113 
timev®
 
Tp
;

114 
¡©
;

115 
¡©
 = 
	`g‘timeofday
(&
Tp
, &
Tzp
);

116 ià(
¡©
 !ğ0è
	`´štf
("Error„eturn from gettimeofday: %d",stat);

117 (
Tp
.
tv_£c
 + Tp.
tv_u£c
*1.0e-6);

118 
	}
}

125 
	s¶uto_exŒa_¡mt_šfo
 {

126 
Stmt
 **
	m¡mts
;

127 
	mšdex
;

130 
	s¶uto_exŒa_acûss_šfo
 {

131 
i¦_uniÚ_m­
 *
	macûss_â
;

132 
	mid
;

135 
	$exŒaù_basic_£t
(
__i¦_ke
 
i¦_basic_£t
 *
b£t
, *
u£r
)

137 
Stmt
 **
¡mts
;

138 
Stmt
 *
¡mt
;

139 
PlutoCÚ¡¿šts
 *
bc¡
;

140 
¶uto_exŒa_¡mt_šfo
 *
šfo
;

142 
šfo
 = (
¶uto_exŒa_¡mt_šfo
 *)
u£r
;

144 
¡mts
 = 
šfo
->stmts;

145 
¡mt
 = 
¡mts
[
šfo
->
šdex
];

147 
bc¡
 = 
	`i¦_basic_£t_to_¶uto_cÚ¡¿šts
(
b£t
);

148 ià(
¡mt
->
domaš
) {

149 
¡mt
->
domaš
 = 
	`¶uto_cÚ¡¿šts_uniÚize_sim¶e
(¡mt->domaš, 
bc¡
);

150 
	`¶uto_cÚ¡¿šts_ä“
(
bc¡
);

152 
¡mt
->
domaš
 = 
bc¡
;

155 
	`i¦_basic_£t_ä“
(
b£t
);

157 
	}
}

160 
	$exŒaù_¡mt
(
__i¦_ke
 
i¦_£t
 *
£t
, *
u£r
)

162 
r
;

163 
Stmt
 **
¡mts
;

164 
id
, 
i
;

166 
¡mts
 = (
Stmt
 **è
u£r
;

168 
dim
 = 
	`i¦_£t_dim
(
£t
, 
i¦_dim_®l
);

169 
Å¬
 = 
	`i¦_£t_dim
(
£t
, 
i¦_dim_·¿m
);

170 
PlutoM©rix
 *
Œªs
 = 
	`¶uto_m©rix_®loc
(
dim
-
Å¬
, dim+1);

171 
	`¶uto_m©rix_£t
(
Œªs
, 0);

172 
Œªs
->
Äows
 = 0;

175 cÚ¡ *
Çme
 = 
	`i¦_£t_g‘_tu¶e_Çme
(
£t
);

176 
	`as£¹
(
Çme
);

177 
	`as£¹
(
	`¡¾’
(
Çme
) >= 3);

178 
	`as£¹
(
Çme
[0] == 'S');

179 
	`as£¹
(
Çme
[1] == '_');

180 
	`as£¹
(
	`isdig™
(
Çme
[2]));

181 
id
 = 
	`©oi
(
	`i¦_£t_g‘_tu¶e_Çme
(
£t
)+2);

183 
¡mts
[
id
] = 
	`¶uto_¡mt_®loc
(
dim
-
Å¬
, 
NULL
, 
Œªs
);

185 
Stmt
 *
¡mt
 = 
¡mts
[
id
];

186 
¡mt
->
ty³
 = 
ORIG
;

187 
¡mt
->
id
 = id;

189 
i
=0; i<
¡mt
->
dim
; i++) {

190 *
™”
 = 
	`m®loc
(5);

191 
	`¥rštf
(
™”
, "i%d", 
i
);

192 
¡mt
->
™”©Üs
[
i
] = 
™”
;

195 
¶uto_exŒa_¡mt_šfo
 
šfo
 = {
¡mts
, 
id
};

196 
r
 = 
	`i¦_£t_fÜ—ch_basic_£t
(
£t
, &
exŒaù_basic_£t
, &
šfo
);

198 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
¡mt
->
domaš
, stmt->
™”©Üs
, 0, 0, stmt->
dim
);

200 
i
=0; i<
Å¬
; i++) {

201 *
·¿m
 = 
	`m®loc
(5);

202 
	`¥rštf
(
·¿m
, "p%d", 
i
);

203 
¡mt
->
domaš
->
Çmes
[¡mt->
dim
+
i
] = 
·¿m
;

206 
	`¶uto_m©rix_ä“
(
Œªs
);

208 
j
;

209 
j
=0; j<
¡mt
->
dim
; j++) {

210 
¡mt
->
is_Üig_loİ
[
j
] = 
Œue
;

213 
	`i¦_£t_ä“
(
£t
);

215  
r
;

216 
	}
}

219 
	$exŒaù_¡mts
(
__i¦_k“p
 
i¦_uniÚ_£t
 *
domašs
, 
Stmt
 **
¡mts
)

221 
	`i¦_uniÚ_£t_fÜ—ch_£t
(
domašs
, &
exŒaù_¡mt
, 
¡mts
);

224 
	}
}

226 
	$exŒaù_acûss_âs
(
__i¦_k“p
 
i¦_uniÚ_m­
 *
»ads
,

227 
__i¦_k“p
 
i¦_uniÚ_m­
 *
wr™es
,

228 
Stmt
 *
¡mt
,

229 
id
)

231 
j
;

232 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
»ads
, &
i¦_m­_couÁ
, &
¡mt
->
Ä—ds
);

233 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
wr™es
, &
i¦_m­_couÁ
, &
¡mt
->
nwr™es
);

235 
¶uto_acûss_m‘a_šfo
 
e_»ads
 = {&
¡mt
->
»ads
, 0, stmt->
dim
, 0};

236 
¶uto_acûss_m‘a_šfo
 
e_wr™es
 = {&
¡mt
->
wr™es
, 0, stmt->
dim
, 0};

238 ià(
¡mt
->
Ä—ds
 >= 1) {

239 
¡mt
->
»ads
 = (
PlutoAcûss
 **è
	`m®loc
(¡mt->
Ä—ds
*(PlutoAccess *));

241 ià(
¡mt
->
nwr™es
 >= 1) {

242 
¡mt
->
wr™es
 = (
PlutoAcûss
 **è
	`m®loc
(¡mt->
nwr™es
*(PlutoAccess *));

244 
j
=0; j<
¡mt
->
Ä—ds
; j++) {

245 
¡mt
->
»ads
[
j
] = 
NULL
;

247 
j
=0; j<
¡mt
->
nwr™es
; j++) {

248 
¡mt
->
wr™es
[
j
] = 
NULL
;

251 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
»ads
, &
i¦_m­_exŒaù_acûss_func
, &
e_»ads
);

252 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
wr™es
, &
i¦_m­_exŒaù_acûss_func
, &
e_wr™es
);

256 
	}
}

258 
	$exŒaù_¡mt_acûss
(
__i¦_ke
 
i¦_m­
 *
m­
, *
u£r
)

260 
¶uto_exŒa_acûss_šfo
 *
šfo
 = (¶uto_exŒa_acûss_šfØ*è
u£r
;

261 
i¦_uniÚ_m­
 *
Ãw_m­
 = 
šfo
->
acûss_â
;

262 
id
 = 
šfo
->id;

264 ià(
id
 =ğ
	`©oi
(
	`i¦_m­_g‘_tu¶e_Çme
(
m­
, 
i¦_dim_š
)+2)) {

265 
	`i¦_uniÚ_m­_add_m­
(
Ãw_m­
, 
	`i¦_m­_cİy
(
m­
));

268 
	`i¦_m­_ä“
(
m­
);

270 
	}
}

272 
__i¦_give
 
i¦_uniÚ_m­
 *
	$exŒaù_¡mt_acûs£s
(
__i¦_k“p
 
i¦_uniÚ_m­
 *
m­
, 
id
)

274 
i¦_¥aû
 *
¥aû
 = 
	`i¦_uniÚ_m­_g‘_¥aû
(
m­
);

275 
i¦_uniÚ_m­
 *
Ãw_m­
 = 
	`i¦_uniÚ_m­_em±y
(
	`i¦_¥aû_cİy
(
¥aû
));

276 
¶uto_exŒa_acûss_šfo
 
šfo
 = {
Ãw_m­
, 
id
};

277 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
m­
, &
exŒaù_¡mt_acûss
, &
šfo
);

279 
	`i¦_¥aû_ä“
(
¥aû
);

280  
Ãw_m­
;

281 
	}
}

283 
	s¶uto_te_foÙ´št_m‘a_šfo
 {

284 
PlutoProg
 *
	m´og
;

285 
i¦_uniÚ_m­
 *
	msched
;

286 
i¦_m­_li¡
 **
	mte_acûss_pošts
;

287 
i¦_uniÚ_m­
 *
	m»ad
;

288 
i¦_uniÚ_m­
 *
	mwr™e
;

289 
i¦_uniÚ_£t
 *
	mdomaš
;

290 *
	mbe¡_f™_size
;

291 
	mbe¡_f™_foÙ´št
;

292 
boŞ
 
	mexpÚ’tŸl
;

295 
	s¶uto_auto_te_m‘a_šfo
 {

296 *
	m¦İe_d©a
;

297 
¶uto_te_foÙ´št_m‘a_šfo
* 
	m±fmi_auto
;

298 
	mcouÁ”
;

302 
	$g‘_te_d©a_acûss_pošts
(
__i¦_ke
 
i¦_m­
 *
m­
, *
u£r
)

304 
¶uto_te_foÙ´št_m‘a_šfo
 *
±fmi
 = (¶uto_te_foÙ´št_m‘a_šfØ*è
u£r
;

305 
i¦_uniÚ_m­
 *
sched
 = 
±fmi
->sched;

306 
PlutoProg
 *
´og
 = 
±fmi
->prog;

307 
i¦_m­
 *
mem_to_¡mt
;

308 
num
, 
j
, 
·¿m_off£t
;

309 
i¦_uniÚ_m­
 *
mem_to_sched
, *
mem_to_¡mt2
;

310 
i¦_m­
 *
mem_to_sched_m­
;

311 
i¦_¥aû
 *
¥aû
;

312 
i¦_cÚ¡¿št
 *
c
;

313 
i¦_ùx
 *
ùx
 = 
	`i¦_m­_g‘_ùx
(
m­
);

314 
num_dim_aá”_Ï¡_te_dim
;

315 
i¦_m­_li¡
 **
te_acûss_pošts
 = 
±fmi
->tile_access_points;

317 
	`ssÿnf
(
	`i¦_m­_g‘_tu¶e_Çme
(
m­
, 
i¦_dim_š
), "S_%d", &
num
);

318 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
num
];

319 
mem_to_¡mt
 = 
	`i¦_m­_fixed_pow”_v®
(
	`i¦_m­_cİy
(
m­
),

320 
	`i¦_v®_ÃgÚe
(
ùx
));

322 
mem_to_¡mt2
 = 
	`i¦_uniÚ_m­_äom_m­
(
	`i¦_m­_cİy
(
mem_to_¡mt
));

323 
mem_to_sched
 = 
	`i¦_uniÚ_m­_­¶y_¿nge
(
	`i¦_uniÚ_m­_cİy
(
mem_to_¡mt2
),

324 
	`i¦_uniÚ_m­_cİy
(
sched
));

326 
mem_to_sched_m­
 = 
	`i¦_m­_äom_uniÚ_m­
(
	`i¦_uniÚ_m­_cİy
(
mem_to_sched
));

327 
¥aû
 = 
	`i¦_m­_g‘_¥aû
(
mem_to_sched_m­
);

328 ià(
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_š
)==0 || 
¡mt
->
Ï¡_te_dim
==-1) {

329 
	`i¦_m­_ä“
(
m­
);

330 
	`i¦_¥aû_ä“
(
¥aû
);

331 
	`i¦_uniÚ_m­_ä“
(
mem_to_sched
);

332 
	`i¦_m­_ä“
(
mem_to_¡mt
);

333 
	`i¦_uniÚ_m­_ä“
(
mem_to_¡mt2
);

334 
	`i¦_m­_ä“
(
mem_to_sched_m­
);

335  
i¦_¡©_ok
;

338 
num_dim_aá”_Ï¡_te_dim
 = 
¡mt
->
Œªs
->
Äows
-¡mt->
Ï¡_te_dim
-1;

339 
mem_to_sched_m­
 = 
	`i¦_m­_add_dims
(mem_to_sched_m­, 
i¦_dim_out
,

340 
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_š
));

342 
	`i¦_¥aû_ä“
(
¥aû
);

343 
¥aû
 = 
	`i¦_m­_g‘_¥aû
(
mem_to_sched_m­
);

345 
j
 = 0; j < 
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_š
); j++) {

346 
n
 = 
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_out
)-i¦_¥aû_dim(¥aû, 
i¦_dim_š
)+
j
;

347 
div
 = 
DEFAULT_L1_CACHE_LINESIZE
/(
DEFAULT_DATA_TYPE
);

349 ià(
j
 =ğ
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_š
) - 1) {

350 
c
 = 
	`i¦_cÚ¡¿št_®loc_šequ®™y
(
	`i¦_loÿl_¥aû_äom_¥aû
(
	`i¦_¥aû_cİy
(
¥aû
)));

351 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_out
, 
n
, 
div
);

352 
c
 = 
	`i¦_cÚ¡¿št_£t_cÚ¡ªt_si
(c, 
div
-1);

353 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_š
, 
j
, -1);

354 
mem_to_sched_m­
 = 
	`i¦_m­_add_cÚ¡¿št
(mem_to_sched_m­, 
c
);

356 
c
 = 
	`i¦_cÚ¡¿št_®loc_šequ®™y
(
	`i¦_loÿl_¥aû_äom_¥aû
(
	`i¦_¥aû_cİy
(
¥aû
)));

357 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_out
, 
n
, -
div
);

358 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_š
, 
j
, 1);

361 
c
 = 
	`i¦_cÚ¡¿št_®loc_equ®™y
(
	`i¦_loÿl_¥aû_äom_¥aû
(
	`i¦_¥aû_cİy
(
¥aû
)));

362 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_out
, 
n
, 1);

363 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_š
, 
j
, -1);

366 
mem_to_sched_m­
 = 
	`i¦_m­_add_cÚ¡¿št
(mem_to_sched_m­, 
	`i¦_cÚ¡¿št_cİy
(
c
));

367 
	`i¦_cÚ¡¿št_ä“
(
c
);

370 
	`i¦_¥aû_ä“
(
¥aû
);

371 
¥aû
 = 
	`i¦_m­_g‘_¥aû
(
mem_to_sched_m­
);

373 
mem_to_sched_m­
 = 
	`i¦_m­_´ojeù_out
(mem_to_sched_map,

374 
i¦_dim_out
,

375 
¡mt
->
Ï¡_te_dim
+1,

376 
num_dim_aá”_Ï¡_te_dim
);

378 
mem_to_sched_m­
 = 
	`i¦_m­_´ojeù_out
(mem_to_sched_map,

379 
i¦_dim_out
,

381 
¡mt
->
fœ¡_te_dim
);

383 
	`i¦_¥aû_ä“
(
¥aû
);

384 
¥aû
 = 
	`i¦_m­_g‘_¥aû
(
mem_to_sched_m­
);

386 
·¿m_off£t
 = 
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_·¿m
);

387 
mem_to_sched_m­
 = 
	`i¦_m­_add_dims
(mem_to_sched_map,

388 
i¦_dim_·¿m
,

389 
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_out
)-i¦_¥aû_dim(¥aû, 
i¦_dim_š
));

391 
	`i¦_¥aû_ä“
(
¥aû
);

392 
¥aû
 = 
	`i¦_m­_g‘_¥aû
(
mem_to_sched_m­
);

394 
j
 = 
·¿m_off£t
; j < 
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_·¿m
); j++) {

395 
c
 = 
	`i¦_cÚ¡¿št_®loc_equ®™y
(
	`i¦_loÿl_¥aû_äom_¥aû
(
	`i¦_¥aû_cİy
(
¥aû
)));

396 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_·¿m
, 
j
, 1);

397 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_out
, 
j
-
·¿m_off£t
, -1);

398 
mem_to_sched_m­
 = 
	`i¦_m­_add_cÚ¡¿št
(mem_to_sched_m­, 
	`i¦_cÚ¡¿št_cİy
(
c
));

399 
	`i¦_cÚ¡¿št_ä“
(
c
);

402 
mem_to_sched_m­
 = 
	`i¦_m­_´ojeù_out
(mem_to_sched_m­, 
i¦_dim_·¿m
, 0, 
·¿m_off£t
);

404 
n
 = 
	`i¦_m­_li¡_n_m­
(*
te_acûss_pošts
);

405 
boŞ
 
found
 = 
çl£
;

406 
j
 = 0; j < 
n
; j++) {

407 
i¦_m­
 *
m
 = 
	`i¦_m­_li¡_g‘_m­
(*
te_acûss_pošts
, 
j
);

408 
i¦_¥aû
 *
s1
 = 
	`i¦_m­_g‘_¥aû
(
m
), *
s2
 = i¦_m­_g‘_¥aû(
mem_to_sched_m­
);

409 if(!
	`¡rcmp
(
	`i¦_¥aû_g‘_tu¶e_Çme
(
s1
, 
i¦_dim_š
),

410 
	`i¦_¥aû_g‘_tu¶e_Çme
(
s2
, 
i¦_dim_š
))

411 && 
	`i¦_¥aû_dim
(
s1
, 
i¦_dim_·¿m
è=ği¦_¥aû_dim(
s2
, isl_dim_param)) {

412 
	`i¦_m­_li¡_drİ
(*
te_acûss_pošts
, 
j
, 1);

413 *
te_acûss_pošts
 = 
	`i¦_m­_li¡_add
(*tile_access_points,

414 
	`i¦_m­_uniÚ
(
	`i¦_m­_cİy
(
m
), i¦_m­_cİy(
mem_to_sched_m­
)));

415 
found
 = 
Œue
;

417 
	`i¦_¥aû_ä“
(
s1
);

418 
	`i¦_¥aû_ä“
(
s2
);

419 
	`i¦_m­_ä“
(
m
);

420 ià(
found
) { ; }

422 ià(!
found
è{ *
te_acûss_pošts
 = 
	`i¦_m­_li¡_add
(*te_acûss_pošts, 
	`i¦_m­_cİy
(
mem_to_sched_m­
)); }

424 
	`i¦_m­_ä“
(
m­
);

425 
	`i¦_m­_ä“
(
mem_to_¡mt
);

426 
	`i¦_¥aû_ä“
(
¥aû
);

427 
	`i¦_m­_ä“
(
mem_to_sched_m­
);

428 
	`i¦_uniÚ_m­_ä“
(
mem_to_¡mt2
);

429 
	`i¦_uniÚ_m­_ä“
(
mem_to_sched
);

430  
i¦_¡©_ok
;

431 
	}
}

433 
	$couÁ_te_foÙ´št_fÜ_acûss
(
__i¦_ke
 
i¦_m­
 *
m­
, *
u£r
)

435 *
te_foÙ´št
 = (*è
u£r
;

436 
i¦_£t
 *
¿nge
 = 
	`i¦_m­_¿nge
(
m­
);

437 
i¦_pw_qpŞynomŸl
 *
ÿrd
 = 
	`i¦_£t_ÿrd
(
¿nge
);

438 
i¦_v®
 *
max
 = 
	`i¦_pw_qpŞynomŸl_max
(
ÿrd
);

439 *
te_foÙ´št
 = *te_foÙ´šˆ+ 
	`i¦_v®_g‘_num_si
(
max
è* 
DEFAULT_L1_CACHE_LINESIZE
;

441 
	`i¦_v®_ä“
(
max
);

442  
i¦_¡©_ok
;

443 
	}
}

445 
	$compu‹_te_foÙ´št
(
i¦_uniÚ_£t
 *
domašs
,

446 
i¦_uniÚ_m­
 *
scheduË
,

447 
i¦_uniÚ_m­
 *
»ad
,

448 
i¦_uniÚ_m­
 *
wr™e
,

449 
PlutoProg
 *
´og
)

451 
i¦_uniÚ_m­
 *
acûs£s
, *
sched
;

452 
te_foÙ´št
=0;

453 
i¦_m­_li¡
 *
te_acûss_pošts
 = 
	`i¦_m­_li¡_®loc
(
	`i¦_uniÚ_£t_g‘_ùx
(
domašs
), 0);

455 
acûs£s
 = 
	`i¦_uniÚ_m­_uniÚ
(
	`i¦_uniÚ_m­_cİy
(
»ad
),

456 
	`i¦_uniÚ_m­_cİy
(
wr™e
));

457 
sched
 = 
	`i¦_uniÚ_m­_š‹r£ù_domaš
(
	`i¦_uniÚ_m­_cİy
(
scheduË
),

458 
	`i¦_uniÚ_£t_cİy
(
domašs
));

459 
¶uto_te_foÙ´št_m‘a_šfo
 
psmi
 = {
´og
,
sched
,&
te_acûss_pošts
,0, 0, 0, 0, 0, 0};

460 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
acûs£s
, &
g‘_te_d©a_acûss_pošts
, &
psmi
);

461 
	`i¦_m­_li¡_fÜ—ch
(
te_acûss_pošts
, &
couÁ_te_foÙ´št_fÜ_acûss
, &
te_foÙ´št
);

462 
	`i¦_uniÚ_m­_ä“
(
acûs£s
);

463 
	`i¦_uniÚ_m­_ä“
(
sched
);

464 
	`i¦_m­_li¡_ä“
(
te_acûss_pošts
);

466  
te_foÙ´št
;

467 
	}
}

475 
PlutoCÚ¡¿šts
 *
	$nÜm®ize_domaš_scheduË
(
Stmt
 *
¡mt
, 
PlutoProg
 *
´og
)

477 
d–
, 
r
, 
c
, 
j
, 
¢odes
, 
Äows
;

478 
PlutoCÚ¡¿šts
 *
domaš
;

480 
PlutoCÚ¡¿šts
 *
sched
 = 
	`¶uto_¡mt_g‘_scheduË
(
¡mt
);

482 
domaš
 = 
¡mt
->domain;

483 
¢odes
 = 
¡mt
->
dim
 - stmt->
dim_Üig
;

485 
domaš
 !ğ
NULL
) {

486 
d–
 = 0;

487 
Äows
 = 
domaš
->nrows;

488 
r
=0;„<
Äows
;„++) {

489 
c
=0; c<
¢odes
; c++) {

490 ià(
domaš
->
v®
[
r
-
d–
][
c
] != 0) ;

492 ià(
c
 < 
¢odes
) {

493 
PlutoCÚ¡¿šts
 *
cut
 = 
	`¶uto_cÚ¡¿šts_£Ëù_row
(
domaš
, 
r
-
d–
);

494 
j
=0; j<
¡mt
->
Œªs
->
Äows
; j++) {

495 
	`¶uto_cÚ¡¿šts_add_dim
(
cut
, 0, 
NULL
);

497 
	`¶uto_cÚ¡¿šts_add
(
sched
, 
cut
);

498 
	`¶uto_cÚ¡¿šts_»move_row
(
domaš
, 
r
-
d–
);

499 
d–
++;

502 
domaš
 = domaš->
Ãxt
;

505 
c
=0; c<
¢odes
; c++) {

506 
	`¶uto_¡mt_»move_dim
(
¡mt
, 0, 
´og
);

508  
sched
;

509 
	}
}

512 
__i¦_give
 
i¦_uniÚ_m­
 *
	$i¦_uniÚ_m­_fÜ_¶uto_scheduË
(
PlutoProg
 *
´og
,

513 
i¦_ùx
 *
ùx
,

514 
i¦_¥aû
 *
¥aû
)

516 
i
, 
j
;

517 
i¦_uniÚ_m­
 *
scheduËs
 = 
	`i¦_uniÚ_m­_em±y
(
	`i¦_¥aû_cİy
(
¥aû
));

518 
i
=0; i<
´og
->
n¡mts
; i++) {

519 
i¦_basic_m­
 *
bm­
;

520 
i¦_m­
 *
m­
;

521 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
i
];

522 
PlutoCÚ¡¿šts
 *
sched
 = 
	`nÜm®ize_domaš_scheduË
(
¡mt
, 
´og
);

523 
n
 = 
sched
->
ncŞs
 - 
¡mt
->
Œªs
->
Äows
 - stmt->
domaš
->ncols;

526 
bm­
 = 
	`i¦_basic_m­_äom_¶uto_cÚ¡¿šts
(
ùx
, 
sched
,

527 
sched
->
ncŞs
 - 
¡mt
->
Œªs
->
Äows
 - 
´og
->
Å¬
 - 1,

528 
¡mt
->
Œªs
->
Äows
, 
´og
->
Å¬
);

529 
bm­
 = 
	`i¦_basic_m­_´ojeù_out
(bm­, 
i¦_dim_š
, 0, 
n
);

530 
Çme
[20];

531 
	`¢´štf
(
Çme
, Òame), "S_%d", 
i
);

532 
m­
 = 
	`i¦_m­_äom_basic_m­
(
bm­
);

535 
j
=0; j<
	`i¦_¥aû_dim
(
¥aû
, 
i¦_dim_·¿m
); j++) {

536 
i¦_id
 *
id
 = 
	`i¦_¥aû_g‘_dim_id
(
¥aû
, 
i¦_dim_·¿m
, 
j
);

537 
m­
 = 
	`i¦_m­_£t_dim_id
(m­, 
i¦_dim_·¿m
, 
j
, 
id
);

540 
m­
 = 
	`i¦_m­_£t_tu¶e_Çme
(m­, 
i¦_dim_š
, 
Çme
);

541 
scheduËs
 = 
	`i¦_uniÚ_m­_uniÚ
(scheduËs, 
	`i¦_uniÚ_m­_äom_m­
(
m­
));

543 
	`¶uto_cÚ¡¿šts_ä“
(
sched
);

545  
scheduËs
;

546 
	}
}

548 
	$te_foÙ´št_fÜ_te_size
(
__i¦_ke
 
i¦_pošt
 *
²t
, *
u£r
)

550 
i
,
j
;

551 
Stmt
 **
¡mts
;

552 
D•
 **
d•s
;

553 
D•
 **
Œªsd•s
;

554 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
;

556 
¶uto_auto_te_m‘a_šfo
 *
psmi_auto
 = (¶uto_auto_te_m‘a_šfo*è
u£r
;

557 
i¦_uniÚ_m­
 *
»ad
 = 
psmi_auto
->
±fmi_auto
->read;

558 
i¦_uniÚ_m­
 *
wr™e
 = 
psmi_auto
->
±fmi_auto
->write;

559 
i¦_uniÚ_£t
 *
domaš
 = 
psmi_auto
->
±fmi_auto
->domain;

560 
PlutoProg
 *
´og
 = 
psmi_auto
->
±fmi_auto
->prog;

561 
boŞ
 
expÚ’tŸl
 = 
psmi_auto
->
±fmi_auto
->exponential;

562 
i¦_uniÚ_m­
 *
scheduËs
;

563 
i¦_ùx
 *
ùx
 = 
	`i¦_uniÚ_£t_g‘_ùx
(
domaš
);

564 
i¦_¥aû
 *
¥aû
 = 
	`i¦_uniÚ_£t_g‘_¥aû
(
domaš
), *
te_size_¥aû
;

565 
num_hy³½ÏÃs
 = 
´og
->num_hyperplanes;

566 
nv¬
 = 
´og
->nvar;

567 
te_dim
;

568 
te_foÙ´št
;

569 *
te_size
;

570 
boŞ
 
Ï¡
=
Œue
;

571 
s’t
;

573 
i¦_pošt
 **
ov”æowed_te_sizes
 = 
NULL
;

574 
n_ov”æowed
 = 0;

575 
th»shŞd
 = 
DEFAULT_L2_CACHE_SIZE
;

577 
te_size_¥aû
 = 
	`i¦_pošt_g‘_¥aû
(
²t
);

578 
te_dim
 = 
	`i¦_¥aû_dim
(
te_size_¥aû
, 
i¦_dim_£t
);

579 
	`i¦_¥aû_ä“
(
te_size_¥aû
);

580 
te_size
 = (*è
	`m®loc
(
te_dim
 *  ());

640 
j
 = 0; j < 
te_dim
; j++) {

641 
i¦_v®
 *
v®
 = 
	`i¦_pošt_g‘_coÜdš©e_v®
(
²t
, 
i¦_dim_£t
, 
j
);

642 
dim_size
 = 
	`i¦_v®_g‘_num_si
(
v®
);

643 
te_size
[
j
] = (
expÚ’tŸl
è? (è
	`pow
(2, 
dim_size
) : dim_size;

644 
	`i¦_v®_ä“
(
v®
);

647 
¡mts
 = (
Stmt
 **è
	`m®loc
(
´og
->
n¡mts
 *  (Stmt *));

648 
d•s
 = (
D•
 **è
	`m®loc
(
´og
->
nd•s
 *  (Dep *));

649 
Œªsd•s
 = (
D•
 **è
	`m®loc
(
´og
->
Á¿nsd•s
 *  (Dep *));

651 
j
 = 0; j < 
´og
->
n¡mts
; j++) {

652 
¡mts
[
j
] = 
	`¶uto_¡mt_dup
(
´og
->stmts[j]);

654 
j
 = 0; j < 
´og
->
nd•s
; j++) {

655 
d•s
[
j
] = 
	`¶uto_d•_dup
(
´og
->deps[j]);

657 
j
 = 0; j < 
´og
->
Á¿nsd•s
; j++) {

658 
Œªsd•s
[
j
] = 
	`¶uto_d•_dup
(
´og
->transdeps[j]);

660 
hPrİs
 = (
Hy³½ÏÃPrİ”t›s
 *è
	`m®loc
(
num_hy³½ÏÃs
 * (HyperplaneProperties));

661 
j
 = 0; j < 
num_hy³½ÏÃs
; j++) {

662 
hPrİs
[
j
].
bªd_num
 = 
´og
->hProps[j].band_num;

663 
hPrİs
[
j
].
d•_´İ
 = 
´og
->hProps[j].dep_prop;

664 
hPrİs
[
j
].
´evec
 = 
´og
->hProps[j].prevec;

665 
hPrİs
[
j
].
ty³
 = 
´og
->hProps[j].type;

666 
hPrİs
[
j
].
uÄŞl
 = 
´og
->hProps[j].unroll;

669 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

670 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

672 
s’t
 = 
´og
->
İtiÚs
->silent;

673 
´og
->
İtiÚs
->
s’t
 = 
Œue
;

675 
	`¶uto_te
(
´og
, 
te_size
);

677 
´og
->
İtiÚs
->
s’t
 = silent;

679 
scheduËs
 = 
	`i¦_uniÚ_m­_fÜ_¶uto_scheduË
(
´og
, 
ùx
, 
¥aû
);

680 
te_foÙ´št
 = 
	`compu‹_te_foÙ´št
(
domaš
, 
scheduËs
, 
»ad
, 
wr™e
, 
´og
);

681 ià(!
psmi_auto
->
±fmi_auto
->
be¡_f™_foÙ´št
) {

682 
psmi_auto
->
±fmi_auto
->
be¡_f™_foÙ´št
 = 
te_foÙ´št
;

683 
psmi_auto
->
±fmi_auto
->
be¡_f™_size
 = (*è
	`m®loc
 (
te_dim
 *  ());

684 
j
 = 0; j < 
te_dim
; j++) {

685 
i¦_v®
 *
v®
 = 
	`i¦_pošt_g‘_coÜdš©e_v®
(
²t
, 
i¦_dim_£t
, 
j
);

686 
dim_size
 = 
	`i¦_v®_g‘_num_si
(
v®
);

687 
psmi_auto
->
±fmi_auto
->
be¡_f™_size
[
j
] = (
expÚ’tŸl
è? (è
	`pow
(2, 
dim_size
) : dim_size;

688 
	`i¦_v®_ä“
(
v®
);

691 ià(
te_foÙ´št
 < 
th»shŞd


692 && 
te_foÙ´št
 > 
psmi_auto
->
±fmi_auto
->
be¡_f™_foÙ´št
) {

693 
psmi_auto
->
±fmi_auto
->
be¡_f™_foÙ´št
 = 
te_foÙ´št
;

694 
j
 = 0; j < 
te_dim
; j++) {

695 
i¦_v®
 *
v®
 = 
	`i¦_pošt_g‘_coÜdš©e_v®
(
²t
, 
i¦_dim_£t
, 
j
);

696 
dim_size
 = 
	`i¦_v®_g‘_num_si
(
v®
);

697 
psmi_auto
->
±fmi_auto
->
be¡_f™_size
[
j
] = (
expÚ’tŸl
è? (è
	`pow
(2, 
dim_size
) : dim_size;

698 
	`i¦_v®_ä“
(
v®
);

702 ià(
te_foÙ´št
 > 
th»shŞd
 && !
Ï¡
) {

703 
n_ov”æowed
++;

704 
ov”æowed_te_sizes
 = (
i¦_pošt
 **è
	`»®loc
(overflowed_tile_sizes,

705 
n_ov”æowed
*(
i¦_pošt
 *));

706 
ov”æowed_te_sizes
[
n_ov”æowed
-1] = 
	`i¦_pošt_cİy
(
²t
);

712 
psmi_auto
->
¦İe_d©a
[psmi_auto->
couÁ”
++] = 
te_foÙ´št
;

714 
j
 = 0; j < 
´og
->
n¡mts
; j++) {

715 
	`¶uto_¡mt_ä“
(
´og
->
¡mts
[
j
]);

716 
´og
->
¡mts
[
j
] = stmts[j];

718 
j
 = 0; j < 
´og
->
nd•s
; j++) {

719 
	`¶uto_d•_ä“
(
´og
->
d•s
[
j
]);

720 
´og
->
d•s
[
j
] = deps[j];

722 
j
 = 0; j < 
´og
->
Á¿nsd•s
; j++) {

723 
	`¶uto_d•_ä“
(
´og
->
Œªsd•s
[
j
]);

724 
´og
->
Œªsd•s
[
j
] =ransdeps[j];

727 
	`ä“
(
´og
->
hPrİs
);

728 
´og
->
num_hy³½ÏÃs
 =‚um_hyperplanes;

729 
´og
->
hPrİs
 = hProps;

730 
´og
->
nv¬
 =‚var;

732 
	`ä“
(
¡mts
);

733 
	`ä“
(
d•s
);

734 
	`ä“
(
Œªsd•s
);

735 
	`ä“
(
te_size
);

737 
	`i¦_uniÚ_m­_ä“
(
scheduËs
);

738 
	`i¦_¥aû_ä“
(
¥aû
);

740 
	`i¦_pošt_ä“
(
²t
);

741  
i¦_¡©_ok
;

742 
	}
}

744 
	$g‘_te_dim
(
PlutoProg
 *
´og
,

745 
i¦_uniÚ_£t
 *
domašs
)

747 
i
, 
j
;

748 
Bªd
 **
bªds
;

749 
max_dim
=0, 
b
;

750 
nbªds
;

751 
i¦_ùx
 *
ùx
 = 
	`i¦_uniÚ_£t_g‘_ùx
(
domašs
);

752 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

754 
b
 = 0; b < 
nbªds
; b++) {

755 
dim
=0;

756 
i
=0; i < 
bªds
[
b
]->
width
; i++) {

757 
j
=0; j<
bªds
[
b
]->
loİ
->
n¡mts
; j++) {

758 ià(
	`¶uto_is_hy³½ÏÃ_loİ
(
bªds
[
b
]->
loİ
->
¡mts
[
j
], bªds[b]->loİ->
d•th
+
i
))

761 
loİ
 = (
j
<
bªds
[
b
]->loİ->
n¡mts
);

762 ià(
loİ
) {

763 
dim
++;

766 
max_dim
 = (
dim
 > max_dim) ? dim : max_dim;

769  
max_dim
;

770 
	}
}

773 *
	$g‘_auto_te_size
(
PlutoProg
 *
´og
,

774 
i¦_uniÚ_£t
 *
domašs
,

775 
i¦_uniÚ_m­
 *
»ad
,

776 
i¦_uniÚ_m­
 *
wr™e
)

778 
i
, 
j
;

779 
Bªd
 **
bªds
;

780 
max_dim
=0, 
b
;

781 
nbªds
;

782 
i¦_£t
 *
te_sizes
;

783 
i¦_cÚ¡¿št
 *
c
;

784 
i¦_¥aû
 *
te_¥aû
;

785 
i¦_ùx
 *
ùx
 = 
	`i¦_uniÚ_£t_g‘_ùx
(
domašs
);

786 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

788 
max_dim
 = 
	`g‘_te_dim
(
´og
, 
domašs
);

790 
te_¥aû
 = 
	`i¦_¥aû_£t_®loc
(
ùx
, 0, 
max_dim
);

791 
te_sizes
 = 
	`i¦_£t_univ”£
(
	`i¦_¥aû_cİy
(
te_¥aû
));

792 
i
 = 0; i < 
max_dim
; i++) {

793 
c
 = 
	`i¦_cÚ¡¿št_®loc_šequ®™y
(
	`i¦_loÿl_¥aû_äom_¥aû
(
	`i¦_¥aû_cİy
(
te_¥aû
)));

794 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_£t
, 
i
, 1);

795 
c
 = 
	`i¦_cÚ¡¿št_£t_cÚ¡ªt_si
(c, -3);

796 
te_sizes
 = 
	`i¦_£t_add_cÚ¡¿št
Ñe_sizes, 
c
);

798 
c
 = 
	`i¦_cÚ¡¿št_®loc_šequ®™y
(
	`i¦_loÿl_¥aû_äom_¥aû
(
	`i¦_¥aû_cİy
(
te_¥aû
)));

799 
c
 = 
	`i¦_cÚ¡¿št_£t_cÛffic›Á_si
(c, 
i¦_dim_£t
, 
i
, -1);

800 
c
 = 
	`i¦_cÚ¡¿št_£t_cÚ¡ªt_si
(c, 4);

801 
te_sizes
 = 
	`i¦_£t_add_cÚ¡¿št
Ñe_sizes, 
c
);

804 
§m¶e_size
 = (è
	`pow
(2, 
max_dim
);

805 * 
¦İes
 = (*)
	`m®loc
(
max_dim
*());

806 * 
cÛffs
 = (*)
	`m®loc
((
max_dim
-1)*());

808 
¶uto_te_foÙ´št_m‘a_šfo
 
psmi
 = {
´og
, 0, 0, 
»ad
, 
wr™e
, 
domašs
, 0, 0, 
Œue
};

809 * 
¦İe_d©a
 = (*è
	`m®loc
(
§m¶e_size
*());

810 
¶uto_auto_te_m‘a_šfo
 
·tmi
 = {
¦İe_d©a
, &
psmi
, 0};

811 
	`i¦_£t_fÜ—ch_pošt
(
te_sizes
, 
te_foÙ´št_fÜ_te_size
, &
·tmi
);

812 
	`i¦_£t_ä“
(
te_sizes
);

813 
	`i¦_¥aû_ä“
(
te_¥aû
);

815 
i
=0; i< 
max_dim
; i++)

817 
‹mp
 = (è
	`pow
(2, 
i
);

818 
growth_¿tio
 = (è
·tmi
.
¦İe_d©a
[
‹mp
]/patmi.slope_data[0];

819 
¦İe
 = (
growth_¿tio
 - 1)/
BASE_TILE_SIZE
;

820 
¦İes
[
max_dim
-
i
-1] = 
¦İe
;

823 
i
=0; i<(
max_dim
-1); i++)

825 
‹mp
 = (è
	`pow
(2, 
i
);

826 
gr1
 = (è
·tmi
.
¦İe_d©a
[
‹mp
]/patmi.slope_data[0];

827 
gr2
 = (è
·tmi
.
¦İe_d©a
[3*
‹mp
]/patmi.slope_data[0];

828 
cÛff
 = (
gr2
 - 
gr1
)/
BASE_TILE_SIZE
;

829 
cÛffs
[
max_dim
-
i
-2] = 
cÛff
;

873 ià(!
´og
->
İtiÚs
->
s’t
 && 
psmi
.
be¡_f™_size
) {

874 
	`´štf
("\nAuto-selectedile size is ");

875 
j
 = 0; j < 
max_dim
; j++)

876 
	`´štf
("%d ", 
psmi
.
be¡_f™_size
[
j
]);

877 
	`´štf
("\n\n");

881 
	`ä“
(
¦İes
);

882  
psmi
.
be¡_f™_size
;

883 
	}
}

889 
__i¦_give
 
i¦_uniÚ_m­
 *
	$¶uto_scheduË
(
i¦_uniÚ_£t
 *
domašs
,

890 
i¦_uniÚ_m­
 *
d•’d’ûs
,

891 
i¦_uniÚ_m­
 *
»ad
,

892 
i¦_uniÚ_m­
 *
wr™e
,

893 
PlutoO±iÚs
 *
İtiÚs_l
)

895 
i
, 
nbªds
, 
n_ibªds
, 
»tv®
;

896 
i¦_ùx
 *
ùx
;

897 
i¦_¥aû
 *
¥aû
;

898 
t_t
, 
t_®l
, 
t_¡¬t
;

899 
i¦_uniÚ_m­
 *
scheduËs
;

901 
ùx
 = 
	`i¦_uniÚ_£t_g‘_ùx
(
domašs
);

902 
¥aû
 = 
	`i¦_uniÚ_£t_g‘_¥aû
(
domašs
);

904 
PlutoProg
 *
´og
 = 
	`¶uto_´og_®loc
();

905 
´og
->
İtiÚs
 = 
İtiÚs_l
;

908 
İtiÚs
 = 
İtiÚs_l
;

911 
´og
->
nv¬
 = -1;

912 
´og
->
n¡mts
 = 
	`i¦_uniÚ_£t_n_£t
(
domašs
);

914 ià(
´og
->
n¡mts
 >= 1) {

915 
´og
->
¡mts
 = (
Stmt
 **)
	`m®loc
Õrog->
n¡mts
 * (Stmt *));

917 
´og
->
¡mts
 = 
NULL
;

920 
i
=0; i<
´og
->
n¡mts
; i++) {

921 
´og
->
¡mts
[
i
] = 
NULL
;

924 
	`exŒaù_¡mts
(
domašs
, 
´og
->
¡mts
);

926 
i
=0; i<
´og
->
n¡mts
; i++) {

927 
´og
->
nv¬
 = 
	`PLMAX
Õrog->nv¬,…rog->
¡mts
[
i
]->
dim
);

930 
i
 = 0; i<
´og
->
n¡mts
; i++) {

931 
i¦_uniÚ_m­
 *
»ads
 = 
	`exŒaù_¡mt_acûs£s
(
»ad
, 
i
);

932 
i¦_uniÚ_m­
 *
wr™es
 = 
	`exŒaù_¡mt_acûs£s
(
wr™e
, 
i
);

933 
	`exŒaù_acûss_âs
(
»ads
, 
wr™es
, 
´og
->
¡mts
[
i
], i);

934 
	`i¦_uniÚ_m­_ä“
(
»ads
);

935 
	`i¦_uniÚ_m­_ä“
(
wr™es
);

938 ià(
´og
->
n¡mts
 >= 1) {

939 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[0];

940 
´og
->
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

941 
´og
->
·¿ms
 = (**è
	`m®loc
((*)*´og->
Å¬
);

942 }
´og
->
Å¬
 = 0;

944 
i
=0; i<
´og
->
Å¬
; i++) {

945 *
·¿m
 = 
	`m®loc
(5);

946 
	`¥rštf
(
·¿m
, "p%d", 
i
);

947 
´og
->
·¿ms
[
i
] = 
·¿m
;

950 
´og
->
nd•s
 = 0;

951 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•’d’ûs
, &
i¦_m­_couÁ
, &
´og
->
nd•s
);

953 
´og
->
d•s
 = (
D•
 **)
	`m®loc
Õrog->
nd•s
 * (Dep *));

954 
i
=0; i<
´og
->
nd•s
; i++) {

955 
´og
->
d•s
[
i
] = 
	`¶uto_d•_®loc
();

957 
	`exŒaù_d•s
(
´og
->
d•s
, 0,…rog->
¡mts
,

958 
d•’d’ûs
, 
OSL_DEPENDENCE_RAW
);

960 
	`IF_DEBUG
(
	`¶uto_´og_´št
(
¡dout
, 
´og
););

962 
t_¡¬t
 = 
	`¹şock
();

963 
»tv®
 = 
	`¶uto_auto_ŒªsfÜm
(
´og
);

964 
t_t
 = 
	`¹şock
(è- 
t_¡¬t
;

966 ià(
»tv®
) {

968 
	`¶uto_´og_ä“
(
´og
);

969 
	`i¦_¥aû_ä“
(
¥aû
);

971 ià(!
İtiÚs
->
s’t
) {

972 
	`´štf
("[libpluto] failure,„eturning NULL schedules\n");

975  
NULL
;

978 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

979 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

981 ià(!
İtiÚs
->
s’t
) {

982 
	`årštf
(
¡dout
, "[pluto] Affineransformations\n\n");

984 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

987 
Bªd
 **
bªds
, **
ibªds
;

988 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

989 
ibªds
 = 
	`¶uto_g‘_šÃrmo¡_³rmubË_bªds
(
´og
, &
n_ibªds
);

990 ià(!
İtiÚs
->
s’t
) {

991 
	`´štf
("Ou‹rmo¡abË bªds: %d bªds\n", 
nbªds
);

992 
	`¶uto_bªds_´št
(
bªds
, 
nbªds
);

993 
	`´štf
("IÂ”mo¡abË bªds: %d bªds\n", 
n_ibªds
);

994 
	`¶uto_bªds_´št
(
ibªds
, 
n_ibªds
);

997 ià(
İtiÚs
->
te
) {

998 *
be¡_f™_size
 = 
NULL
;

999 
max_dim
;

1000 ià(
İtiÚs
->
autÙesize
) {

1001 
max_dim
 = 
	`g‘_te_dim
(
´og
, 
domašs
);

1002 * 
ba£lše_size
 = (*)
	`m®loc
(
max_dim
*());

1003 
i
=0; i<
max_dim
; i++)

1004 
ba£lše_size
[
i
]ğ
BASE_TILE_SIZE
;

1005 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

1006 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

1007 
	`¶uto_te
(
´og
, 
ba£lše_size
);

1008 
	`¶uto_šŒa_te_İtimize
(
´og
,
max_dim
);

1009 
	`ä“
(
ba£lše_size
);

1010 
be¡_f™_size
 = 
	`g‘_auto_te_size
(
´og
, 
domašs
, 
»ad
, 
wr™e
);

1017 ià(
İtiÚs
->
šŒ©eİt
) {

1018 
	`¶uto_šŒa_te_İtimize
(
´og
, 0);

1022 ià((
İtiÚs
->
·¿Î–
è&& !İtiÚs->
te
 && !İtiÚs->
id’t™y
) {

1025 
nbªds
;

1026 
Bªd
 **
bªds
;

1027 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

1028 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

1029 
boŞ
 
»tv®
 = 
	`¶uto_ü—‹_te_scheduË
(
´og
, 
bªds
, 
nbªds
);

1030 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

1034 ià(
»tv®
) {

1035 
	`´štf
("[pluto] WARNING:…ipelined…arallelismƒxists‡nd --tile is‚ot used.\n");

1036 
	`´štf
("[pluto] WARNING: use --tile for better…arallelization \n");

1037 
	`årštf
(
¡dout
, "[pluto] After skewing:\n");

1038 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

1043 ià(
İtiÚs
->
·¿Î–
 && !İtiÚs->
s’t
) {

1044 
Åloİs
;

1045 
Ploİ
 **
¶oİs
 = 
	`¶uto_g‘_dom_·¿Î–_loİs
(
´og
, &
Åloİs
);

1046 
	`´štf
("[¶uto_m¬k_·¿Î–] %d…¬®ËÈloİs\n", 
Åloİs
);

1047 
	`¶uto_loİs_´št
(
¶oİs
, 
Åloİs
);

1048 
	`´štf
("\n");

1049 
	`¶uto_loİs_ä“
(
¶oİs
, 
Åloİs
);

1053 
scheduËs
 = 
	`i¦_uniÚ_m­_fÜ_¶uto_scheduË
(
´og
, 
ùx
, 
¥aû
);

1054 
	`¶uto_´og_ä“
(
´og
);

1055 
	`i¦_¥aû_ä“
(
¥aû
);

1056 
t_®l
 = 
	`¹şock
(è- 
t_¡¬t
;

1058 ià(
İtiÚs
->
time
 && !İtiÚs->
s’t
) {

1059 
	`´štf
("[¶uto] Auto-ŒªsfÜm©iÚime: %0.6lfs\n", 
t_t
);

1060 
	`´štf
("[¶uto] Oth”/Misøtime: %0.6lfs\n", 
t_®l
-
t_t
);

1061 
	`´štf
("[¶uto] TÙ®ime: %0.6lfs\n", 
t_®l
);

1064  
scheduËs
;

1065 
	}
}

1067 
Rem­pšg
 *
	$¶uto_g‘_»m­pšg
(
i¦_uniÚ_£t
 *
domašs
,

1068 
i¦_uniÚ_m­
 *
d•’d’ûs
, 
PlutoO±iÚs
 *
İtiÚs_l
)

1071 
i
, 
nbªds
, 
n_ibªds
, 
»tv®
;

1072 
i¦_¥aû
 *
¥aû
;

1074 
¥aû
 = 
	`i¦_uniÚ_£t_g‘_¥aû
(
domašs
);

1076 
PlutoProg
 *
´og
 = 
	`¶uto_´og_®loc
();

1077 
´og
->
İtiÚs
 = 
İtiÚs_l
;

1080 
İtiÚs
 = 
İtiÚs_l
;

1083 
´og
->
nv¬
 = -1;

1084 
´og
->
n¡mts
 = 
	`i¦_uniÚ_£t_n_£t
(
domašs
);

1086 ià(
´og
->
n¡mts
 >= 1) {

1087 
´og
->
¡mts
 = (
Stmt
 **)
	`m®loc
Õrog->
n¡mts
 * (Stmt *));

1089 
´og
->
¡mts
 = 
NULL
;

1092 
i
=0; i<
´og
->
n¡mts
; i++) {

1093 
´og
->
¡mts
[
i
] = 
NULL
;

1096 
	`exŒaù_¡mts
(
domašs
, 
´og
->
¡mts
);

1098 
i
=0; i<
´og
->
n¡mts
; i++) {

1099 
´og
->
nv¬
 = 
	`PLMAX
Õrog->nv¬,…rog->
¡mts
[
i
]->
dim
);

1102 ià(
´og
->
n¡mts
 >= 1) {

1103 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[0];

1104 
´og
->
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

1105 
´og
->
·¿ms
 = (**è
	`m®loc
((*)*´og->
Å¬
);

1106 }
´og
->
Å¬
 = 0;

1108 
i
=0; i<
´og
->
Å¬
; i++) {

1109 *
·¿m
 = 
	`m®loc
(5);

1110 
	`¥rštf
(
·¿m
, "p%d", 
i
);

1111 
´og
->
·¿ms
[
i
] = 
·¿m
;

1114 
´og
->
nd•s
 = 0;

1115 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•’d’ûs
, &
i¦_m­_couÁ
, &
´og
->
nd•s
);

1117 
´og
->
d•s
 = (
D•
 **)
	`m®loc
Õrog->
nd•s
 * (Dep *));

1118 
i
=0; i<
´og
->
nd•s
; i++) {

1119 
´og
->
d•s
[
i
] = 
	`¶uto_d•_®loc
();

1123 
	`exŒaù_d•s
(
´og
->
d•s
, 0,…rog->
¡mts
,

1124 
d•’d’ûs
, 
OSL_DEPENDENCE_RAW
);

1126 
	`IF_DEBUG
(
	`¶uto_´og_´št
(
¡dout
, 
´og
););

1128 
»tv®
 = 
	`¶uto_auto_ŒªsfÜm
(
´og
);

1130 ià(
»tv®
) {

1132 
	`¶uto_´og_ä“
(
´og
);

1133 
	`i¦_¥aû_ä“
(
¥aû
);

1135 ià(!
İtiÚs
->
s’t
) {

1136 
	`´štf
("[libpluto] failure,„eturning NULL schedules\n");

1139  
NULL
;

1142 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

1143 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

1145 ià(!
İtiÚs
->
s’t
) {

1146 
	`årštf
(
¡dout
, "[pluto] Affineransformations\n\n");

1148 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

1151 
Bªd
 **
bªds
, **
ibªds
;

1152 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

1153 
ibªds
 = 
	`¶uto_g‘_šÃrmo¡_³rmubË_bªds
(
´og
, &
n_ibªds
);

1154 
	`´štf
("Ou‹rmo¡abË bªds: %d bªds\n", 
nbªds
);

1155 
	`¶uto_bªds_´št
(
bªds
, 
nbªds
);

1156 
	`´štf
("IÂ”mo¡abË bªds: %d bªds\n", 
n_ibªds
);

1157 
	`¶uto_bªds_´št
(
ibªds
, 
n_ibªds
);

1159 ià(
İtiÚs
->
te
) {

1160 
	`¶uto_te
(
´og
, 
NULL
);

1162 ià(
İtiÚs
->
šŒ©eİt
) {

1163 
	`¶uto_šŒa_te_İtimize
(
´og
, 0);

1167 
Rem­pšg
 *
»m­pšg
 = (Rem­pšg *)
	`m®loc
((Remapping));

1168 
»m­pšg
->
n¡mts
 = 
´og
->nstmts;

1169 
»m­pšg
->
¡mt_šv_m©riûs
 =

1170 (
PlutoM©rix
 **)
	`m®loc
((PlutoM©rix *è* 
´og
->
n¡mts
);

1171 
»m­pšg
->
¡mt_divs
 = (**)
	`m®loc
((*è* 
´og
->
n¡mts
);

1174 
i
 = 0; i < 
´og
->
n¡mts
; i++) {

1175 
»m­pšg
->
¡mt_šv_m©riûs
[
i
] = 
	`¶uto_¡mt_g‘_»m­pšg
(
´og
->
¡mts
[i],

1176 &
»m­pšg
->
¡mt_divs
[
i
]);

1178  
»m­pšg
;

1179 
	}
}

1189 
	$¶uto_scheduË_o¦
(
o¦_scİ_p
 
scİ
,

1190 
PlutoO±iÚs
 *
İtiÚs_l
)

1192 
i
=0;

1194 ià(!
scİ
 || !scİ->
¡©em’t
) {

1195 
	`årštf
(
¡d”r
, "Empty Scop…assed\n");

1196  
EXIT_FAILURE
;

1200 
İtiÚs
 = 
İtiÚs_l
;

1203 
PlutoProg
 *
´og
 = 
	`scİ_to_¶uto_´og
(
scİ
, 
İtiÚs
);

1205 
dim_sum
=0;

1206 
i
=0; i<
´og
->
n¡mts
; i++) {

1207 
dim_sum
 +ğ
´og
->
¡mts
[
i
]->
dim
;

1211 ià(
İtiÚs
->
muÉ¬
 =ğ1 && o±iÚs->
·¿Î–
 == 0) {

1212 
	`årštf
(
¡dout
, "Warning: multipar‚eeds…arallelo be on;urning on…arallel\n");

1213 
İtiÚs
->
·¿Î–
 = 1;

1217 ià(
İtiÚs
->
te
 =ğ0 && o±iÚs->
´eveùÜ
 == 1) {

1220 ià(!
İtiÚs
->
s’t
) {

1221 
	`årštf
(
¡dout
, "[Pluto] Warning:…re-vectorization does‚ot fit (--tile is off)\n");

1223 
İtiÚs
->
´eveùÜ
 = 0;

1226 ià(!
İtiÚs
->
s’t
) {

1227 
	`årštf
(
¡dout
, "[Pluto] Numb” oà¡©em’ts: %d\n", 
´og
->
n¡mts
);

1228 
	`årštf
(
¡dout
, "[Pluto] TÙ®‚umb” oàloİs: %d\n", 
dim_sum
);

1229 
	`årštf
(
¡dout
, "[Pluto] Numb” oàd•s: %d\n", 
´og
->
nd•s
);

1230 
	`årštf
(
¡dout
, "[Pluto] Maximum domaš dim’siÚ®™y: %d\n", 
´og
->
nv¬
);

1231 
	`årštf
(
¡dout
, "[Pluto] Numb” oà·¿m‘”s: %d\n", 
´og
->
Å¬
);

1236 ià(!
İtiÚs
->
id’t™y
) {

1237 
	`¶uto_auto_ŒªsfÜm
(
´og
);

1240 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

1241 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

1243 ià(!
İtiÚs
->
s’t
) {

1244 
	`årštf
(
¡dout
, "[Pluto] Affineransformations [<iter coeff's> <const>]\n\n");

1246 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

1249 ià(
İtiÚs
->
te
) {

1250 
	`¶uto_te
(
´og
, 
NULL
);

1252 ià(
İtiÚs
->
šŒ©eİt
) {

1253 
	`¶uto_šŒa_te_İtimize
(
´og
, 0);

1257 ià(
İtiÚs
->
·¿Î–
 && !İtiÚs->
te
 && !İtiÚs->
id’t™y
) {

1260 
nbªds
;

1261 
Bªd
 **
bªds
;

1262 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

1263 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

1264 
boŞ
 
»tv®
 = 
	`¶uto_ü—‹_te_scheduË
(
´og
, 
bªds
, 
nbªds
);

1265 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

1269 ià(
»tv®
) {

1270 
	`´štf
("[pluto] WARNING:…ipelined…arallelismƒxists‡nd --tile is‚ot used.\n");

1271 
	`´štf
("[pluto] WARNING: use --tile for better…arallelization \n");

1272 
	`årštf
(
¡dout
, "[pluto] After skewing:\n");

1273 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

1278 ià(
İtiÚs
->
uÄŞl
 || o±iÚs->
pŞyuÄŞl
) {

1281 
FILE
 *
·¿msFP
 = 
	`fİ’
(".params", "w");

1282 ià(
·¿msFP
) {

1283 
i
;

1284 
i
=0; i<
´og
->
Å¬
; i++) {

1285 
	`årštf
(
·¿msFP
, "%s\n", 
´og
->
·¿ms
[
i
]);

1287 
	`fşo£
(
·¿msFP
);

1289 
	`¶uto_d‘eù_m¬k_uÄŞÏbË_loİs
(
´og
);

1292 ià(
İtiÚs
->
pŞyuÄŞl
) {

1294 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

1295 ià(
´og
->
hPrİs
[
i
].
uÄŞl
) {

1296 
	`uÄŞl_phis
(
´og
, 
i
, 
İtiÚs
->
uçùÜ
);

1307 
	`¶uto_pİuÏ‹_scİ
 (
scİ
, 
´og
, 
İtiÚs
);

1309 
	`¶uto_´og_ä“
(
´og
);

1311  
EXIT_SUCCESS
;

1312 
	}
}

1317 
__i¦_give
 
i¦_uniÚ_m­
 *
	$¶uto_·¿Î–_scheduË_w™h_»m­pšg
(
i¦_uniÚ_£t
 *
domašs
,

1318 
i¦_uniÚ_m­
 *
d•’d’ûs
,

1319 
Ploİ
*** 
¶oİs
,

1320 * 
Åloİs
,

1321 
Rem­pšg
** 
»m­
,

1322 
PlutoO±iÚs
 *
İtiÚs_l
)

1324 
i
, 
nbªds
, 
n_ibªds
, 
»tv®
;

1325 
i¦_ùx
 *
ùx
;

1326 
i¦_¥aû
 *
¥aû
;

1327 
t_t
, 
t_®l
, 
t_¡¬t
;

1329 
ùx
 = 
	`i¦_uniÚ_£t_g‘_ùx
(
domašs
);

1330 
¥aû
 = 
	`i¦_uniÚ_£t_g‘_¥aû
(
domašs
);

1332 
PlutoProg
 *
´og
 = 
	`¶uto_´og_®loc
();

1333 
´og
->
İtiÚs
 = 
İtiÚs_l
;

1336 
İtiÚs
 = 
İtiÚs_l
;

1339 
´og
->
nv¬
 = -1;

1340 
´og
->
n¡mts
 = 
	`i¦_uniÚ_£t_n_£t
(
domašs
);

1342 ià(
´og
->
n¡mts
 >= 1) {

1343 
´og
->
¡mts
 = (
Stmt
 **)
	`m®loc
Õrog->
n¡mts
 * (Stmt *));

1345 
´og
->
¡mts
 = 
NULL
;

1348 
i
=0; i<
´og
->
n¡mts
; i++) {

1349 
´og
->
¡mts
[
i
] = 
NULL
;

1352 
	`exŒaù_¡mts
(
domašs
, 
´og
->
¡mts
);

1354 
i
=0; i<
´og
->
n¡mts
; i++) {

1355 
´og
->
nv¬
 = 
	`PLMAX
Õrog->nv¬,…rog->
¡mts
[
i
]->
dim
);

1358 ià(
´og
->
n¡mts
 >= 1) {

1359 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[0];

1360 
´og
->
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

1361 
´og
->
·¿ms
 = (**è
	`m®loc
((*)*´og->
Å¬
);

1362 }
´og
->
Å¬
 = 0;

1364 
i
=0; i<
´og
->
Å¬
; i++) {

1365 *
·¿m
 = 
	`m®loc
(5);

1366 
	`¥rštf
(
·¿m
, "p%d", 
i
);

1367 
´og
->
·¿ms
[
i
] = 
·¿m
;

1370 
´og
->
nd•s
 = 0;

1371 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•’d’ûs
, &
i¦_m­_couÁ
, &
´og
->
nd•s
);

1373 
´og
->
d•s
 = (
D•
 **)
	`m®loc
Õrog->
nd•s
 * (Dep *));

1374 
i
=0; i<
´og
->
nd•s
; i++) {

1375 
´og
->
d•s
[
i
] = 
	`¶uto_d•_®loc
();

1377 
	`exŒaù_d•s
(
´og
->
d•s
, 0,…rog->
¡mts
,

1378 
d•’d’ûs
, 
OSL_DEPENDENCE_RAW
);

1380 
	`IF_DEBUG
(
	`¶uto_´og_´št
(
¡dout
, 
´og
););

1382 
t_¡¬t
 = 
	`¹şock
();

1383 
»tv®
 = 
	`¶uto_auto_ŒªsfÜm
(
´og
);

1384 
t_t
 = 
	`¹şock
(è- 
t_¡¬t
;

1386 ià(
»tv®
) {

1388 
	`¶uto_´og_ä“
(
´og
);

1389 
	`i¦_¥aû_ä“
(
¥aû
);

1391 ià(!
İtiÚs
->
s’t
) {

1392 
	`´štf
("[libpluto] failure,„eturning NULL schedules\n");

1395  
NULL
;

1398 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

1399 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

1401 ià(!
İtiÚs
->
s’t
) {

1402 
	`årštf
(
¡dout
, "[pluto] Affineransformations\n\n");

1404 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

1407 
Bªd
 **
bªds
, **
ibªds
;

1408 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

1409 
ibªds
 = 
	`¶uto_g‘_šÃrmo¡_³rmubË_bªds
(
´og
, &
n_ibªds
);

1410 
	`´štf
("Ou‹rmo¡abË bªds: %d bªds\n", 
nbªds
);

1411 
	`¶uto_bªds_´št
(
bªds
, 
nbªds
);

1412 
	`´štf
("IÂ”mo¡abË bªds: %d bªds\n", 
n_ibªds
);

1413 
	`¶uto_bªds_´št
(
ibªds
, 
n_ibªds
);

1415 ià(
İtiÚs
->
te
) {

1416 
	`¶uto_te
(
´og
, 
NULL
);

1418 ià(
İtiÚs
->
šŒ©eİt
) {

1419 
	`¶uto_šŒa_te_İtimize
(
´og
, 0);

1423 ià((
İtiÚs
->
·¿Î–
è&& !İtiÚs->
te
 && !İtiÚs->
id’t™y
) {

1426 
nbªds
;

1427 
Bªd
 **
bªds
;

1428 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

1429 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

1430 
boŞ
 
»tv®
 = 
	`¶uto_ü—‹_te_scheduË
(
´og
, 
bªds
, 
nbªds
);

1431 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

1435 ià(
»tv®
) {

1436 
	`´štf
("[pluto] WARNING:…ipelined…arallelismƒxists‡nd --tile is‚ot used.\n");

1437 
	`´štf
("[pluto] WARNING: use --tile for better…arallelization \n");

1438 
	`årštf
(
¡dout
, "[pluto] After skewing:\n");

1439 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

1444 ià(
İtiÚs
->
·¿Î–
) {

1445 *
¶oİs
 = 
	`¶uto_g‘_·¿Î–_loİs
(
´og
, 
Åloİs
);

1446 ià(!
İtiÚs
->
s’t
) {

1447 
	`´štf
("[¶uto_m¬k_·¿Î–] %d…¬®ËÈloİs\n", *
Åloİs
);

1448 
	`¶uto_loİs_´št
(*
¶oİs
, *
Åloİs
);

1449 
	`´štf
("\n");

1452 *
Åloİs
 = 0;

1456 
Rem­pšg
 *
»m­pšg
 = (Rem­pšg *)
	`m®loc
((Remapping));

1457 
»m­pšg
->
n¡mts
 = 
´og
->nstmts;

1458 
»m­pšg
->
¡mt_šv_m©riûs
 =

1459 (
PlutoM©rix
 **)
	`m®loc
((PlutoM©rix *è* 
´og
->
n¡mts
);

1460 
»m­pšg
->
¡mt_divs
 = (**)
	`m®loc
((*è* 
´og
->
n¡mts
);

1462 *
»m­
 = 
»m­pšg
;

1464 
i
 = 0; i < 
´og
->
n¡mts
; i++) {

1465 
»m­pšg
->
¡mt_šv_m©riûs
[
i
] = 
	`¶uto_¡mt_g‘_»m­pšg
(
´og
->
¡mts
[i],

1466 &
»m­pšg
->
¡mt_divs
[
i
]);

1467 ià(!
İtiÚs
->
s’t
) {

1468 
	`´štf
("[lib¶uto] S‹m’ˆ%d Id- %d\n", 
i
, 
´og
->
¡mts
[i]->
id
);

1469 
	`¶uto_m©rix_´št
(
¡dout
, 
»m­pšg
->
¡mt_šv_m©riûs
[
i
]);

1473 
i¦_uniÚ_m­
 *
scheduËs
 = 
	`i¦_uniÚ_m­_fÜ_¶uto_scheduË
(
´og
, 
ùx
, 
¥aû
);

1474 
	`¶uto_´og_ä“
(
´og
);

1475 
	`i¦_¥aû_ä“
(
¥aû
);

1477 
t_®l
 = 
	`¹şock
(è- 
t_¡¬t
;

1479 ià(
İtiÚs
->
time
 && !İtiÚs->
s’t
) {

1480 
	`´štf
("[¶uto] Auto-ŒªsfÜm©iÚime: %0.6lfs\n", 
t_t
);

1481 
	`´štf
("[¶uto] Oth”/Misøtime: %0.6lfs\n", 
t_®l
-
t_t
);

1482 
	`´štf
("[¶uto] TÙ®ime: %0.6lfs\n", 
t_®l
);

1485  
scheduËs
;

1486 
	}
}

1493 
	$¶uto_scheduË_¡r
(cÚ¡ *
domašs_¡r
,

1494 cÚ¡ *
d•’d’ûs_¡r
,

1495 ** 
scheduËs_¡r_bufãr_±r
,

1496 ** 
p_loİs
,

1497 
Rem­pšg
 **
»m­pšg_±r
,

1498 
PlutoO±iÚs
 *
İtiÚs
)

1500 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

1501 
Ploİ
** 
¶oİ
;

1502 
Åloİ
 = 0,
i
;

1503 
Rem­pšg
* 
»m­pšg
;

1505 
i¦_uniÚ_£t
 *
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
, 
domašs_¡r
);

1506 
i¦_uniÚ_m­
 *
d•’d’ûs
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
,

1507 
d•’d’ûs_¡r
);

1509 
	`as£¹
(
»m­pšg_±r
 !ğ
NULL
);

1510 
i¦_uniÚ_m­
 *
scheduË
 = 
	`¶uto_·¿Î–_scheduË_w™h_»m­pšg
(
domašs
,

1511 
d•’d’ûs
, &
¶oİ
, &
Åloİ
, &
»m­pšg
, 
İtiÚs
);

1513 ià(
İtiÚs
->
·¿Î–
) {

1514 ià(!
İtiÚs
->
s’t
) {

1515 
	`¶uto_loİs_´št
(
¶oİ
, 
Åloİ
);

1520 * 
¡r
 = (*)(
	`m®loc
(() * 5));

1521 
	`¥rštf
(
¡r
, "%d", 
Åloİ
);

1525 
p_loİs
[0] = (*è
	`m®loc
((è* 6 * (
Åloİ
+1));

1526 
	`¡rıy
(
p_loİs
[0], 
¡r
);

1528 
i
 = 1; i < 
Åloİ
 + 1; i++) {

1530 
	`¡rÿt
(
p_loİs
[0], ",");

1532 
	`¥rštf
(
¡r
, "%d", 
¶oİ
[
i
-1]->
d•th
+1);

1533 
	`¡rÿt
(
p_loİs
[0], 
¡r
);

1537 *
»m­pšg_±r
 = 
»m­pšg
;

1539 
i¦_´š‹r
 *
´š‹r
 = 
	`i¦_´š‹r_to_¡r
(
ùx
);

1540 
	`i¦_´š‹r_´št_uniÚ_m­
(
´š‹r
, 
scheduË
);

1542 *
scheduËs_¡r_bufãr_±r
 = 
	`i¦_´š‹r_g‘_¡r
(
´š‹r
);

1543 
	`as£¹
(*
scheduËs_¡r_bufãr_±r
 !ğ
NULL
 && "isl…rinter…rovidingƒmpty"

1546 
	`i¦_´š‹r_ä“
(
´š‹r
);

1547 
	`i¦_uniÚ_£t_ä“
(
domašs
);

1548 
	`i¦_uniÚ_m­_ä“
(
d•’d’ûs
);

1549 
	`i¦_uniÚ_m­_ä“
(
scheduË
);

1551 
	`i¦_ùx_ä“
(
ùx
);

1552 
	}
}

1554 
	$¶uto_g‘_»m­pšg_¡r
(cÚ¡ *
domašs_¡r
,

1555 cÚ¡ *
d•’d’ûs_¡r
,

1556 
Rem­pšg
 **
»m­pšg_±r
,

1557 
PlutoO±iÚs
 *
İtiÚs
)

1559 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

1560 
i¦_uniÚ_£t
 *
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
, 
domašs_¡r
);

1561 
i¦_uniÚ_m­
 *
d•’d’ûs
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
,

1562 
d•’d’ûs_¡r
);

1564 
	`as£¹
(
»m­pšg_±r
 !ğ
NULL
);

1565 
Rem­pšg
 *
»m­pšg
 = 
	`¶uto_g‘_»m­pšg
(
domašs
, 
d•’d’ûs
, 
İtiÚs
);

1566 *
»m­pšg_±r
 = 
»m­pšg
;

1568 
	}
};

1571 
	$¶uto_»m­pšg_ä“
(
Rem­pšg
 *
»m­pšg
)

1573 
	`as£¹
(
»m­pšg
 !ğ
NULL
);

1574 
	`ä“
(
»m­pšg
);

1575 
	}
};

1577 
	$¶uto_scheduËs_¡rbuf_ä“
(*
scheduËs_¡r_bufãr
)

1579 
	`ä“
(
scheduËs_¡r_bufãr
);

1580 
	}
}

	@libpluto_dummy.c

1 
	~<¡dio.h
>

2 
	~<as£¹.h
>

4 
	~"¶uto.h
"

6 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_uniÚ
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡1
,

7 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

9 
	`as£¹
(0);

10  
NULL
;

11 
	}
}

14 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_image
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, cÚ¡ 
PlutoM©rix
 *
func
)

16 
	`as£¹
(0);

17  
NULL
;

18 
	}
}

21 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_š‹r£ù
(
PlutoCÚ¡¿šts
 *
c¡1
,

22 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

24 
	`as£¹
(0);

25  
NULL
;

26 
	}
}

29 
PlutoCÚ¡¿šts
 *
	$¶uto_cÚ¡¿šts_subŒaù
(
PlutoCÚ¡¿šts
 *
c¡1
,

30 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡2
)

32 
	`as£¹
(0);

33  
NULL
;

34 
	}
}

	@main.c

22 
	~<¡dio.h
>

23 
	~<¡dlib.h
>

24 
	~<as£¹.h
>

25 
	~<¡ršg.h
>

26 
	~<g‘İt.h
>

27 
	~<libg’.h
>

29 
	~<uni¡d.h
>

30 
	~<sys/time.h
>

32 #ifdeà
HAVE_CONFIG_H


33 
	~"cÚfig.h
"

37 
	~"o¦/scİ.h
"

38 
	~"o¦/g’”ic.h
"

39 
	~"o¦/ex‹nsiÚs/œ»guÏr.h
"

41 
	~"¶uto.h
"

42 
	~"ŒªsfÜms.h
"

43 
	~"m©h_suµÜt.h
"

44 
	~"po¡_ŒªsfÜm.h
"

45 
	~"´og¿m.h
"

46 
	~"v”siÚ.h
"

48 
	~"şª/şª.h
"

49 
	~"ÿndl/ÿndl.h
"

50 
	~"ÿndl/scİ.h
"

52 
PlutoO±iÚs
 *
	gİtiÚs
;

54 
	$u§ge_mes§ge
()

56 
	`årštf
(
¡dout
, "Usage:…olycc <input.c> [options] [-o output]\n");

57 
	`årštf
(
¡dout
, "\nOptions:\n");

58 
	`årštf
(
¡dout
, " --isldep Use ISL-based dependenceester (enabled by default)\n");

59 
	`årštf
(
¡dout
, " --candldep Use Candl‡she dependenceester\n");

60 
	`årštf
(
¡dout
, " --[no]lastwriter Removeransitive dependences (last conflicting‡ccess is computed for RAW/WAW)\n");

61 
	`årštf
(
¡dout
, " (disabled by default)\n");

62 
	`årštf
(
¡dout
, " --islsolve [default] Use ISL‡s ILP solver (default)\n");

63 
	`årštf
(
¡dout
, " --pipsolve Use PIP‡s ILP solver\n");

64 
	`årštf
(
¡dout
, " --glpk Use GLPK‡s ILP solver\n");

65 
	`årštf
(
¡dout
, "\n");

66 
	`årštf
(
¡dout
, "\n Optimizations Options„elatedo optimization\n");

67 
	`årštf
(
¡dout
, " --tile Tile for†ocality [disabled by default]\n");

68 
	`årštf
(
¡dout
, " --[no]intratileopt Optimize intra-tileƒxecution order for†ocality [enabled by default]\n");

69 
	`årštf
(
¡dout
, " --l2tile Tile‡ secondime (typically for L2 cache) [disabled by default] \n");

70 
	`årštf
(
¡dout
, " --parallel Automatically…arallelize (generate OpenMP…ragmas) [disabled by default]\n");

71 
	`årštf
(
¡dout
, " or --parallelize\n");

72 
	`årštf
(
¡dout
, " --partlbtile Enables one-dimensional concurrent start (recommended)\n");

73 
	`årštf
(
¡dout
, " or --part-diamond-tile\n");

74 
	`årštf
(
¡dout
, " --lbtile Enables full-dimensional concurrent start\n");

75 
	`årštf
(
¡dout
, " or --diamond-tile\n");

76 
	`årštf
(
¡dout
, " --[no]prevector Mark†oops for (icc/gcc) vectorization (enabled by default)\n");

77 
	`årštf
(
¡dout
, " --multipar Extract‡ll degrees of…arallelism [disabled by default];\n");

78 
	`årštf
(
¡dout
, " by default one degree isƒxtracted within‡ny schedule sub-tree (if itƒxists)\n");

79 
	`årštf
(
¡dout
, " --innerpar Choose…ure inner…arallelism over…ipelined/wavefront…arallelism [disabled by default]\n");

80 
	`årštf
(
¡dout
, "\n Fusion Optionso control fusion heuristic\n");

81 
	`årštf
(
¡dout
, " --nofuse Do‚ot fuse‡cross SCCs of data dependence graph\n");

82 
	`årštf
(
¡dout
, " --maxfuse Maximal fusion\n");

83 
	`årštf
(
¡dout
, " --smartfuse Heuristic (in between‚ofuse‡nd maxfuse)\n");

84 
	`årštf
(
¡dout
, " --typedfuse [default] Maximizes…arallelism by…reventinghe fusion of SCCshat„esults in…arallelism†oss.\n");

85 
	`årštf
(
¡dout
, "\n Index Set Splitting \n");

86 
	`årštf
(
¡dout
, " --iss \n");

87 
	`årštf
(
¡dout
, "\n Code generation Optionso control Cloog code generation\n");

88 
	`årštf
(
¡dout
, " --nocloogbacktrack Do‚ot call Cloog with backtrack (default - backtrack)\n");

89 
	`årštf
(
¡dout
, " --cloogsh Ask Cloogo use simple convex hull (default - off)\n");

90 
	`årštf
(
¡dout
, " --codegen-context=<value> Parameters‡re‡t†east‡s much‡s <value>\n");

91 
	`årštf
(
¡dout
, "\n Miscellaneous\n");

92 
	`årštf
(
¡dout
, " --rar Consider RAR dependencesoo (disabled by default)\n");

93 
	`årštf
(
¡dout
, " --[no]unroll Unroll-jam (disabled by default)\n");

94 
	`årštf
(
¡dout
, " --ufactor=<factor> Unroll-jam factor (default is 8)\n");

95 
	`årštf
(
¡dout
, " --forceparallel=<bitvec> 6 bit-vector of depths (1-indexed)o force…arallel (0th bit„epresents depth 1)\n");

96 
	`årštf
(
¡dout
, " --readscop Read input from‡ scoplib file\n");

97 
	`årštf
(
¡dout
, " --bee Generate…ragmas for Bee+Cl@k\n\n");

98 
	`årštf
(
¡dout
, " --indent | -i Indent generated code (disabled by default)\n");

99 
	`årštf
(
¡dout
, " --silent | -q Silent mode;‚o output‡s†ong‡sƒverything goes fine (disabled by default)\n");

100 
	`årštf
(
¡dout
, " --help | -h Printhis help menu\n");

101 
	`årštf
(
¡dout
, " --version | -v Display version‚umber\n");

102 
	`årštf
(
¡dout
, "\n Debugging\n");

103 
	`årštf
(
¡dout
, " --debug Verbose/debug output\n");

104 
	`årštf
(
¡dout
, " --moredebug More verbose/debug output\n");

105 
	`årštf
(
¡dout
, "\nTo„eport bugs,…leaseƒmail <pluto-development@googlegroups.com>\n\n");

106 
	}
}

108 
	$¹şock
()

110 
timezÚe
 
Tzp
;

111 
timev®
 
Tp
;

112 
¡©
;

113 
¡©
 = 
	`g‘timeofday
 (&
Tp
, &
Tzp
);

114 ià(
¡©
 !ğ0è
	`´štf
("Error„eturn from gettimeofday: %d",stat);

115 (
Tp
.
tv_£c
 + Tp.
tv_u£c
*1.0e-6);

116 
	}
}

118 
	$maš
(
¬gc
, *
¬gv
[])

120 
i
;

122 
t_¡¬t
, 
t_c
, 
t_d
, 
t_t
, 
t_®l
, 
t_¡¬t_®l
;

124 
t_c
 = 0.0;

126 
t_¡¬t_®l
 = 
	`¹şock
();

128 
FILE
 *
¤c_å
;

130 
İtiÚ
;

131 
İtiÚ_šdex
 = 0;

133 
nŞa¡wr™”
 = 0;

135 *
¤cFeName
;

137 
FILE
 *
şoogå
, *
outå
;

139 ià(
¬gc
 <= 1) {

140 
	`u§ge_mes§ge
();

144 
İtiÚs
 = 
	`¶uto_İtiÚs_®loc
();

146 cÚ¡ 
İtiÚ
 
¶uto_İtiÚs
[] =

148 {"ç¡-lš-šd-check", 
no_¬gum’t
, &
İtiÚs
->
æic
, 1},

149 {"æic", 
no_¬gum’t
, &
İtiÚs
->
æic
, 1},

150 {"te", 
no_¬gum’t
, &
İtiÚs
->
te
, 1},

151 {"nÙe", 
no_¬gum’t
, &
İtiÚs
->
te
, 0},

152 {"šŒ©eİt", 
no_¬gum’t
, &
İtiÚs
->
šŒ©eİt
, 1},

153 {"nošŒ©eİt", 
no_¬gum’t
, &
İtiÚs
->
šŒ©eİt
, 0},

154 {"lbte", 
no_¬gum’t
, &
İtiÚs
->
lbte
, 1},

155 {"dŸmÚd-te", 
no_¬gum’t
, &
İtiÚs
->
lbte
, 1},

156 {"·¹-dŸmÚd-te", 
no_¬gum’t
, &
İtiÚs
->
·¹lbte
, 1},

157 {"·¹lbte", 
no_¬gum’t
, &
İtiÚs
->
·¹lbte
, 1},

158 {"debug", 
no_¬gum’t
, &
İtiÚs
->
debug
, 
Œue
},

159 {"mÜedebug", 
no_¬gum’t
, &
İtiÚs
->
mÜedebug
, 
Œue
},

160 {"¿r", 
no_¬gum’t
, &
İtiÚs
->
¿r
, 1},

161 {"id’t™y", 
no_¬gum’t
, &
İtiÚs
->
id’t™y
, 1},

162 {"nofu£", 
no_¬gum’t
, &
İtiÚs
->
fu£
, 
NO_FUSE
},

163 {"maxfu£", 
no_¬gum’t
, &
İtiÚs
->
fu£
, 
MAXIMAL_FUSE
},

164 {"sm¬tfu£", 
no_¬gum’t
, &
İtiÚs
->
fu£
, 
SMART_FUSE
},

165 {"ty³dfu£", 
no_¬gum’t
, &
İtiÚs
->
fu£
, 
TYPED_FUSE
},

166 {"·¿Î–", 
no_¬gum’t
, &
İtiÚs
->
·¿Î–
, 1},

167 {"·¿Î–ize", 
no_¬gum’t
, &
İtiÚs
->
·¿Î–
, 1},

168 {"šÃ½¬", 
no_¬gum’t
, &
İtiÚs
->
šÃ½¬
, 1},

169 {"iss", 
no_¬gum’t
, &
İtiÚs
->
iss
, 1},

170 {"uÄŞl", 
no_¬gum’t
, &
İtiÚs
->
uÄŞl
, 1},

171 {"nouÄŞl", 
no_¬gum’t
, &
İtiÚs
->
uÄŞl
, 0},

172 {"pŞyuÄŞl", 
no_¬gum’t
, &
İtiÚs
->
pŞyuÄŞl
, 1},

173 {"b“", 
no_¬gum’t
, &
İtiÚs
->
b“
, 1},

174 {"uçùÜ", 
»quœed_¬gum’t
, 0, 'u'},

175 {"´eveùÜ", 
no_¬gum’t
, &
İtiÚs
->
´eveùÜ
, 1},

176 {"nİ»veùÜ", 
no_¬gum’t
, &
İtiÚs
->
´eveùÜ
, 0},

177 {"codeg’-cÚ‹xt", 
»quœed_¬gum’t
, 0, 'c'},

178 {"cÛff-bound", 
»quœed_¬gum’t
, 0, 'C'},

179 {"şoogf", 
»quœed_¬gum’t
, 0, 'F'},

180 {"şoogl", 
»quœed_¬gum’t
, 0, 'L'},

181 {"şoogsh", 
no_¬gum’t
, &
İtiÚs
->
şoogsh
, 1},

182 {"noşoogbackŒack", 
no_¬gum’t
, &
İtiÚs
->
şoogbackŒack
, 0},

183 {"fÜû·¿Î–", 
»quœed_¬gum’t
, 0, 'p'},

184 {"á", 
»quœed_¬gum’t
, 0, 'f'},

185 {"É", 
»quœed_¬gum’t
, 0, 'l'},

186 {"muÉ¬", 
no_¬gum’t
, &
İtiÚs
->
muÉ¬
, 1},

187 {"l2te", 
no_¬gum’t
, &
İtiÚs
->
l2te
, 1},

188 {"v”siÚ", 
no_¬gum’t
, 0, 'v'},

189 {"h–p", 
no_¬gum’t
, 0, 'h'},

190 {"šd’t", 
no_¬gum’t
, 0, 'i'},

191 {"s’t", 
no_¬gum’t
, &
İtiÚs
->
s’t
, 1},

192 {"Ï¡wr™”", 
no_¬gum’t
, &
İtiÚs
->
Ï¡wr™”
, 1},

193 {"nŞa¡wr™”", 
no_¬gum’t
, &
nŞa¡wr™”
, 1},

194 {"nod•bound", 
no_¬gum’t
, &
İtiÚs
->
nod•bound
, 1},

195 {"sÿÍriv", 
no_¬gum’t
, &
İtiÚs
->
sÿÍriv
, 1},

196 {"i¦d•", 
no_¬gum’t
, &
İtiÚs
->
i¦d•
, 1},

197 {"ÿndld•", 
no_¬gum’t
, &
İtiÚs
->
ÿndld•
, 1},

198 {"i¦d•acûsswi£", 
no_¬gum’t
, &
İtiÚs
->
i¦d•acûsswi£
, 1},

199 {"i¦d•¡mtwi£", 
no_¬gum’t
, &
İtiÚs
->
i¦d•acûsswi£
, 0},

200 {"noi¦d•cßËsû", 
no_¬gum’t
, &
İtiÚs
->
i¦d•cßËsû
, 0},

201 {"»adscİ", 
no_¬gum’t
, &
İtiÚs
->
»adscİ
, 1},

202 {"psŞve", 
no_¬gum’t
, &
İtiÚs
->
psŞve
, 1},

203 {"i¦sŞve", 
no_¬gum’t
, &
İtiÚs
->
i¦sŞve
, 1},

204 {"time", 
no_¬gum’t
, &
İtiÚs
->
time
, 1},

211 
İtiÚ
 = 
	`g‘İt_lÚg
(
¬gc
, 
¬gv
, "bhiqvf:l:F:L:c:o:", 
¶uto_İtiÚs
,

212 &
İtiÚ_šdex
);

214 ià(
İtiÚ
 == -1) {

218 
İtiÚ
) {

222 
İtiÚs
->
şoogf
 = 
	`©oi
(
İrg
);

225 
İtiÚs
->
şoogl
 = 
	`©oi
(
İrg
);

228 
İtiÚs
->
b“
 = 1;

231 
İtiÚs
->
codeg’_cÚ‹xt
 = 
	`©oi
(
İrg
);

234 
İtiÚs
->
cÛff_bound
 = 
	`©oi
(
İrg
);

235 ià(
İtiÚs
->
cÛff_bound
 <= 0) {

236 
	`´štf
("ERROR: coeff-bound should be‡t†east 1\n");

243 
İtiÚs
->
á
 = 
	`©oi
(
İrg
);

248 
	`u§ge_mes§ge
();

254 
İtiÚs
->
É
 = 
	`©oi
(
İrg
);

261 
İtiÚs
->
out_fe
 = 
	`¡rdup
(
İrg
);

264 
İtiÚs
->
fÜû·¿Î–
 = 
	`©oi
(
İrg
);

267 
İtiÚs
->
s’t
 = 1;

272 
İtiÚs
->
uçùÜ
 = 
	`©oi
(
İrg
);

275 
	`´štf
("PLUTO v”siÚ % - AÀautom©iø·¿Î–iz”‡nd†oÿl™y o±imiz”\n\
 (Cè2007--2015 Uday BÚdhuguÏ\n\
 i ä“ soáw¬e; s“hsourû fÜ cİyšg cÚd™iÚs. Th”i NO\n\
;‚Ùƒv’ fÜ MERCHANTABILITY o¸FITNESS FOR A PARTICULAR PURPOSE.\n\n", 
PLUTO_VERSION
);

279 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

282 
	`u§ge_mes§ge
();

283 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

288 ià(
İtšd
 <ğ
¬gc
-1) {

289 
¤cFeName
 = 
	`®loÿ
(
	`¡¾’
(
¬gv
[
İtšd
])+1);

290 
	`¡rıy
(
¤cFeName
, 
¬gv
[
İtšd
]);

293 
	`u§ge_mes§ge
();

294 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

299 ià(
İtiÚs
->
i¦d•
 && o±iÚs->
ÿndld•
) {

300 
	`´štf
("[pluto] ERROR: only one of isldep‡nd candldep should be specified)\n");

301 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

302 
	`u§ge_mes§ge
();

307 ià(!
İtiÚs
->
i¦d•
 && !İtiÚs->
ÿndld•
) {

308 
İtiÚs
->
i¦d•
 = 1;

311 ià(
İtiÚs
->
Ï¡wr™”
 && o±iÚs->
ÿndld•
) {

312 
	`´štf
("[pluto] ERROR: --lastwriter is only supported with --isldep\n");

313 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

314 
	`u§ge_mes§ge
();

318 ià(
İtiÚs
->
Ï¡wr™”
 && 
nŞa¡wr™”
) {

319 
	`´štf
("[pluto] WARNING: both --lastwriter, --nolastwriter‡re on\n");

320 
	`´štf
("[pluto] disabling --lastwriter\n");

321 
İtiÚs
->
Ï¡wr™”
 = 0;

324 ià(
İtiÚs
->
id’t™y
 == 1) {

325 
İtiÚs
->
·¹lbte
 = 0;

326 
İtiÚs
->
lbte
 = 0;

329 ià(
İtiÚs
->
·¹lbte
 =ğ1 && o±iÚs->
lbte
 == 0) {

330 
İtiÚs
->
lbte
 = 1;

333 ià(
İtiÚs
->
lbte
 =ğ1 && o±iÚs->
te
 == 0) {

334 
İtiÚs
->
te
 = 1;

337 ià(
İtiÚs
->
muÉ¬
 =ğ1 && o±iÚs->
·¿Î–
 == 0) {

338 
	`årštf
(
¡dout
, "Warning: multipar‚eeds…arallelo be on;urning on…arallel\n");

339 
İtiÚs
->
·¿Î–
 = 1;

342 ià(
İtiÚs
->
muÉ¬
 =ğ1 && o±iÚs->
·¿Î–
 == 0) {

343 
	`årštf
(
¡dout
, "Warning: multipar‚eeds…arallelo be on;urning on…arallel\n");

344 
İtiÚs
->
·¿Î–
 = 1;

349 
PlutoProg
 *
´og
 = 
NULL
;

351 
o¦_scİ_p
 
scİ
 = 
NULL
;

352 *
œrİtiÚ
 = 
NULL
;

355 if(!
	`¡rcmp
(
¤cFeName
, "stdin")){

356 
¤c_å
 = 
¡dš
;

357 
o¦_š‹rçû_p
 
»gi¡ry
 = 
	`o¦_š‹rçû_g‘_deçuÉ_»gi¡ry
();

358 
t_¡¬t
 = 
	`¹şock
();

359 
scİ
 = 
	`o¦_scİ_´—d
(
¤c_å
, 
»gi¡ry
, 
PLUTO_OSL_PRECISION
);

360 
t_d
 = 
	`¹şock
(è- 
t_¡¬t
;

363 
¤c_å
 = 
	`fİ’
(
¤cFeName
, "r");

365 ià(!
¤c_å
) {

366 
	`årštf
(
¡d”r
, "¶uto:ƒ¼Ü o³nšg sourû fe: '%s'\n", 
¤cFeName
);

367 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

371 
şª_İtiÚs_p
 
şªO±iÚs
 = 
	`şª_İtiÚs_m®loc
();

373 ià(
İtiÚs
->
»adscİ
){

374 
o¦_š‹rçû_p
 
»gi¡ry
 = 
	`o¦_š‹rçû_g‘_deçuÉ_»gi¡ry
();

375 
t_¡¬t
 = 
	`¹şock
();

376 
scİ
 = 
	`o¦_scİ_´—d
(
¤c_å
, 
»gi¡ry
, 
PLUTO_OSL_PRECISION
);

377 
t_d
 = 
	`¹şock
(è- 
t_¡¬t
;

379 
t_¡¬t
 = 
	`¹şock
();

380 
scİ
 = 
	`şª_scİ_exŒaù
(
¤c_å
, 
şªO±iÚs
);

381 
t_d
 = 
	`¹şock
(è- 
t_¡¬t
;

384 ià(!
scİ
 || !scİ->
¡©em’t
) {

385 
	`årštf
(
¡d”r
, "Errorƒxtracting…olyhedra from source file: \'%s'\n",

386 
¤cFeName
);

387 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

390 
FILE
 *
¤cå
 = 
	`fİ’
(".srcfilename", "w");

391 ià(
¤cå
) {

392 
	`årštf
(
¤cå
, "%s\n", 
¤cFeName
);

393 
	`fşo£
(
¤cå
);

396 
	`şª_İtiÚs_ä“
(
şªO±iÚs
);

402 
´og
 = 
	`scİ_to_¶uto_´og
(
scİ
, 
İtiÚs
);

405 
o¦_œ»guÏr_p
 
œ»g_ext
 = 
NULL
;

406 
œ»g_ext
 = 
	`o¦_g’”ic_lookup
(
scİ
->
ex‹nsiÚ
, 
OSL_URI_IRREGULAR
);

407 if(
œ»g_ext
!=
NULL
)

408 
œrİtiÚ
 = 
	`o¦_œ»guÏr_¥ršt
(
œ»g_ext
);

409 
	`o¦_œ»guÏr_ä“
(
œ»g_ext
);

411 
	`IF_MORE_DEBUG
(
	`¶uto_´og_´št
(
¡dout
, 
´og
));

413 
dim_sum
=0;

414 
i
=0; i<
´og
->
n¡mts
; i++) {

415 
dim_sum
 +ğ
´og
->
¡mts
[
i
]->
dim
;

419 ià(!
İtiÚs
->
s’t
) {

420 
	`årštf
(
¡dout
, "[¶uto] Numb” oà¡©em’ts: %d\n", 
´og
->
n¡mts
);

421 
	`årštf
(
¡dout
, "[¶uto] TÙ®‚umb” oàloİs: %d\n", 
dim_sum
);

422 
	`årštf
(
¡dout
, "[¶uto] Numb” oàd•s: %d\n", 
´og
->
nd•s
);

423 
	`årštf
(
¡dout
, "[¶uto] Maximum domaš dim’siÚ®™y: %d\n", 
´og
->
nv¬
);

424 
	`årštf
(
¡dout
, "[¶uto] Numb” oà·¿m‘”s: %d\n", 
´og
->
Å¬
);

427 ià(
İtiÚs
->
iss
) {

441 
	`¶uto_iss_d•
(
´og
);

444 
t_¡¬t
 = 
	`¹şock
();

446 ià(!
İtiÚs
->
id’t™y
) {

447 
	`¶uto_auto_ŒªsfÜm
(
´og
);

449 
t_t
 = 
	`¹şock
(è- 
t_¡¬t
;

451 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

452 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

454 ià(!
İtiÚs
->
s’t
) {

455 
	`årštf
(
¡dout
, "[pluto] Affineransformations [<iter coeff's> <param> <const>]\n\n");

457 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

461 ià(
İtiÚs
->
te
) {

462 
	`¶uto_te
(
´og
, 
NULL
);

464 ià(
İtiÚs
->
šŒ©eİt
) {

465 
	`¶uto_šŒa_te_İtimize
(
´og
, 0);

469 ià(
İtiÚs
->
·¿Î–
 && !İtiÚs->
te
 && !İtiÚs->
id’t™y
) {

472 
nbªds
;

473 
Bªd
 **
bªds
;

474 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

475 
boŞ
 
»tv®
 = 
	`¶uto_ü—‹_te_scheduË
(
´og
, 
bªds
, 
nbªds
);

476 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

480 ià(
»tv®
) {

481 
	`´štf
("[pluto] WARNING:…ipelined…arallelismƒxists‡nd --tile is‚ot used.\n");

482 
	`´štf
("use --tile for better…arallelization \n");

483 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "[pluto] After skewing:\n"););

484 
	`IF_DEBUG
(
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
););

489 ià(
İtiÚs
->
uÄŞl
 || o±iÚs->
pŞyuÄŞl
) {

492 
FILE
 *
·¿msFP
 = 
	`fİ’
(".params", "w");

493 ià(
·¿msFP
) {

494 
i
;

495 
i
=0; i<
´og
->
Å¬
; i++) {

496 
	`årštf
(
·¿msFP
, "%s\n", 
´og
->
·¿ms
[
i
]);

498 
	`fşo£
(
·¿msFP
);

500 
	`¶uto_d‘eù_m¬k_uÄŞÏbË_loİs
(
´og
);

503 ià(
İtiÚs
->
pŞyuÄŞl
) {

505 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

506 ià(
´og
->
hPrİs
[
i
].
uÄŞl
) {

507 
	`uÄŞl_phis
(
´og
, 
i
, 
İtiÚs
->
uçùÜ
);

512 if(!
	`¡rcmp
(
¤cFeName
, "stdin")){

514 
	`¶uto_pİuÏ‹_scİ
(
scİ
, 
´og
, 
İtiÚs
);

515 
	`o¦_scİ_´št
(
¡dout
, 
scİ
);

522 
	`g’_uÄŞl_fe
(
´og
);

524 *
outFeName
;

525 *
şoogFeName
;

526 ià(
İtiÚs
->
out_fe
 =ğ
NULL
) {

528 *
ba£c
, *
bÇme
;

529 
ba£c
 = 
	`¡rdup
(
¤cFeName
);

530 
bÇme
 = 
	`ba£Çme
(
ba£c
);

533 
outFeName
 = 
	`®loÿ
(
	`¡¾’
(
bÇme
)+strlen(".pluto.c")+1);

534 
şoogFeName
 = 
	`®loÿ
(
	`¡¾’
(
bÇme
)+strlen(".pluto.cloog")+1);

536 ià(
	`¡¾’
(
bÇme
è>ğ2 && !
	`¡rcmp
(bname+strlen(bname)-2, ".c")) {

537 
	`¡ºıy
(
outFeName
, 
bÇme
, 
	`¡¾’
(bname)-2);

538 
	`¡ºıy
(
şoogFeName
, 
bÇme
, 
	`¡¾’
(bname)-2);

539 
outFeName
[
	`¡¾’
(
bÇme
)-2] = '\0';

540 
şoogFeName
[
	`¡¾’
(
bÇme
)-2] = '\0';

542 
	`¡rıy
(
outFeName
, 
bÇme
);

543 
	`¡rıy
(
şoogFeName
, 
bÇme
);

545 
	`¡rÿt
(
outFeName
, ".pluto.c");

546 
	`ä“
(
ba£c
);

548 
outFeName
 = 
İtiÚs
->
out_fe
;

549 
şoogFeName
 = 
	`®loÿ
(
	`¡¾’
(
İtiÚs
->
out_fe
)+1);

550 
	`¡rıy
(
şoogFeName
, 
İtiÚs
->
out_fe
);

553 
	`¡rÿt
(
şoogFeName
, ".pluto.cloog");

555 
şoogå
 = 
	`fİ’
(
şoogFeName
, "w+");

556 ià(!
şoogå
) {

557 
	`årštf
(
¡d”r
, "[Pluto] Cª'ˆİ’ .şoog fe: '%s'\n", 
şoogFeName
);

558 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

559 
	`¶uto_´og_ä“
(
´og
);

563 
outå
 = 
	`fİ’
(
outFeName
, "w");

564 ià(!
outå
) {

565 
	`årštf
(
¡d”r
, "[Pluto] Cª'ˆİ’ f'%s' fÜ wr™šg\n", 
outFeName
);

566 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

567 
	`¶uto_´og_ä“
(
´og
);

568 
	`fşo£
(
şoogå
);

573 
	`¶uto_g’_şoog_fe
(
şoogå
, 
´og
);

575 ià(
œrİtiÚ
 !ğ
NULL
) {

576 
	`årštf
(
şoogå
, "<œ»guÏr>\n%s\n</œ»guÏr>\n\n", 
œrİtiÚ
);

577 
	`ä“
(
œrİtiÚ
);

580 
	`»wšd
(
şoogå
);

584 
t_¡¬t
 = 
	`¹şock
();

585 
	`¶uto_muÉicÜe_codeg’
(
şoogå
, 
outå
, 
´og
);

586 
t_c
 = 
	`¹şock
(è- 
t_¡¬t
;

588 
FILE
 *
tmpå
 = 
	`fİ’
(".outfilename", "w");

589 ià(
tmpå
) {

590 
	`årštf
(
tmpå
, "%s\n", 
outFeName
);

591 
	`fşo£
(
tmpå
);

592 
	`PLUTO_MESSAGE
(
	`´štf
Ğ"[Pluto] Ouuˆwr™‹ÀtØ%s\n", 
outFeName
););

595 
	`fşo£
(
şoogå
);

596 
	`fşo£
(
outå
);

601 
t_®l
 = 
	`¹şock
(è- 
t_¡¬t_®l
;

603 ià(
İtiÚs
->
time
 && !İtiÚs->
s’t
) {

604 
	`´štf
("\n[¶uto] Timšg sti¡ics\n[¶uto] SCoPƒxŒaùiÚ + d•’d’û‡Çlysi time: %0.6lfs\n", 
t_d
);

605 
	`´štf
("[¶uto] Auto-ŒªsfÜm©iÚime: %0.6lfs\n", 
t_t
);

606 
	`´štf
("[¶uto] Codg’”©iÚime: %0.6lfs\n", 
t_c
);

607 
	`´štf
("[¶uto] Oth”/Misøtime: %0.6lfs\n", 
t_®l
-
t_c
-
t_t
-
t_d
);

608 
	`´štf
("[¶uto] TÙ®ime: %0.6lfs\n", 
t_®l
);

609 
	`´štf
("[¶uto] AÎimes: %0.6là%0.6là%.6là%.6lf\n", 
t_d
, 
t_t
, 
t_c
,

610 
t_®l
-
t_c
-
t_t
-
t_d
);

613 
	`¶uto_´og_ä“
(
´og
);

614 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

616 
	`o¦_scİ_ä“
(
scİ
);

619 
	}
}

	@math_support.c

1 
	~<omp.h
>

23 
	~<¡dio.h
>

24 
	~<¡dlib.h
>

25 
	~<m©h.h
>

26 
	~<as£¹.h
>

27 
	~<¡ršg.h
>

29 
	~"m©h_suµÜt.h
"

30 
	~"cÚ¡¿šts.h
"

32 
	~"i¦/v®.h
"

33 
	~"i¦/v®_gmp.h
"

34 
	~"i¦/d•»ÿ‹d/št.h
"

42 
PlutoM©rix
 *
	$¶uto_m©rix_®loc
(
®loc_Äows
, 
®loc_ncŞs
)

44 
i
;

45 
PlutoM©rix
 *
m©
;

47 
	`as£¹
(
®loc_Äows
 >= 0);

48 
	`as£¹
(
®loc_ncŞs
 >= 0);

50 
m©
 = (
PlutoM©rix
 *è
	`m®loc
((PlutoMatrix));

52 
m©
->
v®
 = (
št64
 **è
	`m®loc
(
	`PLMAX
(
®loc_Äows
,1)*(int64 *));

54 
m©
->
®loc_Äows
 = 
	`PLMAX
(alloc_nrows,1);

55 
m©
->
®loc_ncŞs
 = 
	`PLMAX
(alloc_ncols,1);

57 
i
=0; i<
m©
->
®loc_Äows
; i++) {

58 
m©
->
v®
[
i
] = (
št64
 *è
	`m®loc
(m©->
®loc_ncŞs
*(int64));

61 
m©
->
Äows
 = 
®loc_Äows
;

62 
m©
->
ncŞs
 = 
®loc_ncŞs
;

64  
m©
;

65 
	}
}

67 
	$¶uto_m©rix_ä“
(
PlutoM©rix
 *
m©
)

69 
i
;

71 ià(
m©
) {

72 
i
=0; i<
m©
->
®loc_Äows
; i++) {

73 
	`ä“
(
m©
->
v®
[
i
]);

76 
	`ä“
(
m©
->
v®
);

77 
	`ä“
(
m©
);

79 
	}
}

83 
	$¶uto_m©rix_»move_cŞ
(
PlutoM©rix
 *
m©
, 
pos
)

85 
i
, 
j
;

87 
	`as£¹
(
pos
 <ğ
m©
->
ncŞs
-1);

89 
j
=
pos
; j<
m©
->
ncŞs
-1; j++) {

90 
i
=0; i<
m©
->
Äows
; i++) {

91 
m©
->
v®
[
i
][
j
] = mat->val[i][j+1];

94 
m©
->
ncŞs
--;

95 
	}
}

98 
	$¶uto_m©rix_»move_row
(
PlutoM©rix
 *
m©
, 
pos
)

100 
i
, 
j
;

102 
	`as£¹
(
pos
 <ğ
m©
->
Äows
-1);

104 
i
=
pos
; i<
m©
->
Äows
-1; i++) {

105 
j
=0; j<
m©
->
ncŞs
; j++) {

106 
m©
->
v®
[
i
][
j
] = mat->val[i+1][j];

109 
m©
->
Äows
--;

110 
	}
}

114 
	$¶uto_m©rix_»size
(
PlutoM©rix
 *
m©
, 
Äows
, 
ncŞs
)

116 
i
;

118 
®loc_Äows
 = 
	`PLMAX
(
Äows
,
m©
->alloc_nrows);

119 
®loc_ncŞs
 = 
	`PLMAX
(
ncŞs
,
m©
->alloc_ncols);

121 
m©
->
v®
 = (
št64
 **è
	`»®loc
(m©->v®, 
®loc_Äows
*(int64 *));

123 
i
=
m©
->
®loc_Äows
; i<alloc_nrows; i++) {

124 
m©
->
v®
[
i
] = 
NULL
;

127 
i
=0; i<
®loc_Äows
; i++) {

128 
m©
->
v®
[
i
] = (
št64
 *è
	`»®loc
(m©->v®[i], 
®loc_ncŞs
*(int64));

131 
m©
->
®loc_Äows
 =‡lloc_nrows;

132 
m©
->
®loc_ncŞs
 =‡lloc_ncols;

134 
m©
->
Äows
 =‚rows;

135 
m©
->
ncŞs
 =‚cols;

136 
	}
}

141 
	$¶uto_m©rix_add_cŞ
(
PlutoM©rix
 *
m©
, 
pos
)

143 
i
, 
j
;

145 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
m©
->
ncŞs
);

147 ià(
m©
->
ncŞs
 =ğm©->
®loc_ncŞs
) {

148 
	`¶uto_m©rix_»size
(
m©
, m©->
Äows
, m©->
ncŞs
+1);

150 
m©
->
ncŞs
++;

153 
j
=
m©
->
ncŞs
-2; j>=
pos
; j--) {

154 
i
=0; i<
m©
->
Äows
; i++) {

155 
m©
->
v®
[
i
][
j
+1] = mat->val[i][j];

160 
i
=0; i<
m©
->
Äows
; i++) {

161 
m©
->
v®
[
i
][
pos
] = 0;

163 
	}
}

166 
	$¶uto_m©rix_Ãg©e_row
(
PlutoM©rix
 *
m©
, 
pos
)

168 
j
;

170 
j
=0; j<
m©
->
ncŞs
; j++) {

171 
m©
->
v®
[
pos
][
j
] = -mat->val[pos][j];

173 
	}
}

175 
	$¶uto_m©rix_Ãg©e
(
PlutoM©rix
 *
m©
)

177 
r
;

178 
r
=0;„<
m©
->
Äows
;„++) {

179 
	`¶uto_m©rix_Ãg©e_row
(
m©
, 
r
);

181 
	}
}

184 
	$¶uto_m©rix_add
(
PlutoM©rix
 *
m©1
, cÚ¡ PlutoM©rix *
m©2
)

186 
i
, 
j
;

188 
	`as£¹
(
m©1
->
ncŞs
 =ğ
m©2
->ncols);

190 
	`¶uto_m©rix_»size
(
m©1
, m©1->
Äows
+
m©2
->Äows, m©1->
ncŞs
);

192 
i
=
m©1
->
Äows
-
m©2
->nrows; i<mat1->nrows; i++) {

193 
j
=0; j<
m©1
->
ncŞs
; j++) {

194 
m©1
->
v®
[
i
][
j
] = 
m©2
->v®[i-(m©1->
Äows
-mat2->nrows)][j];

197 
	}
}

202 
	$¶uto_m©rix_add_row
(
PlutoM©rix
 *
m©
, 
pos
)

204 
i
, 
j
;

206 
	`as£¹
(
m©
 !ğ
NULL
);

207 
	`as£¹
(
pos
 <ğ
m©
->
Äows
);

209 ià(
m©
->
Äows
 =ğm©->
®loc_Äows
) {

210 
	`¶uto_m©rix_»size
(
m©
, m©->
Äows
+1, m©->
ncŞs
);

212 
m©
->
Äows
++;

215 
i
=
m©
->
Äows
-2; i>=
pos
; i--) {

216 
j
=0; j<
m©
->
ncŞs
; j++) {

217 
m©
->
v®
[
i
+1][
j
] = mat->val[i][j];

221 
j
=0; j<
m©
->
ncŞs
; j++) {

222 
m©
->
v®
[
pos
][
j
] = 0;

225 
	}
}

227 
	$¶uto_m©rix_š‹rchªge_rows
(
PlutoM©rix
 *
m©
, 
r1
, 
r2
)

229 
tmp
, 
j
;

231 
j
=0; j<
m©
->
ncŞs
; j++) {

232 
tmp
 = 
m©
->
v®
[
r1
][
j
];

233 
m©
->
v®
[
r1
][
j
] = m©->v®[
r2
][j];

234 
m©
->
v®
[
r2
][
j
] = 
tmp
;

236 
	}
}

239 
	$¶uto_m©rix_š‹rchªge_cŞs
(
PlutoM©rix
 *
m©
, 
c1
, 
c2
)

241 
tmp
, 
i
;

243 
i
=0; i<
m©
->
Äows
; i++) {

244 
tmp
 = 
m©
->
v®
[
i
][
c1
];

245 
m©
->
v®
[
i
][
c1
] = m©->v®[i][
c2
];

246 
m©
->
v®
[
i
][
c2
] = 
tmp
;

248 
	}
}

251 
	$¶uto_m©rix_move_cŞ
(
PlutoM©rix
 *
m©
, 
c1
, 
c2
)

253 
j
;

255 ià(
c1
 < 
c2
) {

256 
j
=
c1
; j<
c2
; j++) {

257 
	`¶uto_m©rix_š‹rchªge_cŞs
(
m©
, 
j
, j+1);

260 
j
=
c1
; j>
c2
; j--) {

261 
	`¶uto_m©rix_š‹rchªge_cŞs
(
m©
, 
j
, j-1);

264 
	}
}

269 
PlutoM©rix
 *
	$¶uto_m©rix_dup
(cÚ¡ 
PlutoM©rix
 *
¤c
)

271 
i
, 
j
;

273 
	`as£¹
(
¤c
 !ğ
NULL
);

275 
PlutoM©rix
 *
dup
 = 
	`¶uto_m©rix_®loc
(
¤c
->
®loc_Äows
, src->
®loc_ncŞs
);

277 
i
=0; i<
¤c
->
Äows
; i++) {

278 
j
=0; j<
¤c
->
ncŞs
; j++) {

279 
dup
->
v®
[
i
][
j
] = 
¤c
->val[i][j];

283 
dup
->
Äows
 = 
¤c
->nrows;

284 
dup
->
ncŞs
 = 
¤c
->ncols;

286  
dup
;

287 
	}
}

290 
	$¶uto_m©rix_£t
(
PlutoM©rix
 *
m©
, 
v®
)

292 
i
, 
j
;

294 
i
=0; i<
m©
->
Äows
; i++) {

295 
j
=0; j<
m©
->
ncŞs
; j++) {

296 
m©
->
v®
[
i
][
j
] = val;

299 
	}
}

302 
PlutoM©rix
 *
	$¶uto_m©rix_id’t™y
(
size
)

304 
i
;

306 
PlutoM©rix
 *
m©
 = 
	`¶uto_m©rix_®loc
(
size
, size);

307 
	`¶uto_m©rix_£t
(
m©
, 0);

309 
i
=0; i<
size
; i++) {

310 
m©
->
v®
[
i
][i] = 1;

313  
m©
;

314 
	}
}

318 
	$¶uto_m©rix_z”o_row
(
PlutoM©rix
 *
m©
, 
pos
)

320 
j
;

322 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
m©
->
Äows
-1);

324 
j
=0; j<
m©
->
ncŞs
; j++) {

325 
m©
->
v®
[
pos
][
j
] = 0;

327 
	}
}

330 
	$¶uto_m©rix_z”o_cŞ
(
PlutoM©rix
 *
m©
, 
pos
)

332 
i
;

334 
	`as£¹
(
pos
 >ğ0 &&…o <ğ
m©
->
ncŞs
-1);

336 
i
=0; i<
m©
->
Äows
; i++) {

337 
m©
->
v®
[
i
][
pos
] = 0;

339 
	}
}

342 
	$¶uto_m©rix_»ad
(
FILE
 *
å
, cÚ¡ 
PlutoM©rix
 *
m©
)

344 
i
, 
j
;

346 
i
=0; i<
m©
->
Äows
; i++)

347 
j
=0; j<
m©
->
ncŞs
; j++)

348 
	`fsÿnf
(
å
, "%Îd", &
m©
->
v®
[
i
][
j
]);

349 
	}
}

351 
PlutoM©rix
 *
	$¶uto_m©rix_šput
(
FILE
 *
å
)

353 
i
, 
j
, 
Äows
, 
ncŞs
;

354 
	`fsÿnf
(
å
, "%d %d", &
Äows
, &
ncŞs
);

356 
PlutoM©rix
 *
m©
 = 
	`¶uto_m©rix_®loc
(
Äows
, 
ncŞs
);

358 
i
=0; i<
m©
->
Äows
; i++)

359 
j
=0; j<
m©
->
ncŞs
; j++)

360 
	`fsÿnf
(
å
, "%Îd", &
m©
->
v®
[
i
][
j
]);

362  
m©
;

363 
	}
}

368 
	$¶uto_m©rix_´št
(
FILE
 *
å
, cÚ¡ 
PlutoM©rix
 *
m©
)

370 
i
, 
j
;

372 
	`årštf
(
å
, "%d %d\n", 
m©
->
Äows
, m©->
ncŞs
);

374 
i
=0; i<
m©
->
Äows
; i++) {

375 
j
=0; j<
m©
->
ncŞs
; j++) {

376 
	`årštf
(
å
, "%s%Îd ", 
m©
->
v®
[
i
][
j
]>=0? " ":"", mat->val[i][j]);

378 
	`årštf
(
å
, "\n");

381 
	}
}

385 
	$¶uto_m©rix_nÜm®ize_row
(
PlutoM©rix
 *
m©
, 
pos
)

387 
i
, 
j
, 
k
;

390 
i
=0; i<
m©
->
Äows
; i++) {

391 ià(
m©
->
v®
[
i
][0] == 0) ;

392 
rowgcd
 = 
	`Îabs
(
m©
->
v®
[
i
][0]);

393 
j
=1; j<
m©
->
ncŞs
; j++) {

394 ià(
m©
->
v®
[
i
][
j
] == 0) ;

395 
rowgcd
 = 
	`gcd
Ôowgcd,
	`Îabs
(
m©
->
v®
[
i
][
j
]));

397 ià(
i
 =ğ
m©
->
Äows
) {

398 ià(
rowgcd
 > 1) {

399 
k
=0; k<
m©
->
ncŞs
; k++) {

400 
m©
->
v®
[
i
][
k
] /ğ
rowgcd
;

405 
	}
}

409 
	$gaussŸn_–imš©e_v¬
(
PlutoM©rix
 *
m©
, 
pos
)

411 
r
, 
r2
, 
c
;

412 
çùÜ1
, 
çùÜ2
;

418 
r
=0;„<
m©
->
Äows
;„++) {

419 ià(
m©
->
v®
[
r
][
pos
] != 0) {

420 
r2
=0;„2<
m©
->
Äows
;„2++) {

421 ià(
r2
 =ğ
r
) ;

422 ià(
m©
->
v®
[
r2
][
pos
] != 0) {

423 
çùÜ1
 = 
	`lcm
(
	`Îabs
(
m©
->
v®
[
r
][
pos
]),Îabs(m©->v®[
r2
][pos]))/mat->val[r2][pos];

424 
çùÜ2
 = 
	`lcm
(
	`Îabs
(
m©
->
v®
[
r
][
pos
]),Îabs(m©->v®[
r2
][pos]))/mat->val[r][pos];

425 
c
=0; c<
m©
->
ncŞs
; c++) {

429 
m©
->
v®
[
r2
][
c
] = m©->v®[r2][c]*
çùÜ1


430 - 
m©
->
v®
[
r
][
c
]*
çùÜ2
;

434 
	`¶uto_m©rix_»move_row
(
m©
, 
r
);

441 
	`¶uto_m©rix_»move_cŞ
(
m©
, 
pos
);

442 
	}
}

446 
	$gaussŸn_–imš©e
(
PlutoM©rix
 *
m©
, 
¡¬t
, 
num_–im
)

448 
i
;

450 
i
=0; i<
num_–im
; i++) {

451 
	`gaussŸn_–imš©e_v¬
(
m©
, 
¡¬t
);

453 
	}
}

456 
šlše
 
št64
 
	$lcm
(
št64
 
a
, iÁ64 
b
)

458 ià(
a
*
b
 == 0)  0;

459  (
a
*
b
)/
	`gcd
(a,b);

460 
	}
}

464 
šlše
 
št64
 
	$gcd
(
št64
 
a
, iÁ64 
b
)

466 
a
 = 
	`Îabs
(a);

467 
b
 = 
	`Îabs
(b);

470 ià(
a
*
b
 ==0) ‡+b;

472 ià(
a
 =ğ
b
) ‡;

474  ((
a
 > 
b
)? 
	`gcd
(a%b,b): gcd(a,b%a));

475 
	}
}

478 
št64
 *
	$mš_Ëxiÿl
(
št64
 *
a
, iÁ64 *
b
, iÁ64 
num
)

480 
i
;

482 
i
=0; i<
num
; i++) {

483 ià(
a
[
i
] > 
b
[i])  b;

484 ià(
a
[
i
] < 
b
[i]) ‡;

488  
a
;

489 
	}
}

492 *
	$cÚÿt
(cÚ¡ *
´efix
, cÚ¡ *
suffix
)

494 *
cÚÿt
 = 
	`m®loc
(
	`¡¾’
(
´efix
è+ sŒËn(
suffix
) + 1);

495 
	`¥rštf
(
cÚÿt
, "%s%s", 
´efix
, 
suffix
);

496  
cÚÿt
;

497 
	}
}

500 
PlutoM©rix
 *
	$¶uto_m©rix_´oduù
(cÚ¡ 
PlutoM©rix
 *
m©1
,

501 cÚ¡ 
PlutoM©rix
 *
m©2
)

503 
	`as£¹
(
m©1
->
ncŞs
 =ğ
m©2
->
Äows
);

505 
i
, 
j
, 
k
;

507 
PlutoM©rix
 *
m©3
 = 
	`¶uto_m©rix_®loc
(
m©1
->
Äows
, 
m©2
->
ncŞs
);

509 
i
=0; i<
m©1
->
Äows
; i++) {

510 
j
=0; j<
m©2
->
ncŞs
; j++) {

511 
m©3
->
v®
[
i
][
j
] = 0;

512 
k
=0; k<
m©1
->
ncŞs
; k++) {

513 
m©3
->
v®
[
i
][
j
] +ğ
m©1
->v®[i][
k
]*
m©2
->val[k][j];

517  
m©3
;

518 
	}
}

521 
PlutoM©rix
 *
	$¶uto_m©rix_to_row_ech–Ú
(
PlutoM©rix
 *
m©
)

523 
i
, 
j
, 
k
, 
r
, 
_lcm
, 
çùÜ1
;

525 
r
=0;

526 
i
=0; i< 
	`PLMIN
(
m©
->
ncŞs
,m©->
Äows
); i++) {

528 ià(
m©
->
v®
[
r
][
i
] == 0) {

529 
k
=
r
+1; k<
m©
->
Äows
; k++) {

530 ià(
m©
->
v®
[
k
][
i
] != 0) ;

532 ià(
k
<
m©
->
Äows
) {

533 
	`¶uto_m©rix_š‹rchªge_rows
(
m©
, 
r
, 
k
);

536 ià(
m©
->
v®
[
r
][
i
] != 0) {

537 
k
=
r
+1; k<
m©
->
Äows
; k++) {

538 ià(
m©
->
v®
[
k
][
i
] == 0) ;

539 
_lcm
 = 
	`lcm
(
m©
->
v®
[
k
][
i
], m©->v®[
r
][i]);

540 
çùÜ1
 = 
_lcm
/
m©
->
v®
[
k
][
i
];

541 
j
=
i
; j<
m©
->
ncŞs
; j++) {

542 
m©
->
v®
[
k
][
j
] = m©->v®[k][j]*
çùÜ1


543 - 
m©
->
v®
[
r
][
j
]*(
_lcm
/m©->v®[r][
i
]);

546 
r
++;

550  
m©
;

551 
	}
}

554 
	$¶uto_m©rix_g‘_¿nk
(cÚ¡ 
PlutoM©rix
 *
m©
)

556 
i
, 
j
, 
nuÎ
, 
¿nk
;

558 
PlutoM©rix
 *
»
 = 
	`¶uto_m©rix_to_row_ech–Ú
(
	`¶uto_m©rix_dup
(
m©
));

562 
nuÎ
 = 0;

563 
i
=0; i<
»
->
Äows
; i++) {

564 
sum
 = 0;

565 
j
=0; j<
»
->
ncŞs
; j++) {

566 
sum
 +ğ
	`Îabs
(
»
->
v®
[
i
][
j
]);

568 ià(
sum
==0è
nuÎ
++;

570 
¿nk
 = 
»
->
Äows
 - 
nuÎ
;

571 
	`¶uto_m©rix_ä“
(
»
);

572  
¿nk
;

573 
	}
}

576 
	$¶uto_m©rix_sw­_rows
(
PlutoM©rix
 *
m©
, 
r1
, 
r2
)

578 
št64
 
tmp
;

579 
j
;

581 
j
=0; j<
m©
->
ncŞs
; j++) {

582 
tmp
 = 
m©
->
v®
[
r2
][
j
];

583 
m©
->
v®
[
r2
][
j
] = m©->v®[
r1
][j];

584 
m©
->
v®
[
r1
][
j
] = 
tmp
;

587 
	}
}

590 
	$¶uto_m©rix_»v”£_rows
(
PlutoM©rix
 *
m©
)

592 
i
;

594 
i
=0; i<
m©
->
Äows
/2; i++) {

595 
	`¶uto_m©rix_sw­_rows
(
m©
, 
i
, m©->
Äows
-1-i);

597 
	}
}

603 
PlutoM©rix
 *
	$¶uto_m©rix_äom_i¦_m©
(
__i¦_k“p
 
i¦_m©
 *
m©
)

605 
i
, 
j
;

606 
rows
, 
cŞs
;

607 
PlutoM©rix
 *
¶uto
;

609 
rows
 = 
	`i¦_m©_rows
(
m©
);

610 
cŞs
 = 
	`i¦_m©_cŞs
(
m©
);

611 
¶uto
 = 
	`¶uto_m©rix_®loc
(
rows
, 
cŞs
);

613 
i
 = 0; i < 
rows
; ++i)

614 
j
 = 0; j < 
cŞs
; ++j) {

615 
i¦_v®
 *
v
 = 
	`i¦_m©_g‘_–em’t_v®
(
m©
, 
i
, 
j
);

616 
¶uto
->
v®
[
i
][
j
] = 
	`i¦_v®_g‘_num_si
(
v
);

617 
	`i¦_v®_ä“
(
v
);

620  
¶uto
;

621 
	}
}

629 
	$¶uto_affše_funùiÚ_´št
(
FILE
 *
å
, 
št64
 *
func
, 
ndims
, **
v¬s
)

631 *
v¬
[
ndims
];

632 
j
;

634 
j
=0; j<
ndims
; j++) {

635 ià(
v¬s
 && v¬s[
j
]) {

636 
v¬
[
j
] = 
	`¡rdup
(
v¬s
[j]);

638 
v¬
[
j
] = 
	`m®loc
(5);

639 
	`¥rštf
(
v¬
[
j
], "x%d", j+1);

643 
fœ¡
 = 0;

644 
j
=0; j<
ndims
; j++) {

645 ià(
func
[
j
] == 1) {

646 ià(
fœ¡
è
	`årštf
(
å
, "+");

647 
	`årštf
(
å
, "%s", 
v¬
[
j
]);

648 }ià(
func
[
j
] == -1) {

649 
	`årštf
(
å
, "-%s", 
v¬
[
j
]);

650 }ià(
func
[
j
] != 0) {

651 ià(
func
[
j
] > 0) {

652 
	`årštf
(
å
, "%s%Îd%s", 
fœ¡
?"+":"", 
func
[
j
], 
v¬
[j]);

654 
	`årštf
(
å
, "%Îd%s", 
func
[
j
], 
v¬
[j]);

657 ià(
func
[
j
] !ğ0è
fœ¡
 = 1;

660 ià(
func
[
ndims
] >= 1) {

661 ià(
fœ¡
è
	`årštf
(
å
, "+");

662 
	`årštf
(
å
, "%Îd", 
func
[
ndims
]);

663 }ià(
func
[
ndims
] <= -1){

664 
	`årštf
(
å
, "%Îd", 
func
[
ndims
]);

667 ià(!
fœ¡
è
	`årštf
(
å
, "0");

670 
j
=0; j<
ndims
; j++) {

671 
	`ä“
(
v¬
[
j
]);

673 
	}
}

676 *
	$¶uto_affše_funùiÚ_¥ršt
(
št64
 *
func
, 
ndims
, **
v¬s
)

678 *
v¬
[
ndims
], *
out
;

679 
j
, 
n
;

682 
n
 = 9*
ndims
 + 1 + 1;

683 
out
 = 
	`m®loc
(
n
);

684 *
out
 = '\0';

686 
j
=0; j<
ndims
; j++) {

687 ià(
v¬s
 && v¬s[
j
]) {

688 
v¬
[
j
] = 
	`¡rdup
(
v¬s
[j]);

690 
v¬
[
j
] = 
	`m®loc
(5);

691 
	`¥rštf
(
v¬
[
j
], "x%d", j+1);

695 
fœ¡
 = 0;

696 
j
=0; j<
ndims
; j++) {

697 ià(
func
[
j
] == 1) {

698 ià(
fœ¡
è
	`¡rÿt
(
out
, "+");

699 
	`¢´štf
(
out
+
	`¡¾’
(out), 5, "%s", 
v¬
[
j
]);

700 }ià(
func
[
j
] == -1) {

701 
	`¢´štf
(
out
+
	`¡¾’
(out), 6, "-%s", 
v¬
[
j
]);

702 }ià(
func
[
j
] != 0) {

703 ià(
func
[
j
] >= 1) {

704 
	`¢´štf
(
out
+
	`¡¾’
(out), 9, "%s%Îd%s", 
fœ¡
?"+":"", 
func
[
j
], 
v¬
[j]);

706 
	`¢´štf
(
out
+
	`¡¾’
(out), 8, "%Îd%s", 
func
[
j
], 
v¬
[j]);

709 ià(
func
[
j
] !ğ0è
fœ¡
 = 1;

712 ià(
func
[
ndims
] >= 1) {

713 ià(
fœ¡
è
	`¡rÿt
(
out
, "+");

714 
	`¢´štf
(
out
+
	`¡¾’
(out), 3, "%Îd", 
func
[
ndims
]);

715 }ià(
func
[
ndims
] <= -1){

716 
	`¢´štf
(
out
+
	`¡¾’
(out), 3, "%Îd", 
func
[
ndims
]);

719 ià(!
fœ¡
è
	`¡rÿt
(
out
, "0");

722 
j
=0; j<
ndims
; j++) {

723 
	`ä“
(
v¬
[
j
]);

726  
out
;

727 
	}
}

734 
	$¶uto_veùÜ_is_·¿Î–
(
PlutoM©rix
 *
m©1
, 
r1
, PlutoM©rix *
m©2
, 
r2
)

736 
num
, 
d’
, 
j
;

738 
	`as£¹
(
m©1
->
ncŞs
 =ğ
m©2
->ncols);

740 
num
 = 0;

741 
d’
 = 0;

743 
j
=0; j<
m©1
->
ncŞs
; j++) {

744 ià(
m©1
->
v®
[
r1
][
j
] =ğ0 && 
m©2
->v®[
r2
][j] == 0) ;

745 ià(
m©1
->
v®
[
r1
][
j
] !ğ0 && 
m©2
->v®[
r2
][j] == 0)  0;

746 ià(
m©1
->
v®
[
r1
][
j
] =ğ0 && 
m©2
->v®[
r2
][j] != 0)  0;

749 ià(
num
 == 0) {

751 
num
 = 
m©1
->
v®
[
r1
][
j
];

752 
d’
 = 
m©2
->
v®
[
r2
][
j
];

754 ià(
num
*
m©2
->
v®
[
r2
][
j
] !ğ
d’
*
m©1
->v®[
r1
][j])  0;

759 
	}
}

762 
	$¶uto_veùÜ_is_nÜm®
(
PlutoM©rix
 *
m©1
, 
r1
, PlutoM©rix *
m©2
, 
r2
)

764 
j
, 
dÙ
;

766 
	`as£¹
(
m©1
->
ncŞs
 =ğ
m©2
->ncols);

768 
dÙ
 = 0;

769 
j
=0; j<
m©1
->
ncŞs
; j++) {

770 
dÙ
 +ğ
m©1
->
v®
[
r1
][
j
]*
m©2
->v®[
r2
][j];

773  (
dÙ
 == 0);

774 
	}
}

780 
	$i¦_aff_to_¶uto_func
(
__i¦_ke
 
i¦_£t
 *
£t
, __i¦_k
i¦_aff
 *
aff
,

781 *
u£r
)

783 
i
, 
j
, 
Å¬
;

785 
Å¬
 = 
	`i¦_aff_dim
(
aff
, 
i¦_dim_·¿m
);

787 
PlutoM©rix
 **
m©_p
 = (PlutoM©rix **è
u£r
;

788 ià(*
m©_p
 !ğ
NULL
è
	`¶uto_m©rix_ä“
(*mat_p);

789 *
m©_p
 = 
	`¶uto_m©rix_®loc
(1, 
	`i¦_aff_dim
(
aff
, 
i¦_dim_š
è+ 
Å¬
 + 1);

790 
PlutoM©rix
 *
m©
 = *
m©_p
;

792 ià(
	`i¦_aff_dim
(
aff
, 
i¦_dim_div
) >= 1) {

793 
i¦_aff
 *
div
 = 
	`i¦_aff_g‘_div
(
aff
, 0);

794 
i¦_v®
 *
v
 = 
	`i¦_aff_g‘_d’omš©Ü_v®
(
div
);

795 
	`i¦_aff_ä“
(
div
);

796 ià(!
	`i¦_v®_is_Úe
(
v
)) {

797 
	`¶uto_m©rix_z”o_row
(
m©
, 0);

798 
	`i¦_v®_ä“
(
v
);

799 
	`i¦_£t_ä“
(
£t
);

800 
	`i¦_aff_ä“
(
aff
);

803 
	`i¦_v®_ä“
(
v
);

806 
i
=0; i<
	`i¦_aff_dim
(
aff
, 
i¦_dim_š
); i++) {

807 
i¦_v®
 *
v
 = 
	`i¦_aff_g‘_cÛffic›Á_v®
(
aff
, 
i¦_dim_š
, 
i
);

808 
m©
->
v®
[0][
i
] = 
	`i¦_v®_g‘_num_si
(
v
);

809 
	`i¦_v®_ä“
(
v
);

811 
j
=0; j<
Å¬
; 
i
++,j++) {

812 
i¦_v®
 *
v
 = 
	`i¦_aff_g‘_cÛffic›Á_v®
(
aff
, 
i¦_dim_·¿m
, 
j
);

813 
m©
->
v®
[0][
i
] = 
	`i¦_v®_g‘_num_si
(
v
);

814 
	`i¦_v®_ä“
(
v
);

816 
i¦_v®
 *
v
 = 
	`i¦_aff_g‘_cÚ¡ªt_v®
(
aff
);

817 
m©
->
v®
[0][
i
] = 
	`i¦_v®_g‘_num_si
(
v
);

818 
	`i¦_v®_ä“
(
v
);

821 
	`i¦_£t_ä“
(
£t
);

822 
	`i¦_aff_ä“
(
aff
);

825 
	}
}

828 
	$mpz_£t_¦l
(
mpz_t
 
n
, 
¦l
)

831 
	`mpz_£t_si
(
n
, ()(
¦l
 >> 32));

833 
	`mpz_mul_2exp
(
n
,‚, 32 );

835 
	`mpz_add_ui
(
n
,‚, ()
¦l
);

836 
	}
}

839 
	$mpz_£t_uÎ
(
mpz_t
 
n
, 
uÎ
)

842 
	`mpz_£t_ui
(
n
, ()(
uÎ
 >> 32));

844 
	`mpz_mul_2exp
(
n
,‚, 32);

846 
	`mpz_add_ui
(
n
,‚, ()
uÎ
);

847 
	}
}

851 
	$mpz_f™s_Î
(
mpz_t
 
z
)

853 
sign
;

855 
mpz_t
 
tmp
;

856 
	`mpz_š™
(
tmp
);

858 ià(
	`mpz_sgn
(
z
) > 0) {

859 
	`mpz_tdiv_q_2exp
(
tmp
, 
z
, 63);

861 
	`mpz_add_ui
(
tmp
, 
z
, 1);

862 
	`mpz_tdiv_q_2exp
(
tmp
,mp, 63);

864 
sign
 = 
	`mpz_sgn
(
tmp
);

865 
	`mpz_ş—r
(
tmp
);

866  
sign
 == 0;

868 
	}
}

874 
	$i¦_v®_g‘_num_Î
(
__i¦_k“p
 
i¦_v®
 *
v
)

876 
lo
, 
hi
;

877 
mpz_t
 
z
, 
tmp
;

878 
sign
;

879 
»suÉ
;

881 
	`mpz_š™
(
tmp
);

886 ià(!
v
)

888 ià(!
	`i¦_v®_is_¿t
(
v
))

889 
	`i¦_d›
(
	`i¦_v®_g‘_ùx
(
v
), 
i¦_”rÜ_šv®id
,

892 
	`mpz_š™
(
z
);

893 
	`i¦_v®_g‘_num_gmp
(
v
, 
z
);

895 ià(!
	`mpz_f™s_Î
(
z
)) {

898 
	`´štf
("[pluto_math_support]‚umeratoroo†arge;„eturning†argest/smallest signed 64-bit‚umber\n");

899 
sign
 = 
	`mpz_sgn
(
z
);

900 
	`mpz_ş—r
(
z
);

904  
sign
? () ((1ULL<<63) -1): () ((1ULL << 63));

908 
	`mpz_mod_2exp
(
tmp
, 
z
, 64);

909 
	`mpz_ş—r
(
z
);

912 
lo
 = 
	`mpz_g‘_ui
(
tmp
);

915 
	`mpz_div_2exp
(
tmp
,mp, 32);

918 
hi
 = 
	`mpz_g‘_ui
(
tmp
);

920 
	`mpz_ş—r
(
tmp
);

921 
»suÉ
 = ()Ğ((()
hi
è<< 32è+ 
lo
);

925  
»suÉ
;

926 
	}
}

	@math_support.h

20 #iâdeà
_MATH_SUPPORT_H


21 
	#_MATH_SUPPORT_H


	)

23 
	~<¡dio.h
>

25 
	~"i¦/m©.h
"

26 
	~"i¦/aff.h
"

28 
	~"gmp.h
"

30 
	~"¶uto/lib¶uto.h
"

32 
	#PLMAX
(
a
,
b
è(×>=b)?×):(b))

	)

33 
	#PLMIN
(
a
,
b
è(×<=b)?×):(b))

	)

34 
	#PLABS
(
a
è(×>=0)?×):(-a))

	)

36 
	#LONG_LONG_INT_MAX
 0x7FFFFFFFFFFFFFFFL

	)

38 
¶uto_m©rix_´št
(
FILE
 *, cÚ¡ 
PlutoM©rix
 *);

39 
¶uto_m©rix_»ad
(
FILE
 *, cÚ¡ 
PlutoM©rix
 *);

40 
PlutoM©rix
 *
¶uto_m©rix_®loc
(
Äows
, 
ncŞs
);

41 
¶uto_m©rix_ä“
(
PlutoM©rix
 *
m©
);

42 
PlutoM©rix
 *
¶uto_m©rix_dup
(cÚ¡ PlutoM©rix *
¤c
);

43 
PlutoM©rix
 *
¶uto_m©rix_id’t™y
(
size
);

44 
¶uto_m©rix_£t
(
PlutoM©rix
 *
m©
, 
v®
);

45 
PlutoM©rix
 *
¶uto_m©rix_šput
(
FILE
 *
å
);

47 
PlutoM©rix
 *
¶uto_m©rix_šv”£
(PlutoM©rix *
m©
);

48 
PlutoM©rix
 *
¶uto_m©rix_´oduù
(cÚ¡ PlutoM©rix *
m©1
,

49 cÚ¡ 
PlutoM©rix
 *
m©2
);

50 
¶uto_m©rix_g‘_¿nk
(cÚ¡ 
PlutoM©rix
 *
m©
);

52 
¶uto_m©rix_add_row
(
PlutoM©rix
 *
m©
, 
pos
);

53 
¶uto_m©rix_add_cŞ
(
PlutoM©rix
 *
m©
, 
pos
);

54 
¶uto_m©rix_»move_row
(
PlutoM©rix
 *
m©
, 
pos
);

55 
¶uto_m©rix_»move_cŞ
(
PlutoM©rix
 *, );

56 
¶uto_m©rix_z”o_row
(
PlutoM©rix
 *
m©
, 
pos
);

57 
¶uto_m©rix_z”o_cŞ
(
PlutoM©rix
 *
m©
, 
pos
);

59 
¶uto_m©rix_move_cŞ
(
PlutoM©rix
 *
m©
, 
r1
, 
r2
);

60 
¶uto_m©rix_š‹rchªge_cŞs
(
PlutoM©rix
 *
m©
, 
c1
, 
c2
);

61 
¶uto_m©rix_š‹rchªge_rows
(
PlutoM©rix
 *
m©
, 
r1
, 
r2
);

63 
¶uto_m©rix_nÜm®ize_row
(
PlutoM©rix
 *
m©
, 
pos
);

64 
¶uto_m©rix_Ãg©e_row
(
PlutoM©rix
 *
m©
, 
pos
);

65 
¶uto_m©rix_add
(
PlutoM©rix
 *
m©1
, cÚ¡ PlutoM©rix *
m©2
);

66 
gaussŸn_–imš©e
(
PlutoM©rix
 *
m©
, 
¡¬t
, 
’d
);

68 
št64
 
lcm
(št64 
a
, iÁ64 
b
);

69 
št64
 
gcd
(št64 
a
, iÁ64 
b
);

70 
št64
 *
mš_Ëxiÿl
(št64 *
a
, iÁ64 *
b
, iÁ64 
num
);

72 *
cÚÿt
(cÚ¡ *
´efix
, cÚ¡ *
suffix
);

73 
¶uto_affše_funùiÚ_´št
(
FILE
 *
å
, 
št64
 *
func
, 
ndims
, **
v¬s
);

74 *
¶uto_affše_funùiÚ_¥ršt
(
št64
 *
func
, 
ndims
, **
v¬s
);

76 
¶uto_m©rix_»v”£_rows
(
PlutoM©rix
 *
m©
);

77 
¶uto_m©rix_Ãg©e
(
PlutoM©rix
 *
m©
);

79 
¶uto_veùÜ_is_·¿Î–
(
PlutoM©rix
 *
m©1
, 
r1
, PlutoM©rix *
m©2
, 
r2
);

80 
¶uto_veùÜ_is_nÜm®
(
PlutoM©rix
 *
m©1
, 
r1
, PlutoM©rix *
m©2
, 
r2
);

82 
PlutoM©rix
 *
¶uto_m©rix_äom_i¦_m©
(
__i¦_k“p
 
i¦_m©
 *
m©
);

83 
i¦_aff_to_¶uto_func
(
__i¦_ke
 
i¦_£t
 *
£t
, __i¦_k
i¦_aff
 *
aff
, *
u£r
);

86 
i¦_v®_g‘_num_Î
(
__i¦_k“p
 
i¦_v®
 *
v
);

87 
mpz_£t_¦l
(
mpz_t
 
n
, 
¦l
);

	@pluto.c

22 
	~<¡dio.h
>

23 
	~<¡dlib.h
>

24 
	~<as£¹.h
>

25 
	~<m©h.h
>

26 
	~<¡ršg.h
>

27 
	~<¡dboŞ.h
>

29 
	~"¶uto.h
"

30 
	~"m©h_suµÜt.h
"

31 
	~"cÚ¡¿šts.h
"

32 
	~"po¡_ŒªsfÜm.h
"

33 
	~"´og¿m.h
"

34 
	~"ŒªsfÜms.h
"

35 
	~"ddg.h
"

36 
	~"v”siÚ.h
"

39 
	#EAGER
 0

	)

40 
	#LAZY
 1

	)

42 
d•_§tisçùiÚ_upd©e
(
PlutoProg
 *
´og
, 
Ëv–
);

43 
boŞ
 
d•_§tisçùiÚ_‹¡
(
D•
 *
d•
, 
PlutoProg
 *
´og
, 
Ëv–
);

45 
g‘_num_un§tisf›d_d•s
(
D•
 **
d•s
, 
nd•s
);

46 
g‘_num_un§tisf›d_š‹r_¡mt_d•s
(
D•
 **
d•s
, 
nd•s
);

47 
g‘_num_un§tisf›d_š‹r_scc_d•s
(
PlutoProg
 *
´og
);

49 
¶uto_dŸmÚd_te
(
PlutoProg
 *
´og
);

58 
	$d•_§tisçùiÚ_upd©e
(
PlutoProg
 *
´og
, 
Ëv–
)

60 
i
;

61 
num_Ãw_ÿ¼›d
;

63 
nd•s
 = 
´og
->ndeps;

64 
D•
 **
d•s
 = 
´og
->deps;

66 
num_Ãw_ÿ¼›d
 = 0;

68 
	`IF_DEBUG
(
	`´štf
("[¶uto] d•_§tisçùiÚ_upd©Öev– %d)\n", 
Ëv–
););

70 
i
=0; i<
nd•s
; i++) {

71 
D•
 *
d•
 = 
d•s
[
i
];

72 ià(!
	`d•_is_§tisf›d
(
d•
)) {

73 
d•
->
§tisf›d
 = 
	`d•_§tisçùiÚ_‹¡
(d•, 
´og
, 
Ëv–
);

74 ià(
d•
->
§tisf›d
) {

75 
	`IF_MORE_DEBUG
(
	`´štf
("[¶uto] d•_§tisçùiÚ_upd©e: d• %d s©isf›d\n", 
i
+1););

76 ià(!
	`IS_RAR
(
d•
->
ty³
)è
num_Ãw_ÿ¼›d
++;

77 
d•
->
§tisçùiÚ_Ëv–
 = 
Ëv–
;

81 
	`IF_DEBUG
(
	`´štf
("\ˆ%d d•(sè§tisf›d\n", 
num_Ãw_ÿ¼›d
););

83  
num_Ãw_ÿ¼›d
;

84 
	}
}

87 
	$d•s_§tisçùiÚ_check
(
PlutoProg
 *
´og
)

89 
i
;

91 
i
=0; i<
´og
->
nd•s
; i++) {

92 ià(
	`IS_RAR
(
´og
->
d•s
[
i
]->
ty³
)) ;

93 ià(!
	`d•_is_§tisf›d
(
´og
->
d•s
[
i
])) {

94  
çl£
;

97  
Œue
;

98 
	}
}

100 
	$¶uto_d•_§tisçùiÚ_»£t
(
PlutoProg
 *
´og
)

102 
i
;

104 
	`IF_DEBUG
(
	`´štf
("[pluto]…luto_dep_satisfaction_reset\n"););

106 
i
=0; i<
´og
->
nd•s
; i++) {

107 
´og
->
d•s
[
i
]->
§tisf›d
 = 
çl£
;

108 
´og
->
d•s
[
i
]->
§tisçùiÚ_Ëv–
 = -1;

110 
	}
}

117 
	$¶uto_compu‹_d•_§tisçùiÚ
(
PlutoProg
 *
´og
)

119 
i
, 
Ëv–
;

121 
	`IF_DEBUG
(
	`´štf
("[pluto]…luto_compute_dep_satisfaction\n"););

123 
	`¶uto_d•_§tisçùiÚ_»£t
(
´og
);

125 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

126 
	`d•_§tisçùiÚ_upd©e
(
´og
, 
i
);

130 
i
=0; i<
´og
->
nd•s
; i++) {

131 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

132 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

135 ià(
d•
->
§tvec
è
	`ä“
(dep->satvec);

136 
d•
->
§tvec
 = (*è
	`m®loc
(
´og
->
num_hy³½ÏÃs
*());

139 
	`as£¹
(
d•
->
dœvec
 !ğ
NULL
);

141 
Ëv–
=0;†ev–<
´og
->
num_hy³½ÏÃs
;†evel++) {

142 ià(
d•
->
dœvec
[
Ëv–
] !ğ
DEP_ZERO
 &&

143 (
d•
->
§tisçùiÚ_Ëv–
 >ğ
Ëv–
 || dep->satisfaction_level == -1)) {

144 
d•
->
§tvec
[
Ëv–
] = 1;

146 
d•
->
§tvec
[
Ëv–
] = 0;

150 
	}
}

154 
boŞ
 
	$d•_is_§tisf›d
(
D•
 *
d•
)

156  
d•
->
§tisf›d
;

157 
	}
}

160 
	$num_§tisf›d_d•s
 (
D•
 *
d•s
, 
nd•s
)

162 
i
;

164 
num_§tisf›d
 = 0;

165 
i
=0; i<
nd•s
; i++) {

166 ià(
	`IS_RAR
(
d•s
[
i
].
ty³
)) ;

167 ià(
	`d•_is_§tisf›d
(&
d•s
[
i
])è
num_§tisf›d
++;

170  
num_§tisf›d
;

171 
	}
}

174 
	$num_š‹r_¡mt_d•s
 (
D•
 *
d•s
, 
nd•s
)

176 
i
;

177 
couÁ
;

179 
couÁ
=0;

180 
i
=0; i<
nd•s
; i++) {

181 ià(
	`IS_RAR
(
d•s
[
i
].
ty³
)) ;

182 ià(
d•s
[
i
].
¤c
 !ğd•s[i].
de¡
) {

183 
couÁ
++;

186  
couÁ
;

187 
	}
}

189 
	$num_š‹r_scc_d•s
 (
Stmt
 *
¡mts
, 
D•
 *
d•s
, 
nd•s
)

191 
i
, 
couÁ
;

193 
couÁ
=0;

194 
i
=0; i<
nd•s
; i++) {

195 ià(
	`IS_RAR
(
d•s
[
i
].
ty³
)) ;

196 ià(
	`d•_is_§tisf›d
(&
d•s
[
i
])) ;

197 ià(
¡mts
[
d•s
[
i
].
¤c
].
scc_id
 !ğ¡mts[d•s[i].
de¡
].scc_id)

198 
couÁ
++;

200  
couÁ
;

201 
	}
}

211 
PlutoCÚ¡¿šts
 *
	$g‘_£Ëùive_nÚ_ŒivŸl_sŞ_cÚ¡¿šts
(cÚ¡ 
PlutoProg
 *
´og
,

212 
boŞ
 
hyp_£¬ch_mode
, boŞ *
¡mts_to_cÚsid”
)

214 
PlutoCÚ¡¿šts
 *
nzc¡
;

215 
i
, 
j
, 
¡mt_off£t
, 
nv¬
, 
Å¬
, 
n¡mts
, 
n¡mts_to_cÚsid”
;

217 
Stmt
 **
¡mts
 = 
´og
->stmts;

218 
n¡mts
 = 
´og
->nstmts;

219 
nv¬
 = 
´og
->nvar;

220 
Å¬
 = 
´og
->npar;

221 
n¡mts_to_cÚsid”
 = 0;

223 
i
=0; i<
n¡mts
; i++) {

224 ià(
¡mts_to_cÚsid”
[
i
]è
n¡mts_to_cÚsid”
++;

227 
nzc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
n¡mts_to_cÚsid”
, 
CST_WIDTH
);

228 
nzc¡
->
ncŞs
 = 
CST_WIDTH
;

230 ià(
hyp_£¬ch_mode
 =ğ
EAGER
) {

231 
i
=0; i<
n¡mts
; i++) {

233 ià(!
¡mts_to_cÚsid”
[
i
]) ;

235 ià(
	`¶uto_¡mt_g‘_num_šd_hyps
(
¡mts
[
i
]è>ğ¡mts[i]->
dim_Üig
) {

236 
	`IF_DEBUG2
(
	`årštf
(
¡dout
, "nÚ-z”Øc¡: skpšg stmˆ%d\n", 
i
));

239 
¡mt_off£t
 = 
Å¬
+1+
i
*(
nv¬
+1);

240 
j
=0; j<
nv¬
; j++) {

241 ià(
¡mts
[
i
]->
is_Üig_loİ
[
j
] == 1) {

242 
nzc¡
->
v®
[nzc¡->
Äows
][
¡mt_off£t
+
j
] = 1;

245 
nzc¡
->
v®
[nzc¡->
Äows
][
CST_WIDTH
-1] = -1;

246 
nzc¡
->
Äows
++;

249 
	`as£¹
(
hyp_£¬ch_mode
 =ğ
LAZY
);

250 
i
=0; i<
n¡mts
; i++) {

252 ià(!
¡mts_to_cÚsid”
[
i
]) ;

254 ià(
	`¶uto_¡mt_g‘_num_šd_hyps
(
¡mts
[
i
]è>ğ¡mts[i]->
dim_Üig
) {

255 
	`IF_DEBUG2
(
	`årštf
(
¡dout
, "nÚ-z”Øc¡: skpšg stmˆ%d\n", 
i
));

258 
¡mt_off£t
 = 
Å¬
+1+
i
*(
nv¬
+1);

259 
j
=0; j<
nv¬
; j++) {

260 ià(
¡mts
[
i
]->
is_Üig_loİ
[
j
] == 1) {

261 
nzc¡
->
v®
[0][
¡mt_off£t
+
j
] = 1;

264 
nzc¡
->
v®
[0][
CST_WIDTH
-1] = -1;

266 
nzc¡
->
Äows
 = 1;

269  
nzc¡
;

270 
	}
}

279 
PlutoCÚ¡¿šts
 *
	$g‘_nÚ_ŒivŸl_sŞ_cÚ¡¿šts
(cÚ¡ 
PlutoProg
 *
´og
,

280 
boŞ
 
hyp_£¬ch_mode
)

282 
PlutoCÚ¡¿šts
 *
nzc¡
;

283 
i
, 
j
, 
¡mt_off£t
, 
nv¬
, 
Å¬
, 
n¡mts
;

285 
Stmt
 **
¡mts
 = 
´og
->stmts;

286 
n¡mts
 = 
´og
->nstmts;

287 
nv¬
 = 
´og
->nvar;

288 
Å¬
 = 
´og
->npar;

290 
nzc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
n¡mts
, 
CST_WIDTH
);

291 
nzc¡
->
ncŞs
 = 
CST_WIDTH
;

293 ià(
hyp_£¬ch_mode
 =ğ
EAGER
) {

294 
i
=0; i<
n¡mts
; i++) {

296 ià(
	`¶uto_¡mt_g‘_num_šd_hyps
(
¡mts
[
i
]è>ğ¡mts[i]->
dim_Üig
) {

297 
	`IF_DEBUG2
(
	`årštf
(
¡dout
, "nÚ-z”Øc¡: skpšg stmˆ%d\n", 
i
));

300 
¡mt_off£t
 = 
Å¬
+1+
i
*(
nv¬
+1);

301 
j
=0; j<
nv¬
; j++) {

302 ià(
¡mts
[
i
]->
is_Üig_loİ
[
j
] == 1) {

303 
nzc¡
->
v®
[nzc¡->
Äows
][
¡mt_off£t
+
j
] = 1;

306 
nzc¡
->
v®
[nzc¡->
Äows
][
CST_WIDTH
-1] = -1;

307 
nzc¡
->
Äows
++;

310 
	`as£¹
(
hyp_£¬ch_mode
 =ğ
LAZY
);

311 
i
=0; i<
n¡mts
; i++) {

313 ià(
	`¶uto_¡mt_g‘_num_šd_hyps
(
¡mts
[
i
]è>ğ¡mts[i]->
dim_Üig
) {

314 
	`IF_DEBUG2
(
	`årštf
(
¡dout
, "nÚ-z”Øc¡: skpšg stmˆ%d\n", 
i
));

317 
¡mt_off£t
 = 
Å¬
+1+
i
*(
nv¬
+1);

318 
j
=0; j<
nv¬
; j++) {

319 ià(
¡mts
[
i
]->
is_Üig_loİ
[
j
] == 1) {

320 
nzc¡
->
v®
[0][
¡mt_off£t
+
j
] = 1;

323 
nzc¡
->
v®
[0][
CST_WIDTH
-1] = -1;

325 
nzc¡
->
Äows
 = 1;

328  
nzc¡
;

329 
	}
}

334 
PlutoCÚ¡¿šts
 *
	$g‘_£Ëùive_cÛff_boundšg_cÚ¡¿šts
(
PlutoProg
 *
´og
, 
boŞ
 *
¡mts_to_cÚsid”
)

336 
i
, 
Å¬
, 
n¡mts
, 
nv¬
, 
¡mts_off£t
, 
j
, 
ub
;

337 
PlutoCÚ¡¿šts
 *
c¡
;

339 
Å¬
 = 
´og
->npar;

340 
n¡mts
 = 
´og
->nstmts;

341 
nv¬
 = 
´og
->nvar;

343 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
CST_WIDTH
);

346 
i
=0; i<
Å¬
+1; i++) {

347 
	`¶uto_cÚ¡¿šts_add_lb
(
c¡
, 
i
, 0);

350 
i
=0; i<
n¡mts
; i++) {

351 ià(!
¡mts_to_cÚsid”
[
i
]) ;

353 
¡mts_off£t
 = 
Å¬
+1+
i
*(
nv¬
+1);

354 
j
=0; j<
nv¬
+1; j++) {

355 
	`¶uto_cÚ¡¿šts_add_lb
(
c¡
, 
¡mts_off£t
+
j
, 0);

359 ià(
İtiÚs
->
cÛff_bound
 != -1) {

360 
ub
 = 
İtiÚs
->
cÛff_bound
;

363 
ub
 = 
	`¶uto_´og_g‘_Ïrge¡_cÚ¡_š_domašs
(
´og
);

364 ià(
ub
 < 10) ub = -1;

367 ià(
ub
 != -1) {

368 
i
=0; i<
n¡mts
; i++) {

369 ià(!
¡mts_to_cÚsid”
[
i
]) ;

371 
¡mts_off£t
 = 
Å¬
+1+
i
*(
nv¬
+1);

372 
j
=0; j<
nv¬
+1; j++) {

373 
	`¶uto_cÚ¡¿šts_add_ub
(
c¡
, 
¡mts_off£t
+
j
, 
ub
);

377  
c¡
;

378 
	}
}

384 
PlutoCÚ¡¿šts
 *
	$g‘_cÛff_boundšg_cÚ¡¿šts
(
PlutoProg
 *
´og
)

386 
i
, 
Å¬
, 
n¡mts
, 
nv¬
;

387 
PlutoCÚ¡¿šts
 *
c¡
;

389 
Å¬
 = 
´og
->npar;

390 
n¡mts
 = 
´og
->nstmts;

391 
nv¬
 = 
´og
->nvar;

393 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
CST_WIDTH
);

396 
i
=0; i<
Å¬
+1; i++) {

397 
	`¶uto_cÚ¡¿šts_add_lb
(
c¡
, 
i
, 0);

400 
i
=0; i<
c¡
->
ncŞs
-
Å¬
-1-1; i++) {

401 
	`IF_DEBUG2
(
	`´štf
("Adding†ower bound %d forransformation coefficients\n", 0););

402 
	`¶uto_cÚ¡¿šts_add_lb
(
c¡
, 
Å¬
+1+
i
, 0);

405 ià(
İtiÚs
->
cÛff_bound
 != -1) {

406 
i
=0; i<
c¡
->
ncŞs
-
Å¬
-1-1; i++) {

407 
	`IF_DEBUG2
(
	`´štf
("Addšg uµ” bound %d fÜ¿nsfÜm©iÚ cÛffic›Ás\n", 
İtiÚs
->
cÛff_bound
););

408 
	`¶uto_cÚ¡¿šts_add_ub
(
c¡
, 
Å¬
+1+
i
, 
İtiÚs
->
cÛff_bound
);

412 
ub
 = 
	`¶uto_´og_g‘_Ïrge¡_cÚ¡_š_domašs
(
´og
);

420 ià(
ub
 >= 10) {

421 
i
=0; i<
c¡
->
ncŞs
-
Å¬
-1-1; i++) {

422 
	`IF_DEBUG2
(
	`´štf
("Addšg uµ” bound %d fÜ¿nsfÜm©iÚ cÛffic›Ás\n", 
ub
););

423 
	`¶uto_cÚ¡¿šts_add_ub
(
c¡
, 
Å¬
+1+
i
, 
ub
);

428  
c¡
;

429 
	}
}

438 
PlutoCÚ¡¿šts
 *
	$g‘_cÛff_boundšg_cÚ¡¿šts_fÜ_cÚe_com¶em’t
(
PlutoProg
 *
´og
)

440 
i
, 
Å¬
, 
n¡mts
, 
nv¬
, 
s
;

441 
PlutoCÚ¡¿šts
 *
c¡
;

443 
Å¬
 = 
´og
->npar;

444 
n¡mts
 = 
´og
->nstmts;

445 
nv¬
 = 
´og
->nvar;

447 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
CST_WIDTH
);

450 
i
=0; i<
Å¬
+1; i++) {

451 
	`¶uto_cÚ¡¿šts_add_lb
(
c¡
, 
i
, 0);

454 
s
=0; s<
n¡mts
; s++) {

455 
i
=0; i<
nv¬
; i++) {

457 
	`IF_DEBUG2
(
	`´štf
("[pluto_get_coeff_bound_for_cone_complement] Adding†ower bound %d for stmt dim coefficients\n", -4););

458 
	`¶uto_cÚ¡¿šts_add_lb
(
c¡
, 
Å¬
+1+
s
*(
nv¬
+1)+
i
, -4);

461 
	`IF_DEBUG2
(
	`´štf
("[pluto_get_coeff_bound_for_cone_complement] Adding†ower bound %d for stmtranslation coefficient\n", 0););

462 
	`¶uto_cÚ¡¿šts_add_lb
(
c¡
, 
Å¬
+1+
s
*(
nv¬
+1)+nvar, 0);

464  
c¡
;

465 
	}
}

473 
št64
 *
	$¶uto_´og_cÚ¡¿šts_Ëxmš
(
PlutoCÚ¡¿šts
 *
c¡
, 
PlutoProg
 *
´og
)

475 
Stmt
 **
¡mts
;

476 
i
, 
j
, 
k
;

477 
n¡mts
, 
nv¬
, 
Å¬
, 
d–_couÁ
;

478 
št64
 *
sŞ
, *
fsŞ
;

479 
PlutoCÚ¡¿šts
 *
Ãwc¡
;

481 
¡mts
 = 
´og
->stmts;

482 
n¡mts
 = 
´og
->nstmts;

483 
nv¬
 = 
´og
->nvar;

484 
Å¬
 = 
´og
->npar;

486 
	`as£¹
(
c¡
->
ncŞs
 - 1 =ğ
CST_WIDTH
 - 1);

489 
»dun
[
Å¬
+1+
n¡mts
*(
nv¬
+1)+1];

490 
i
=0; i<
Å¬
+1; i++) {

491 
»dun
[
i
] = 0;

494 
i
=0; i<
n¡mts
; i++) {

495 
j
=0; j<
nv¬
; j++) {

496 
»dun
[
Å¬
+1+
i
*(
nv¬
+1)+
j
] = !
¡mts
[i]->
is_Üig_loİ
[j];

498 
»dun
[
Å¬
+1+
i
*(
nv¬
+1)+nvar] = 0;

500 
»dun
[
Å¬
+1+
n¡mts
*(
nv¬
+1)] = 0;

502 
d–_couÁ
 = 0;

503 
Ãwc¡
 = 
	`¶uto_cÚ¡¿šts_dup
(
c¡
);

504 
j
 = 0; j < 
c¡
->
ncŞs
-1; j++) {

505 ià(
»dun
[
j
]) {

506 
	`¶uto_cÚ¡¿šts_»move_dim
(
Ãwc¡
, 
j
-
d–_couÁ
);

507 
d–_couÁ
++;

513 
j
 = 
Å¬
 + 1;

514 
i
=0; i<
n¡mts
; i++) {

515 
k
=
j
; k<j+(
¡mts
[
i
]->
dim_Üig
)/2; k++) {

516 
	`¶uto_cÚ¡¿šts_š‹rchªge_cŞs
(
Ãwc¡
, 
k
, 
j
 + (
¡mts
[
i
]->
dim_Üig
 - 1 - (k-j)));

519 
j
 +ğ
¡mts
[
i
]->
dim_Üig
+1;

522 
	`IF_DEBUG
(
	`´štf
("[pluto]…luto_prog_constraints_lexmin (%d variables, %d constraints)\n",

523 
c¡
->
ncŞs
-1, c¡->
Äows
););

526 
sŞ
 = 
	`¶uto_cÚ¡¿šts_Ëxmš
(
Ãwc¡
, 
DO_NOT_ALLOW_NEGATIVE_COEFF
);

530 
fsŞ
 = 
NULL
;

531 ià(
sŞ
) {

532 
k1
, 
k2
, 
q
;

533 
št64
 
tmp
;

535 
j
 = 
Å¬
 + 1;

536 
i
=0; i<
n¡mts
; i++) {

537 
k
=
j
; k<j+(
¡mts
[
i
]->
dim_Üig
)/2; k++) {

538 
k1
 = 
k
;

539 
k2
 = 
j
 + (
¡mts
[
i
]->
dim_Üig
 - 1 - (
k
-j));

540 
tmp
 = 
sŞ
[
k1
];

541 
sŞ
[
k1
] = sŞ[
k2
];

542 
sŞ
[
k2
] = 
tmp
;

544 
j
 +ğ
¡mts
[
i
]->
dim_Üig
+1;

547 
fsŞ
 = (
št64
 *è
	`m®loc
((
c¡
->
ncŞs
-1)*(int64));

550 
q
 = 0;

551 
j
=0; j<
c¡
->
ncŞs
-1; j++) {

552 
fsŞ
[
j
] = 
»dun
[j]? 0: 
sŞ
[
q
++];

554 
	`ä“
(
sŞ
);

557 
	`¶uto_cÚ¡¿šts_ä“
(
Ãwc¡
);

559  
fsŞ
;

560 
	}
}

564 
	$ddg_sccs_dœeù_cÚÃùed
(
G¿ph
 *
g
, 
PlutoProg
 *
´og
, 
scc1
, 
scc2
)

566 
i
, 
j
;

568 
i
=0; i<
´og
->
n¡mts
; i++) {

569 ià(
´og
->
¡mts
[
i
]->
scc_id
 =ğ
scc1
) {

570 
j
=0; j<
´og
->
n¡mts
; j++) {

571 ià(
´og
->
¡mts
[
j
]->
scc_id
 =ğ
scc2
) {

572 ià(
g
->
adj
->
v®
[
i
][
j
] > 0) {

581 
	}
}

585 
	$cut_b‘w“n_sccs
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
scc1
, 
scc2
)

587 
Stmt
 **
¡mts
 = 
´og
->stmts;

588 
n¡mts
 = 
´og
->nstmts;

590 
nv¬
 = 
´og
->nvar;

591 
Å¬
 = 
´og
->npar;

593 
i
, 
j
, 
num_§tisf›d
;

595 ià(!
	`ddg_sccs_dœeù_cÚÃùed
(
ddg
, 
´og
, 
scc1
, 
scc2
)) {

599 
	`IF_DEBUG
(
	`´štf
("[¶uto] Cu‰šg b‘w“ÀSCC id %d‡nd id %d\n", 
scc1
, 
scc2
));

601 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_SCALAR
);

603 
i
=0; i<
n¡mts
; i++) {

604 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_SCALAR
, stmts[i]->
Œªs
->
Äows
);

605 
j
=0; j<
nv¬
+
Å¬
; j++) {

606 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
j
] = 0;

608 ià(
¡mts
[
i
]->
scc_id
 < 
scc2
) {

609 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
nv¬
+
Å¬
] = 0;

611 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
nv¬
+
Å¬
] = 1;

615 
num_§tisf›d
 = 
	`d•_§tisçùiÚ_upd©e
(
´og
, 
¡mts
[0]->
Œªs
->
Äows
-1);

616 ià(
num_§tisf›d
 >= 1) {

617 
	`IF_DEBUG
(
	`¶uto_ŒªsfÜm©iÚ_´št_Ëv–
(
´og
,…rog->
num_hy³½ÏÃs
-1););

618 
	`ddg_upd©e
(
ddg
, 
´og
);

620 
i
=0; i<
n¡mts
; i++) {

621 
¡mts
[
i
]->
Œªs
->
Äows
--;

623 
´og
->
num_hy³½ÏÃs
--;

626  
num_§tisf›d
;

627 
	}
}

633 
	$cut_®l_sccs
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
)

635 
i
, 
j
, 
num_§tisf›d
;

636 
Stmt
 **
¡mts
 = 
´og
->stmts;

637 
n¡mts
 = 
´og
->nstmts;

638 
nv¬
 = 
´og
->nvar;

639 
Å¬
 = 
´og
->npar;

641 
	`IF_DEBUG
(
	`´štf
("[pluto] Cutting between‡ll SCCs\n"));

643 ià(
ddg
->
num_sccs
 == 1) {

644 
	`IF_DEBUG
(
	`´štf
("\tonly one SCC\n"));

648 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_SCALAR
);

650 
i
=0; i<
n¡mts
; i++) {

651 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_SCALAR
, stmts[i]->
Œªs
->
Äows
);

652 
j
=0; j<
nv¬
+
Å¬
; j++) {

653 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
j
] = 0;

655 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
nv¬
+
Å¬
] = stmts[i]->
scc_id
;

658 
	`IF_DEBUG
(
	`¶uto_ŒªsfÜm©iÚ_´št_Ëv–
(
´og
,…rog->
num_hy³½ÏÃs
-1););

659 
num_§tisf›d
 = 
	`d•_§tisçùiÚ_upd©e
(
´og
, 
¡mts
[0]->
Œªs
->
Äows
-1);

660 
	`ddg_upd©e
(
ddg
, 
´og
);

662  
num_§tisf›d
;

663 
	}
}

676 
	$cut_scc_dim_ba£d
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
)

678 
i
, 
j
, 
k
, 
couÁ
;

679 
Stmt
 **
¡mts
 = 
´og
->stmts;

680 
nv¬
 = 
´og
->nvar;

681 
Å¬
 = 
´og
->npar;

683 ià(
ddg
->
num_sccs
 == 1)  0;

685 
	`IF_DEBUG
(
	`´štf
("Cutting based on SCC dimensionalities\n"));

687 
couÁ
 = 0;

689 
cur_max_dim
 = 
ddg
->
sccs
[0].
max_dim
;

691 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_SCALAR
);

693 
k
=0; k<
ddg
->
num_sccs
; k++) {

694 ià(
cur_max_dim
 !ğ
ddg
->
sccs
[
k
].
max_dim
) {

695 
cur_max_dim
 = 
ddg
->
sccs
[
k
].
max_dim
;

696 
couÁ
++;

699 
i
=0; i<
´og
->
n¡mts
; i++) {

700 ià(
¡mts
[
i
]->
scc_id
 =ğ
k
) {

701 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_SCALAR
, stmts[i]->
Œªs
->
Äows
);

702 
j
=0; j<
nv¬
; j++) {

703 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
j
] = 0;

705 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
nv¬
+
Å¬
] = 
couÁ
;

710 
num_Ãw_ÿ¼›d
 = 
	`d•_§tisçùiÚ_upd©e
(
´og
, 
¡mts
[0]->
Œªs
->
Äows
-1);

712 ià(
num_Ãw_ÿ¼›d
 >= 1) {

713 
	`IF_DEBUG
(
	`¶uto_ŒªsfÜm©iÚ_´št_Ëv–
(
´og
,…rog->
num_hy³½ÏÃs
-1););

714 
	`ddg_upd©e
(
ddg
, 
´og
);

716 
i
=0; i<
´og
->
n¡mts
; i++) {

717 
¡mts
[
i
]->
Œªs
->
Äows
--;

719 
´og
->
num_hy³½ÏÃs
--;

722  
num_Ãw_ÿ¼›d
;

723 
	}
}

726 
	$cut_sm¬t
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
)

728 ià(
ddg
->
num_sccs
 == 0) ;

730 ià(
	`¶uto_ŒªsfÜm©iÚs_fuÎ_¿nked
(
´og
)) {

732 
	`cut_®l_sccs
(
´og
, 
ddg
);

736 
i
, 
j
;

738 
num_Ãw_ÿ¼›d
 = 0;

741 ià(
	`cut_scc_dim_ba£d
(
´og
, 
ddg
)) {

746 ià(
	`cut_b‘w“n_sccs
(
´og
,
ddg
,
	`û
(ddg->
num_sccs
/2.0)-1,

747 
	`û
(
ddg
->
num_sccs
/2.0))) {

752 
i
=0; i<
ddg
->
num_sccs
-1; i++) {

753 
j
=
ddg
->
num_sccs
-1; j>=
i
+1; j--) {

754 ià(
´og
->
¡mts
[0]->
Œªs
->
Äows
 <ğ4*´og->
nv¬
+2) {

755 ià(
	`ddg_sccs_dœeù_cÚÃùed
(
ddg
, 
´og
, 
i
, 
j
)) {

757 
num_Ãw_ÿ¼›d
 +ğ
	`cut_b‘w“n_sccs
(
´og
,
ddg
,
i
,
j
);

761 
	`cut_®l_sccs
(
´og
, 
ddg
);

766 
	}
}

770 
	$cut_cÚ£rv©ive
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
)

772 
i
, 
j
;

774 ià(
	`cut_scc_dim_ba£d
(
´og
,
ddg
)) {

779 ià(
	`cut_b‘w“n_sccs
(
´og
,
ddg
,
	`û
(ddg->
num_sccs
/2.0)-1,

780 
	`û
(
ddg
->
num_sccs
/2.0))) {

785 
i
=0; i<
ddg
->
num_sccs
-1; i++) {

786 
j
=
ddg
->
num_sccs
-1; j>=
i
+1; j--) {

787 ià(
´og
->
¡mts
[0]->
Œªs
->
Äows
 <ğ4*´og->
nv¬
+2) {

788 ià(
	`cut_b‘w“n_sccs
(
´og
,
ddg
,
i
,
j
)) {

792 
	`cut_®l_sccs
(
´og
, 
ddg
);

797 
	}
}

800 
Node
 *
	$®loc_node
(
d©a
){

801 
Node
 *
node
 = (Nod*è
	`m®loc
((Node));

802 
node
->
d©a
 = data;

803 
node
->
Ãxt
 = 
NULL
;

804  
node
;

805 
	}
}

807 
Li¡
 *
	$ü—‹_em±y_li¡
(){

808 
Li¡
 *
li¡
 = (Li¡ *è
	`m®loc
((List));

809 
li¡
->
h—d
 = 
NULL
;

810 
li¡
->

 = 
NULL
;

812  
li¡
;

813 
	}
}

815 
	$push_node_to_li¡
(
Li¡
 *
li¡
, 
d©a
){

816 
Node
 *
node
 = 
	`®loc_node
(
d©a
);

817 ià(
li¡
->
h—d
 =ğ
NULL
 ||†i¡->

 == NULL) {

818 
li¡
->
h—d
 =†i¡->

 = 
node
;

821 
li¡
->

->
Ãxt
 = 
node
;

822 
li¡
->

 = 
node
;

824 
	}
}

826 
	$pİ_node_äom_li¡
(
Li¡
 *
li¡
){

828 ià(
li¡
->
h—d
 !ğ
NULL
) {

829 
Node
 *
tmp
 = 
li¡
->
h—d
->
Ãxt
;

830 
	`ä“
(
li¡
->
h—d
);

831 
li¡
->
h—d
 = 
tmp
;

833 ià(
tmp
 =ğ
NULL
è
li¡
->

 = NULL;

835 
	}
}

837 
Li¡
 *
	$m”ge_li¡s
(
Li¡
 *
li¡_1
, Li¡ *
li¡_2
){

838 
Li¡
 *
m”ged_li¡
;

839 
Node
 *
tmp
;

841 
	`as£¹
(
li¡_1
 !ğ
NULL
);

842 
	`as£¹
(
li¡_2
 !ğ
NULL
);

843 
m”ged_li¡
 = 
	`ü—‹_em±y_li¡
();

846 
tmp
 = 
li¡_1
->
h—d
;m°!ğ
NULL
;m°ğtmp->
Ãxt
) {

847 
	`push_node_to_li¡
(
m”ged_li¡
, 
tmp
->
d©a
);

851 
tmp
 = 
li¡_2
->
h—d
;m°!ğ
NULL
;m°ğtmp->
Ãxt
) {

852 
	`push_node_to_li¡
(
m”ged_li¡
, 
tmp
->
d©a
);

855  
m”ged_li¡
;

856 
	}
}

858 
	$d—Îoÿ‹_li¡
(
Li¡
 *
li¡
){

860 
	`as£¹
(
li¡
 !ğ
NULL
);

862 
li¡
->
h—d
 !ğ
NULL
) {

863 
	`pİ_node_äom_li¡
(
li¡
);

865 
	`ä“
(
li¡
);

866 
	}
}

872 
boŞ
 
	$is_·¿Î–
(
PlutoProg
 *
´og
, 
št64
 *
sŞutiÚ_hy³½ÏÃ
)

875 
i
;

877 
i
 = 0; i < 
´og
->
Å¬
 + 1; i++) {

878 ià(
sŞutiÚ_hy³½ÏÃ
[
i
] !ğ0è 
çl£
;

881  
Œue
;

882 
	}
}

892 
SŞvab™y
 
	$g‘_sŞvab™y_¡©us
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
boŞ
 *
¡mts_to_cÚsid”
)

895 
boŞ
 
is_scc_·¿Î–
;

896 
št64
 *
be¡_sŞutiÚ
;

898 
be¡_sŞutiÚ
 = 
	`g‘_be¡_sŞutiÚ
(
´og
, 
ddg
, 
¡mts_to_cÚsid”
);

900 ià(
be¡_sŞutiÚ
 =ğ
NULL
è 
NO_HYPERPLANE
;

902 
is_scc_·¿Î–
 = 
	`is_·¿Î–
(
´og
, 
be¡_sŞutiÚ
);

904 
	`ä“
(
be¡_sŞutiÚ
);

906 ià(
is_scc_·¿Î–
è 
PARALLEL_HYPERPLANE
;

908  
SEQUENTIAL_HYPERPLANE
;

909 
	}
}

916 
G¿ph
 *
	$cÚ¡ruù_şu¡”_g¿ph
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
SccClu¡”
 *
şu¡”s
, 
n_şu¡”s
)

918 
i
, 
j
;

919 
G¿ph
 *
g¿ph
;

920 
PlutoM©rix
 *
adjaûncy
;

921 
Node
 *
™_1
, *
™_2
;

922 
SccClu¡”
 
şu¡”_1
, 
şu¡”_2
;

923 
boŞ
 
is_cÚÃùed
;

925 
g¿ph
 = 
	`g¿ph_®loc
(
n_şu¡”s
);

926 
adjaûncy
 = 
g¿ph
->
adj
;

927 
i
 = 0; i < 
n_şu¡”s
; i++) {

928 
şu¡”_1
 = 
şu¡”s
[
i
];

929 
j
 = 
i
+1; j < 
n_şu¡”s
; j++) {

930 
şu¡”_2
 = 
şu¡”s
[
j
];

931 
is_cÚÃùed
 = 
çl£
;

932 
	`as£¹
(
şu¡”_1
.
scc_li¡
 !ğ
NULL
 && 
şu¡”_2
.scc_list != NULL);

933 
™_1
 = (
şu¡”_1
.
scc_li¡
)->
h—d
; it_1 !ğ
NULL
; it_1 = it_1->
Ãxt
) {

934 
™_2
 = (
şu¡”_2
.
scc_li¡
)->
h—d
; it_2 !ğ
NULL
; it_2 = it_2->
Ãxt
) {

935 ià(
™_1
->
d©a
 < 
™_2
->d©¨&& 
	`ddg_sccs_dœeù_cÚÃùed
(
ddg
, 
´og
, it_1->data, it_2->data)) {

936 
is_cÚÃùed
 = 
Œue
;

939 ià(
™_2
->
d©a
 < 
™_1
->d©¨&& 
	`ddg_sccs_dœeù_cÚÃùed
(
ddg
, 
´og
, it_2->data, it_1->data)) {

940 
is_cÚÃùed
 = 
Œue
;

944 ià(
is_cÚÃùed
) ;

947 ià(
is_cÚÃùed
è
adjaûncy
->
v®
[
i
][
j
] = 1;

951 ià(
İtiÚs
->
debug
 || o±iÚs->
mÜedebug
) {

952 
	`årštf
(
¡d”r
, "Cluster Graph(original):\n");

953 
i
 = 0; i < 
n_şu¡”s
; i++) {

954 
j
 = 0; j < 
n_şu¡”s
; j++) {

955 ià(
adjaûncy
->
v®
[
i
][
j
]è
	`årštf
(
¡d”r
, "(Cluster_%d)-->(Cluster_%d)\n", i, j);

960  
g¿ph
;

961 
	}
}

967 
	$cut_ba£d_Ú_·¹™iÚ
(
PlutoProg
*
´og
, 
G¿ph
 *
ddg
, 
št64
 *
·¹™iÚ
)

970 
Stmt
 **
¡mts
;

971 
n¡mts
, 
nv¬
, 
Å¬
, 
i
, 
j
;

973 ià(
·¹™iÚ
 =ğ
NULL
) ;

975 
¡mts
 = 
´og
->stmts;

976 
n¡mts
 = 
´og
->nstmts;

977 
nv¬
 = 
´og
->nvar;

978 
Å¬
 = 
´og
->npar;

980 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_SCALAR
);

982 
i
=0; i<
n¡mts
; i++) {

983 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_SCALAR
, stmts[i]->
Œªs
->
Äows
);

984 
j
=0; j<
nv¬
+
Å¬
; j++) {

985 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
j
] = 0;

987 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
nv¬
+
Å¬
] = 
·¹™iÚ
[¡mts[i]->
scc_id
];

990 
	`d•_§tisçùiÚ_upd©e
(
´og
, 
¡mts
[0]->
Œªs
->
Äows
-1);

991 
	`ddg_upd©e
(
ddg
, 
´og
);

992 
	}
}

999 
boŞ
 *
	$g‘_¡mts_äom_şu¡”
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
SccClu¡”
 
şu¡”
)

1002 
	`as£¹
(
şu¡”
.
scc_li¡
 !ğ
NULL
);

1004 
Node
 *
tmp
;

1005 
boŞ
 *
¡mts
;

1006 
n_¡mts
, 
i
, 
scc
, *
v”tiûs
, 
n_scc_¡mts
;

1008 
n_¡mts
 = 
´og
->
n¡mts
;

1009 
¡mts
 = (
boŞ
 *è
	`m®loc
((boŞè* 
n_¡mts
);

1010 
i
 = 0; i<
n_¡mts
; i++) {

1011 
¡mts
[
i
] = 
çl£
;

1014 
tmp
 = (
şu¡”
.
scc_li¡
)->
h—d
;m°!ğ
NULL
;m°ğtmp->
Ãxt
) {

1015 
scc
 = 
tmp
->
d©a
;

1016 
n_scc_¡mts
 = 
ddg
->
sccs
[
scc
].
size
;

1017 
v”tiûs
 = 
ddg
->
sccs
[
scc
].vertices;

1018 
i
 = 0; i < 
n_scc_¡mts
; i++) {

1019 
¡mts
[
v”tiûs
[
i
]] = 
Œue
;

1023  
¡mts
;

1024 
	}
}

1030 
	$´št_şu¡”
(
SccClu¡”
 
şu¡”
)

1032 
Node
 *
™
;

1034 
	`as£¹
(
şu¡”
.
scc_li¡
 !ğ
NULL
);

1035 
	`årštf
(
¡d”r
, "\tInv¬ŸÁ‡cûs£s: %d\n", 
şu¡”
.
šv¬ŸÁ_acûss
);

1036 
	`årštf
(
¡d”r
, "\tS·tŸÈacûs£s: %d\n", 
şu¡”
.
¥©Ÿl_acûss
);

1037 
	`årštf
(
¡d”r
, "\tP¬®Ëlism: %d\n", 
şu¡”
.
is_·¿Î–
);

1038 
	`årštf
(
¡d”r
, "\tVeùÜizab™y: %d\n", 
şu¡”
. 
is_veùÜizabË
);

1039 
	`årštf
(
¡d”r
, "\tG¿nuÏr™y: %d\n", 
şu¡”
.
g¿nuÏr™y
);

1040 
	`årštf
(
¡d”r
, "\tDi¡šù‡cûs£s: %d\n", 
şu¡”
.
di¡šù_acûss
);

1041 
	`årštf
(
¡d”r
, "\tNumb” oàacûs£s: %d\n", 
şu¡”
.
num_acûss
);

1043 
	`årštf
(
¡d”r
, "\tSccs: ");

1044 
™
ğ(
şu¡”
.
scc_li¡
)->
h—d
; iˆ!ğ
NULL
; iˆğ™->
Ãxt
) {

1045 
	`årštf
(
¡d”r
, "Scc%d, ", 
™
->
d©a
);

1047 
	`årštf
(
¡d”r
, "\n");

1048 
	}
}

1059 
	$g‘_scÜe_‹¡
(
SccClu¡”
 
şu¡”
)

1061 
scÜe
;

1062 
num_sccs
, 
lim™
;

1063 
Node
 *
tmp
;

1065 
num_sccs
 = 0;

1066 
tmp
 = 
şu¡”
.
scc_li¡
->
h—d
;m°!ğ
NULL
;m°ğtmp->
Ãxt
) {

1067 
num_sccs
++;

1070 
lim™
 = 8;

1071 
scÜe
 = 0;

1073 ià(
şu¡”
.
di¡šù_acûss
 > 
lim™
 || 
num_sccs
 <= 1)  0;

1074 
scÜe
 = ((
şu¡”
.
num_acûss
 - clu¡”.
di¡šù_acûss
)/() cluster.num_access

1075 + (
şu¡”
.
¥©Ÿl_acûss
 + clu¡”.
šv¬ŸÁ_acûss
)/(èşu¡”.
num_acûss
);

1077  
scÜe
;

1078 
	}
}

1085 
	$g‘_scÜe_·¿Î–
(
SccClu¡”
 
şu¡”
)

1088 
scÜe
;

1089 
scÜe
 = 
şu¡”
.
is_·¿Î–
;

1091  
scÜe
;

1092 
	}
}

1096 
boŞ
 
	$¶uto_m©rix_di¡šù_acûss_check
(
PlutoM©rix
 *
m©_1
, PlutoM©rix *
m©_2
)

1099 
i
, 
j
;

1100 
n_rows
, 
n_cŞs
;

1103 
	`as£¹
(
m©_1
->
Äows
 =ğ
m©_2
->Äow && m©_1->
ncŞs
 == mat_2->ncols);

1105 
n_rows
 = 
m©_1
->
Äows
;

1106 
n_cŞs
 = 
m©_1
->
ncŞs
;

1107 
i
=0; i<
n_rows
-1; i++) {

1108 
j
=0; j<
n_cŞs
; j++) {

1109 ià(
m©_1
->
v®
[
i
][
j
] !ğ
m©_2
->v®[i][j]è 
çl£
;

1113 
j
=0; j<
n_cŞs
-1; j++) {

1114 ià(
m©_1
->
v®
[
n_rows
-1][
j
] !ğ
m©_2
->v®[n_rows-1][j]è 
çl£
;

1117  
Œue
;

1118 
	}
}

1128 
	$g‘_di¡šù_acûs£s
(
PlutoProg
 *
´og
, 
boŞ
 *
¡mts_to_cÚsid”
)

1131 
i
, 
j
, 
k
;

1132 
Stmt
 *
¡mt
;

1133 
di¡šù_acûs£s
, 
num_acûs£s
;

1134 
PlutoAcûss
 **
acûs£s
, *
acûss_1
, *
acûss_2
;

1135 
boŞ
 *
acûss_to_ª®yze
;

1137 
num_acûs£s
 = 0;

1139 
i
=0; i<
´og
->
n¡mts
; i++) {

1141 ià(!
¡mts_to_cÚsid”
[
i
]) ;

1143 
¡mt
 = 
´og
->
¡mts
[
i
];

1144 
num_acûs£s
 +ğ
¡mt
->
Ä—ds
 + stmt->
nwr™es
;

1148 
acûs£s
 = (
PlutoAcûss
**è
	`m®loc
((PlutoAcûss*è* 
num_acûs£s
);

1149 
acûss_to_ª®yze
 = (
boŞ
 *è
	`m®loc
((boŞè* 
num_acûs£s
);

1150 
k
 = 0;

1151 
i
=0; i<
´og
->
n¡mts
; i++) {

1153 ià(!
¡mts_to_cÚsid”
[
i
]) ;

1155 
¡mt
 = 
´og
->
¡mts
[
i
];

1156 
j
=0; j<
¡mt
->
Ä—ds
; j++) {

1157 
acûss_to_ª®yze
[
k
] = 
çl£
;

1158 
acûs£s
[
k
++] = 
¡mt
->
»ads
[
j
];

1160 
j
=0; j<
¡mt
->
nwr™es
; j++) {

1161 
acûss_to_ª®yze
[
k
] = 
çl£
;

1162 
acûs£s
[
k
++] = 
¡mt
->
wr™es
[
j
];

1167 
di¡šù_acûs£s
 = 
num_acûs£s
;

1168 
i
=0; i<
num_acûs£s
; i++) {

1169 
acûss_to_ª®yze
[
i
] = 
Œue
;

1170 
j
=
i
+1; j<
num_acûs£s
; j++) {

1171 
acûss_1
 = 
acûs£s
[
i
];

1172 
acûss_2
 = 
acûs£s
[
j
];

1174 ià(
	`¡rcmp
(
acûss_1
->
Çme
, 
acûss_2
->Çmeè|| 
acûss_to_ª®yze
[
j
]) ;

1176 if(
	`¶uto_m©rix_di¡šù_acûss_check
(
acûss_1
->
m©
, 
acûss_2
->mat)) {

1177 
di¡šù_acûs£s
--;

1178 
acûss_to_ª®yze
[
j
] = 
Œue
;

1182 
	`ä“
(
acûs£s
);

1183 
	`ä“
(
acûss_to_ª®yze
);

1185  
di¡šù_acûs£s
;

1186 
	}
}

1194 
	$upd©e_acûss_šfÜm©iÚ
(
PlutoProg
 *
´og
, 
boŞ
 *
¡mts_to_cÚsid”
, 
SccClu¡”
 *
şu¡”
)

1197 
i
, 
j
, 
k
, 
n_loİs
;

1198 
Stmt
 *
¡mt
, **
¡mts
;

1200 
¡mts
 = 
´og
->stmts;

1201 
şu¡”
->
šv¬ŸÁ_acûss
 = 0;

1202 
şu¡”
->
¥©Ÿl_acûss
 = 0;

1203 
şu¡”
->
is_veùÜizabË
 = 
çl£
;

1204 
şu¡”
->
num_acûss
 = 0;

1205 
şu¡”
->
di¡šù_acûss
 = 
	`g‘_di¡šù_acûs£s
(
´og
, 
¡mts_to_cÚsid”
);

1207 
i
 = 0; i < 
´og
->
n¡mts
; i++) {

1209 ià(!
¡mts_to_cÚsid”
[
i
]) ;

1210 
¡mt
 = 
¡mts
[
i
];

1211 
n_loİs
 = 
¡mt
->
Üig_Œªs
->
ncŞs
 - 
´og
->
Å¬
 - 1;

1213 
şu¡”
->
num_acûss
 +ğ
¡mt
->
Ä—ds
 + stmt->
nwr™es
;

1215 ià(
n_loİs
 == 0) ;

1217 
j
 = 0; j < 
¡mt
->
Ä—ds
; j++) {

1218 
PlutoM©rix
 *
acûss_m©rix
 = 
¡mt
->
»ads
[
j
]->
m©
;

1219 
k
 = 0; k < 
acûss_m©rix
->
Äows
-1; k++) {

1220 ià(
acûss_m©rix
->
v®
[
k
][
n_loİs
-1] != 0) ;

1223 ià(
k
 =ğ
acûss_m©rix
->
Äows
-1) {

1224 ià(
acûss_m©rix
->
v®
[acûss_m©rix->
Äows
-1][
n_loİs
-1] !ğ0è
şu¡”
->
¥©Ÿl_acûss
++;

1225 
şu¡”
->
šv¬ŸÁ_acûss
++;

1229 
j
 = 0; j < 
¡mt
->
nwr™es
; j++) {

1230 
PlutoM©rix
 *
acûss_m©rix
 = 
¡mt
->
wr™es
[
j
]->
m©
;

1231 
k
 = 0; k < 
acûss_m©rix
->
Äows
-1; k++) {

1232 ià(
acûss_m©rix
->
v®
[
k
][
n_loİs
-1] != 0) ;

1235 ià(
k
 =ğ
acûss_m©rix
->
Äows
-1) {

1236 ià(
acûss_m©rix
->
v®
[acûss_m©rix->
Äows
-1][
n_loİs
-1] !ğ0è
şu¡”
->
¥©Ÿl_acûss
++;

1237 
şu¡”
->
šv¬ŸÁ_acûss
++;

1242 
	}
}

1249 
SccClu¡”
* 
	$ü—‹_şu¡”s
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
)

1252 
SccClu¡”
 *
şu¡”s
;

1253 
i
, 
j
, 
n_sccs
;

1254 
boŞ
 *
¡mts_to_cÚsid”
;

1256 
n_sccs
 = 
ddg
->
num_sccs
;

1257 
şu¡”s
 = (
SccClu¡”
 *è
	`m®loc
((SccClu¡”è* 
n_sccs
);

1259 
i
 = 0; i < 
n_sccs
; i++) {

1260 
Stmt
 **
¡mts
;

1261 
n_¡mts
;

1262 *
v”tiûs
;

1264 
v”tiûs
 = 
ddg
->
sccs
[
i
].vertices;

1265 
n_¡mts
 = 
ddg
->
sccs
[
i
].
size
;

1266 
¡mts
 = (
Stmt
 **è
	`m®loc
((Stmˆ*è* 
n_¡mts
);

1267 
¡mts_to_cÚsid”
 = (
boŞ
 *è
	`m®loc
((boŞè* 
´og
->
n¡mts
);

1268 
j
 = 0; j < 
´og
->
n¡mts
; j++) {

1269 
¡mts_to_cÚsid”
[
j
] = 
çl£
;

1273 
j
 = 0; j < 
n_¡mts
; j++) {

1274 
¡mts
[
j
] = 
´og
->¡mts[
v”tiûs
[j]];

1275 
¡mts_to_cÚsid”
[
v”tiûs
[
j
]] = 
Œue
;

1279 
	`upd©e_acûss_šfÜm©iÚ
(
´og
, 
¡mts_to_cÚsid”
, &
şu¡”s
[
i
]);

1282 
şu¡”s
[
i
].
is_·¿Î–
 = (
	`g‘_sŞvab™y_¡©us
(
´og
, 
ddg
, 
¡mts_to_cÚsid”
è=ğ
PARALLEL_HYPERPLANE
);

1283 
şu¡”s
[
i
].
g¿nuÏr™y
 = 
n_¡mts
;

1284 
şu¡”s
[
i
].
scc_li¡
 = 
	`ü—‹_em±y_li¡
();

1285 
	`push_node_to_li¡
(
şu¡”s
[
i
].
scc_li¡
, i);

1287 
	`ä“
(
¡mts_to_cÚsid”
);

1290  
şu¡”s
;

1291 
	}
}

1298 
SccClu¡”
 
	$cİy_şu¡”
(
SccClu¡”
 
şu¡”
)

1300 
SccClu¡”
 
cİy
;

1301 
Node
 *
tmp
;

1303 
cİy
.
šv¬ŸÁ_acûss
 = 
şu¡”
.invariant_access;

1304 
cİy
.
¥©Ÿl_acûss
 = 
şu¡”
.spatial_access;

1305 
cİy
.
is_veùÜizabË
 = 
şu¡”
.is_vectorizable;

1306 
cİy
.
is_·¿Î–
 = 
şu¡”
.is_parallel;

1307 
cİy
.
g¿nuÏr™y
 = 
şu¡”
.granularity;

1308 
cİy
.
di¡šù_acûss
 = 
şu¡”
.distinct_access;

1309 
cİy
.
num_acûss
 = 
şu¡”
.num_access;

1310 
cİy
.
scc_li¡
 = 
	`ü—‹_em±y_li¡
();

1312 
	`as£¹
(
şu¡”
.
scc_li¡
 !ğ
NULL
);

1313 
tmp
 = (
şu¡”
.
scc_li¡
)->
h—d
;m°!ğ
NULL
;m°ğtmp->
Ãxt
) {

1314 
	`push_node_to_li¡
(
cİy
.
scc_li¡
, 
tmp
->
d©a
);

1317  
cİy
;

1318 
	}
}

1327 
boŞ
 
	$combše_şu¡”s
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
SccClu¡”
 
şu¡”_1
, SccClu¡” 
şu¡”_2
,

1328 
SccClu¡”
 *
şu¡”
, (*
g‘_scÜe
)(SccCluster))

1331 
i
;

1332 
scÜe
, 
scÜe_1
, 
scÜe_2
;

1333 
SŞvab™y
 
¡©us
;

1334 
boŞ
 *
¡mts_1
, *
¡mts_2
, *
¡mts
;

1336 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "\nTryingo combinehe following clusters:\n"));

1337 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "Clu¡” 1:\n"); 
	`´št_şu¡”
(
şu¡”_1
););

1338 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "Clu¡” 2:\n"); 
	`´št_şu¡”
(
şu¡”_2
););

1341 ià(
şu¡”_1
.
g¿nuÏr™y
 == 0) {

1342 *
şu¡”
 = 
	`cİy_şu¡”
(
şu¡”_2
);

1343  
Œue
;

1345 ià(
şu¡”_2
.
g¿nuÏr™y
 == 0) {

1346 *
şu¡”
 = 
	`cİy_şu¡”
(
şu¡”_1
);

1347  
Œue
;

1350 
¡mts
 = (
boŞ
 *è
	`m®loc
((boŞè* 
´og
->
n¡mts
);

1351 
¡mts_1
 = 
	`g‘_¡mts_äom_şu¡”
(
´og
, 
ddg
, 
şu¡”_1
);

1352 
¡mts_2
 = 
	`g‘_¡mts_äom_şu¡”
(
´og
, 
ddg
, 
şu¡”_2
);

1353 
i
=0; i<
´og
->
n¡mts
; i++) {

1354 
¡mts
[
i
] = 
¡mts_1
[i] || 
¡mts_2
[i];

1356 
	`ä“
(
¡mts_1
);

1357 
	`ä“
(
¡mts_2
);

1360 
¡©us
 = 
	`g‘_sŞvab™y_¡©us
(
´og
, 
ddg
, 
¡mts
);

1361 ià(
¡©us
 =ğ
NO_HYPERPLANE
) {

1362 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "No solutionƒxists!!!\n"));

1363 
	`ä“
(
¡mts
);

1364  
çl£
;

1366 ià(
¡©us
 =ğ
SEQUENTIAL_HYPERPLANE
) {

1367 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "Sequential hyperplaneƒxists.\n"));

1368 
şu¡”
->
is_·¿Î–
 = 
çl£
;

1371 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "Parallel hyperplaneƒxists.\n"));

1372 
şu¡”
->
is_·¿Î–
 = 
Œue
;

1375 
şu¡”
->
šv¬ŸÁ_acûss
 = 
şu¡”_1
.šv¬ŸÁ_acûs + 
şu¡”_2
.invariant_access;

1376 
şu¡”
->
¥©Ÿl_acûss
 = 
şu¡”_1
.¥©Ÿl_acûs + 
şu¡”_2
.spatial_access;

1377 
şu¡”
->
is_veùÜizabË
 = 
şu¡”_1
.is_veùÜizabË && 
şu¡”_2
.is_vectorizable;

1378 
şu¡”
->
g¿nuÏr™y
 = 
şu¡”_1
.g¿nuÏr™y + 
şu¡”_2
.granularity;

1379 
şu¡”
->
num_acûss
 = 
şu¡”_1
.num_acûs + 
şu¡”_2
.num_access;

1380 
şu¡”
->
di¡šù_acûss
 = 
	`g‘_di¡šù_acûs£s
(
´og
, 
¡mts
);

1382 
scÜe
 = (*
g‘_scÜe
)(*
şu¡”
);

1383 
scÜe_1
 = (*
g‘_scÜe
)(
şu¡”_1
);

1384 
scÜe_2
 = (*
g‘_scÜe
)(
şu¡”_2
);

1385 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "şu¡”_1 scÜe: %lf, clu¡”_2 scÜe: %lf, combšed scÜe:%lf\n", 
scÜe_1
, 
scÜe_2
, 
scÜe
));

1386 ià(
scÜe
 < 
scÜe_1
 || scÜ< 
scÜe_2
) {

1387 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "Combining clusters REDUCED_SCORE\n"));

1388 
	`ä“
(
¡mts
);

1389  
çl£
;

1392 
şu¡”
->
scc_li¡
 = 
	`m”ge_li¡s
(
şu¡”_1
.scc_li¡, 
şu¡”_2
.scc_list);

1393 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "Combšed Clu¡”:\n"); 
	`´št_şu¡”
(*
şu¡”
););

1394 
	`IF_DEBUG
(
	`årštf
(
¡d”r
, "Above clusters‡re fusable without„educing score.\n"));

1395 
	`ä“
(
¡mts
);

1396  
Œue
;

1397 
	}
}

1403 
SccClu¡”
 
	$ü—‹_em±y_şu¡”
()

1405 
SccClu¡”
 
şu¡”
;

1407 
şu¡”
.
šv¬ŸÁ_acûss
 = 0;

1408 
şu¡”
.
¥©Ÿl_acûss
 = 0;

1409 
şu¡”
.
is_veùÜizabË
 = 
Œue
;

1410 
şu¡”
.
is_·¿Î–
 = 
Œue
;

1411 
şu¡”
.
g¿nuÏr™y
 = 0;

1412 
şu¡”
.
di¡šù_acûss
 = 0;

1413 
şu¡”
.
num_acûss
 = 0;

1414 
şu¡”
.
scc_li¡
 = 
	`ü—‹_em±y_li¡
();

1416  
şu¡”
;

1417 
	}
}

1423 
SccClu¡”
 *
	$group_şu¡”s
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, G¿ph *
şu¡”_g¿ph
,

1424 
SccClu¡”
 *
şu¡”s
,*
n_groups
,(*
g‘_scÜe
)(SccCluster))

1427 
i
,
j
, 
n_·¹™iÚed_šdex
, 
n_şu¡”s
;

1428 
SccClu¡”
 
tmp_groups
[
şu¡”_g¿ph
->
nV”tiûs
], *
şu¡”_groups
;

1429 
št64
 
šdeg»e
[
şu¡”_g¿ph
->
nV”tiûs
];

1430 
boŞ
 
is_·¹™iÚed
[
şu¡”_g¿ph
->
nV”tiûs
];

1431 
PlutoM©rix
 *
adjaûncy
;

1432 
boŞ
 
¡©us
;

1434 
adjaûncy
 = 
şu¡”_g¿ph
->
adj
;

1435 
n_şu¡”s
 = 
şu¡”_g¿ph
->
nV”tiûs
;

1436 
n_·¹™iÚed_šdex
 = 0;

1439 
i
 = 0; i < 
n_şu¡”s
; i++) {

1440 
šdeg»e
[
i
] = 0;

1441 
j
 = 0; j < 
n_şu¡”s
; j++) {

1442 ià(
adjaûncy
->
v®
[
j
][
i
]è
šdeg»e
[i]++;

1447 
i
 = 0; i < 
n_şu¡”s
; i++) {

1448 
is_·¹™iÚed
[
i
] = 
çl£
;

1451 
Œue
) {

1452 
SccClu¡”
 
cu¼’t_şu¡”
;

1455 
i
 = 0; i < 
n_şu¡”s
; i++) {

1456 ià(!
is_·¹™iÚed
[
i
]) ;

1459 ià(
i
 =ğ
n_şu¡”s
) ;

1461 
cu¼’t_şu¡”
 = 
	`ü—‹_em±y_şu¡”
();

1463 
Œue
) {

1464 
SccClu¡”
 
»suÉ
;

1465 
št64
 
şu¡”_to_combše
;

1466 
max_scÜe
;

1470 
max_scÜe
 = -1;

1471 
şu¡”_to_combše
 = -1;

1472 
i
 = 0; i < 
n_şu¡”s
; i++) {

1473 
SccClu¡”
 
tmp
;

1474 ià(!
is_·¹™iÚed
[
i
] && 
šdeg»e
[i] == 0) {

1475 
¡©us
 = 
	`combše_şu¡”s
(
´og
, 
ddg
, 
cu¼’t_şu¡”
, 
şu¡”s
[
i
], &
tmp
, 
g‘_scÜe
);

1476 ià(
¡©us
 && 
max_scÜe
 < (*
g‘_scÜe
)(
tmp
)) {

1477 
»suÉ
 = 
tmp
;

1478 
max_scÜe
 = (*
g‘_scÜe
)(
tmp
);

1479 
şu¡”_to_combše
 = 
i
;

1483 ià(
şu¡”_to_combše
 == -1) ;

1486 
	`d—Îoÿ‹_li¡
(
cu¼’t_şu¡”
.
scc_li¡
);

1487 
cu¼’t_şu¡”
 = 
»suÉ
;

1488 
is_·¹™iÚed
[
şu¡”_to_combše
] = 
Œue
;

1490 
i
 = 0; i < 
n_şu¡”s
; i++) {

1491 ià(
adjaûncy
->
v®
[
şu¡”_to_combše
][
i
]è
šdeg»e
[i]--;

1496 
tmp_groups
[
n_·¹™iÚed_šdex
++] = 
cu¼’t_şu¡”
;

1499 *
n_groups
 = 
n_·¹™iÚed_šdex
;

1500 
şu¡”_groups
 = (
SccClu¡”
 *)
	`m®loc
((SccClu¡”è* 
n_·¹™iÚed_šdex
);

1501 
i
 = 0; i < 
n_·¹™iÚed_šdex
; i++) {

1502 
şu¡”_groups
[
i
] = 
tmp_groups
[i];

1505  
şu¡”_groups
;

1506 
	}
}

1513 
št64
 *
	$g‘_·¹™iÚ
(
SccClu¡”
 *
şu¡”_groups
, 
n_groups
, 
n_sccs
)

1515 
št64
 *
·¹™iÚ
;

1516 
SccClu¡”
 
şu¡”
;

1517 
Node
 *
™
;

1518 
i
;

1520 
·¹™iÚ
 = (
št64
 *è
	`m®loc
((št64è* 
n_sccs
);

1521 
i
 = 0; i < 
n_groups
; i++) {

1522 
şu¡”
 = 
şu¡”_groups
[
i
];

1523 
	`as£¹
(
şu¡”
.
scc_li¡
 !ğ
NULL
);

1524 
™
 = (
şu¡”
.
scc_li¡
)->
h—d
; iˆ!ğ
NULL
; iˆğ™->
Ãxt
) {

1525 
·¹™iÚ
[
™
->
d©a
] = 
i
;

1529  
·¹™iÚ
;

1530 
	}
}

1535 
boŞ
 
	$cut_ba£d_Ú_co¡_mod–
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, (*
g‘_scÜe
)(
SccClu¡”
))

1538 
G¿ph
 *
g¿ph
;

1539 
SccClu¡”
 *
şu¡”s
, *
şu¡”_groups
;

1540 
št64
 *
·¹™iÚ
;

1541 
n_sccs
, 
i
, 
n_groups
;

1542 
boŞ
 
¡©us
;

1544 
n_sccs
 = 
ddg
->
num_sccs
;

1545 
¡©us
 = 
çl£
;

1548 
şu¡”s
 = 
	`ü—‹_şu¡”s
(
´og
, 
ddg
);

1551 
g¿ph
 = 
	`cÚ¡ruù_şu¡”_g¿ph
(
´og
, 
ddg
, 
şu¡”s
, 
n_sccs
);

1552 
	`Œªs™ive_şosu»
(
g¿ph
);

1555 
şu¡”_groups
 = 
	`group_şu¡”s
(
´og
, 
ddg
, 
g¿ph
, 
şu¡”s
, &
n_groups
, 
g‘_scÜe
);

1558 ià(
n_groups
 > 1) {

1559 
·¹™iÚ
 = 
	`g‘_·¹™iÚ
(
şu¡”_groups
, 
n_groups
, 
n_sccs
);

1560 
	`cut_ba£d_Ú_·¹™iÚ
(
´og
, 
ddg
, 
·¹™iÚ
);

1561 
	`ä“
(
·¹™iÚ
);

1562 
¡©us
 = 
Œue
;

1566 
i
 = 0; i < 
n_groups
; i++) {

1567 
	`d—Îoÿ‹_li¡
(
şu¡”_groups
[
i
].
scc_li¡
);

1569 
	`ä“
(
şu¡”_groups
);

1571 
i
 = 0; i < 
n_sccs
; i++) {

1572 
	`d—Îoÿ‹_li¡
(
şu¡”s
[
i
].
scc_li¡
);

1574 
	`ä“
(
şu¡”s
);

1576  
¡©us
;

1577 
	}
}

1582 
	$cut_©_·¿Î–ism_loss
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
)

1584 
	`cut_ba£d_Ú_co¡_mod–
(
´og
, 
ddg
, &
g‘_scÜe_·¿Î–
);

1585 
	}
}

1596 
PlutoCÚ¡¿šts
 *
	$g‘_lš—r_šd_cÚ¡¿šts
(cÚ¡ 
PlutoProg
 *
´og
,

1597 cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
boŞ
 
lš_šd_mode
)

1599 
Å¬
, 
nv¬
, 
n¡mts
, 
i
, 
j
, 
k
, 
Üthosum
;

1600 
ÜthÚum
[
´og
->
n¡mts
];

1601 
PlutoCÚ¡¿šts
 ***
Üthc¡
;

1602 
Stmt
 **
¡mts
;

1604 
	`IF_DEBUG
(
	`´štf
("[pluto] get_linear_ind_constraints\n"););

1606 
Å¬
 = 
´og
->npar;

1607 
nv¬
 = 
´og
->nvar;

1608 
n¡mts
 = 
´og
->nstmts;

1609 
¡mts
 = 
´og
->stmts;

1611 
Üthc¡
 = (
PlutoCÚ¡¿šts
 ***è
	`m®loc
(
n¡mts
*(PlutoConstraints **));

1613 
Üthosum
 = 0;

1616 
j
=0; j<
n¡mts
; j++) {

1617 
Üthc¡
[
j
] = 
	`g‘_¡mt_Ütho_cÚ¡¿šts
(
¡mts
[j],

1618 
´og
, 
c¡
, &
ÜthÚum
[
j
]);

1619 
Üthosum
 +ğ
ÜthÚum
[
j
];

1622 
PlutoCÚ¡¿šts
 *
šdc¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(1, 
CST_WIDTH
);

1624 ià(
Üthosum
 >= 1) {

1625 ià(
lš_šd_mode
 =ğ
EAGER
) {

1627 
j
=0; j<
n¡mts
; j++) {

1628 ià(
ÜthÚum
[
j
] >= 1) {

1629 
	`IF_DEBUG2
(
	`´štf
("Added o¹hØcÚ¡¿št fÜ S%d\n", 
j
+1););

1630 
	`¶uto_cÚ¡¿šts_add
(
šdc¡
, 
Üthc¡
[
j
][
ÜthÚum
[j]-1]);

1634 
	`as£¹
(
lš_šd_mode
 =ğ
LAZY
);

1636 
i
=0; i<
´og
->
n¡mts
; i++) {

1638 ià(
ÜthÚum
[
i
] >= 1) {

1639 
j
=0; j<
CST_WIDTH
-1; j++) {

1640 
šdc¡
->
v®
[0][
j
] +ğ
Üthc¡
[
i
][
ÜthÚum
[i]-1]->val[0][j];

1644 
šdc¡
->
v®
[0][
CST_WIDTH
-1] = -1;

1645 
šdc¡
->
Äows
 = 1;

1646 
	`IF_DEBUG2
(
	`´štf
("Added \"at†east one\"†inear ind constraints\n"););

1647 
	`IF_DEBUG2
(
	`¶uto_cÚ¡¿šts_´‘ty_´št
(
¡dout
, 
šdc¡
););

1651 
j
=0; j<
n¡mts
; j++) {

1652 
k
=0; k<
ÜthÚum
[
j
]; k++) {

1653 
	`¶uto_cÚ¡¿šts_ä“
(
Üthc¡
[
j
][
k
]);

1655 
	`ä“
(
Üthc¡
[
j
]);

1657 
	`ä“
(
Üthc¡
);

1659  
šdc¡
;

1660 
	}
}

1672 
	$fšd_³rmubË_hy³½ÏÃs
(
PlutoProg
 *
´og
, 
boŞ
 
hyp_£¬ch_mode
,

1673 
max_sŞs
, 
bªd_d•th
)

1675 
num_sŞs_found
, 
j
, 
k
;

1676 
št64
 *
be¡sŞ
;

1677 
PlutoCÚ¡¿šts
 *
ba£c¡
, *
nzc¡
, *
boundc¡
;

1678 
PlutoCÚ¡¿šts
 *
cu¼c¡
;

1680 
n¡mts
 = 
´og
->nstmts;

1681 
Stmt
 **
¡mts
 = 
´og
->stmts;

1682 
nv¬
 = 
´og
->nvar;

1683 
Å¬
 = 
´og
->npar;

1685 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "[¶uto] fšd_³rmubË_hy³½ÏÃs: max sŞutiÚ(s): %d; bªd d•th: %d\n", 
max_sŞs
, 
bªd_d•th
));

1687 
	`as£¹
(
max_sŞs
 >= 0);

1689 ià(
max_sŞs
 == 0)  0;

1692 
ba£c¡
 = 
	`g‘_³rmub™y_cÚ¡¿šts
(
´og
);

1693 
boundc¡
 = 
	`g‘_cÛff_boundšg_cÚ¡¿šts
(
´og
);

1694 
	`¶uto_cÚ¡¿šts_add
(
ba£c¡
, 
boundc¡
);

1695 
	`¶uto_cÚ¡¿šts_ä“
(
boundc¡
);

1698 
num_sŞs_found
 = 0;

1702 
cu¼c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
ba£c¡
->
Äows
+
n¡mts
+
nv¬
*nstmts,

1703 
CST_WIDTH
);

1706 
	`¶uto_cÚ¡¿šts_cİy
(
cu¼c¡
, 
ba£c¡
);

1707 
nzc¡
 = 
	`g‘_nÚ_ŒivŸl_sŞ_cÚ¡¿šts
(
´og
, 
hyp_£¬ch_mode
);

1708 
	`¶uto_cÚ¡¿šts_add
(
cu¼c¡
, 
nzc¡
);

1709 
	`¶uto_cÚ¡¿šts_ä“
(
nzc¡
);

1711 
PlutoCÚ¡¿šts
 *
šdc¡
 = 
	`g‘_lš—r_šd_cÚ¡¿šts
(
´og
, 
cu¼c¡
, 
hyp_£¬ch_mode
);

1713 
	`IF_DEBUG2
(
	`´štf
("linear independence constraints\n"));

1714 
	`IF_DEBUG2
(
	`¶uto_cÚ¡¿šts_´‘ty_´št
(
¡dout
, 
šdc¡
););

1716 ià(
šdc¡
->
Äows
 == 0) {

1720 
	`IF_DEBUG
(
	`´štf
("No†inearly independent„ows\n"););

1721 
be¡sŞ
 = 
NULL
;

1723 
	`¶uto_cÚ¡¿šts_add
(
cu¼c¡
, 
šdc¡
);

1724 
	`IF_DEBUG
(
	`´štf
("[¶uto] (Bªd %dèSŞvšg fÜ hy³½ÏÃ #%d\n", 
bªd_d•th
+1, 
num_sŞs_found
+1));

1726 
be¡sŞ
 = 
	`¶uto_´og_cÚ¡¿šts_Ëxmš
(
cu¼c¡
, 
´og
);

1728 
	`¶uto_cÚ¡¿šts_ä“
(
šdc¡
);

1730 ià(
be¡sŞ
 !ğ
NULL
) {

1731 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "[pluto] find_permutable_hyperplanes: found‡ hyperplane\n"));

1732 
num_sŞs_found
++;

1734 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_LOOP
);

1736 
j
=0; j<
n¡mts
; j++) {

1737 
Stmt
 *
¡mt
 = 
¡mts
[
j
];

1738 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mt
, 
H_UNKNOWN
, stmt->
Œªs
->
Äows
);

1739 
k
=0; k<
nv¬
; k++) {

1740 
¡mt
->
Œªs
->
v®
[¡mt->Œªs->
Äows
-1][
k
] =

1741 
be¡sŞ
[
Å¬
+1+
j
*(
nv¬
+1)+
k
];

1744 
k
=
nv¬
; k<nv¬+
Å¬
; k++) {

1745 
¡mt
->
Œªs
->
v®
[¡mt->Œªs->
Äows
-1][
k
] = 0;

1747 
¡mt
->
Œªs
->
v®
[¡mt->Œªs->
Äows
-1][
nv¬
+
Å¬
] =

1748 
be¡sŞ
[
Å¬
+1+
j
*(
nv¬
+1)+nvar];

1750 
¡mt
->
hyp_ty³s
[¡mt->
Œªs
->
Äows
-1] =

1751 
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
¡mt
, stmt->
Œªs
->
Äows
-1)?

1752 
H_SCALAR
: 
H_LOOP
;

1755 
	`ä“
(
be¡sŞ
);

1756 
	`IF_DEBUG
(
	`¶uto_ŒªsfÜm©iÚ_´št_Ëv–
(
´og
,…rog->
num_hy³½ÏÃs
-1););

1758 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "[pluto] find_permutable_hyperplanes: No hyperplane found\n"));

1760 }
num_sŞs_found
 < 
max_sŞs
 && 
be¡sŞ
 !ğ
NULL
);

1762 
	`¶uto_cÚ¡¿šts_ä“
(
cu¼c¡
);

1765  
num_sŞs_found
;

1766 
	}
}

1769 
št64
* 
	$g‘_be¡_sŞutiÚ
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
boŞ
 *
¡mts_to_cÚsid”
)

1771 
št64
 *
be¡sŞ
;

1772 
PlutoCÚ¡¿šts
 *
ba£c¡
, *
nzc¡
, *
boundc¡
;

1773 
PlutoCÚ¡¿šts
 *
cu¼c¡
;

1775 
n¡mts
 = 
´og
->nstmts;

1776 
nv¬
 = 
´og
->nvar;

1777 
Å¬
 = 
´og
->npar;

1780 
ba£c¡
 = 
	`g‘_£Ëùive_³rmub™y_cÚ¡¿šts
(
´og
, 
¡mts_to_cÚsid”
);

1781 
boundc¡
 = 
	`g‘_£Ëùive_cÛff_boundšg_cÚ¡¿šts
(
´og
, 
¡mts_to_cÚsid”
);

1783 
	`¶uto_cÚ¡¿šts_add
(
ba£c¡
, 
boundc¡
);

1784 
	`¶uto_cÚ¡¿šts_ä“
(
boundc¡
);

1790 
cu¼c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
ba£c¡
->
Äows
+
n¡mts
+
nv¬
*nstmts,

1791 
CST_WIDTH
);

1793 
	`¶uto_cÚ¡¿šts_cİy
(
cu¼c¡
, 
ba£c¡
);

1794 
nzc¡
 = 
	`g‘_£Ëùive_nÚ_ŒivŸl_sŞ_cÚ¡¿šts
(
´og
, 
EAGER
, 
¡mts_to_cÚsid”
);

1795 
	`¶uto_cÚ¡¿šts_add
(
cu¼c¡
, 
nzc¡
);

1796 
	`¶uto_cÚ¡¿šts_ä“
(
nzc¡
);

1798 
be¡sŞ
 = 
	`¶uto_´og_cÚ¡¿šts_Ëxmš
(
cu¼c¡
, 
´og
);

1799 
	`¶uto_cÚ¡¿šts_ä“
(
cu¼c¡
);

1802  
be¡sŞ
;

1803 
	}
}

1809 
	$g‘_loİ_ty³
(
Stmt
 *
¡mt
, 
Ëv–
)

1811 
j
;

1813 
j
=0; j<
¡mt
->
Œªs
->
ncŞs
-1; j++) {

1814 ià(
¡mt
->
Œªs
->
v®
[
Ëv–
][
j
] > 0) {

1815  
H_LOOP
;

1819  
H_SCALAR
;

1820 
	}
}

1824 
boŞ
 
	$´ecut
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
d•th
)

1826 
ncomps
;

1828 
n¡mts
 = 
´og
->nstmts;

1830 
¡mtG½
[
n¡mts
][nstmts];

1831 
g½CouÁ
[
n¡mts
];

1833 
i
, 
j
, 
k
;

1835 ià(
d•th
 !ğ0è 
çl£
;

1837 
Stmt
 **
¡mts
 = 
´og
->stmts;

1838 
nv¬
 = 
´og
->nvar;

1839 
Å¬
 = 
´og
->npar;

1841 
FILE
 *
cutFp
 = 
	`fİ’
(".fst", "r");

1843 ià(
cutFp
) {

1844 
te
;

1846 
	`fsÿnf
(
cutFp
, "%d", &
ncomps
);

1848 ià(
ncomps
 > 
n¡mts
) {

1849 
	`´štf
("You have‡n .fst in your directoryhat is invalid forhis source\n");

1850 
	`´štf
("No fusion/distribution forced\n");

1851  
çl£
;

1854 
i
=0; i<
ncomps
; i++) {

1855 
	`fsÿnf
(
cutFp
, "%d", &
g½CouÁ
[
i
]);

1856 
	`as£¹
(
g½CouÁ
[
i
] <ğ
n¡mts
);

1857 
j
=0; j<
g½CouÁ
[
i
]; j++) {

1858 
	`fsÿnf
(
cutFp
, "%d", &
¡mtG½
[
i
][
j
]);

1859 
	`as£¹
(
¡mtG½
[
i
][
j
] <ğ
n¡mts
-1);

1861 
	`fsÿnf
(
cutFp
, "%d", &
te
);

1862 
j
=0; j<
g½CouÁ
[
i
]; j++)

1863 
k
=0; k<
¡mts
[
¡mtG½
[
i
][
j
]]->
dim_Üig
; k++)

1864 
¡mts
[
¡mtG½
[
i
][
j
]]->
te
 =ile;

1867 
	`fşo£
(
cutFp
);

1870 
i
=0; i<
n¡mts
; i++) {

1871 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_SCALAR
, stmts[i]->
Œªs
->
Äows
);

1874 
i
=0; i<
ncomps
; i++) {

1875 
j
=0; j<
g½CouÁ
[
i
]; j++) {

1876 
id
 = 
¡mtG½
[
i
][
j
];

1877 
k
=0; k<
nv¬
+
Å¬
; k++) {

1878 
¡mts
[
id
]->
Œªs
->
v®
[¡mts[id]->Œªs->
Äows
-1][
k
] = 0;

1880 
¡mts
[
id
]->
Œªs
->
v®
[¡mts[id]->Œªs->
Äows
-1][
nv¬
+
Å¬
] = 
i
;

1884 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_SCALAR
);

1886 
	`d•_§tisçùiÚ_upd©e
(
´og
,…rog->
num_hy³½ÏÃs
-1);

1887 
	`ddg_upd©e
(
ddg
, 
´og
);

1889  
Œue
;

1891 
FILE
 *
´ecut
 = 
	`fİ’
(".precut", "r");

1892 
ignÜe
, 
rows
, 
cŞs
, 
te
, 
tšg_d•th
;

1894 ià(
´ecut
) {

1896 
	`fsÿnf
(
´ecut
, "%d", &
ignÜe
);

1898 
	`as£¹
(
ignÜe
 =ğ
´og
->
n¡mts
);

1901 
	`fsÿnf
(
´ecut
, "%d", &
tšg_d•th
);

1903 
i
=0; i<
´og
->
n¡mts
; i++) {

1905 
	`fsÿnf
(
´ecut
, "%d", &
rows
);

1906 
	`fsÿnf
(
´ecut
, "%d", &
cŞs
);

1908 
k
=0; k<
rows
; k++) {

1911 
	`as£¹
(
cŞs
 =ğ1+
¡mts
[
i
]->
dim_Üig
+
Å¬
+1);

1914 
	`fsÿnf
(
´ecut
, "%d", &
ignÜe
);

1915 
	`as£¹
(
ignÜe
 == 0);

1917 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_UNKNOWN
, stmts[i]->
Œªs
->
Äows
);

1919 
j
=0; j<
nv¬
; j++) {

1920 ià(
¡mts
[
i
]->
is_Üig_loİ
[
j
]) {

1921 
	`fsÿnf
(
´ecut
, "%Îd", &
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
j
]);

1923 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
j
] = 0;

1926 
j
=0; j<
Å¬
; j++) {

1927 
	`fsÿnf
(
´ecut
, "%d", &
ignÜe
);

1928 
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
nv¬
+
j
] = 0;

1931 
	`fsÿnf
(
´ecut
, "%Îd", &
¡mts
[
i
]->
Œªs
->
v®
[¡mts[i]->Œªs->
Äows
-1][
nv¬
+
Å¬
]);

1932 ià(
	`g‘_loİ_ty³
(
¡mts
[
i
], stmts[i]->
Œªs
->
Äows
-1)

1933 =ğ
H_LOOP
) {

1934 
¡mts
[
i
]->
hyp_ty³s
[¡mts[i]->
Œªs
->
Äows
-1] = 
H_LOOP
;

1936 
¡mts
[
i
]->
hyp_ty³s
[¡mts[i]->
Œªs
->
Äows
-1] = 
H_SCALAR
;

1942 
	`fsÿnf
(
´ecut
, "%d", &
ignÜe
);

1946 
j
=0; j<
tšg_d•th
; j++) {

1947 
	`fsÿnf
(
´ecut
, "%d", &
te
);

1949 
¡mts
[
i
]->
te
 =ile;

1953 
k
=0; k<
rows
; k++) {

1954 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_UNKNOWN
);

1955 
i
=0; i<
n¡mts
; i++) {

1956 ià(
	`g‘_loİ_ty³
(
¡mts
[
i
], stmts[0]->
Œªs
->
Äows
-
rows
+
k
)

1957 =ğ
H_LOOP
) {

1958 
´og
->
hPrİs
[´og->
num_hy³½ÏÃs
-1].
ty³
 = 
H_LOOP
;

1960 
´og
->
hPrİs
[´og->
num_hy³½ÏÃs
-1].
ty³
 = 
H_SCALAR
;

1963 
	`d•_§tisçùiÚ_upd©e
(
´og
,…rog->
num_hy³½ÏÃs
-1);

1964 
	`ddg_upd©e
(
ddg
, 
´og
);

1966  
Œue
;

1969  
çl£
;

1971 
	}
}

1974 
	$¶uto_compu‹_d•_dœeùiÚs
(
PlutoProg
 *
´og
)

1976 
i
, 
Ëv–
;

1978 
D•
 **
d•s
 = 
´og
->deps;

1980 
i
=0; i<
´og
->
nd•s
; i++) {

1981 ià(
d•s
[
i
]->
dœvec
 !ğ
NULL
) {

1982 
	`ä“
(
d•s
[
i
]->
dœvec
);

1984 
d•s
[
i
]->
dœvec
 = (
D•Dœ
 *)
	`m®loc
(
´og
->
num_hy³½ÏÃs
*(DepDir));

1985 
Ëv–
=0;†ev– < 
´og
->
num_hy³½ÏÃs
;†evel++) {

1986 
d•s
[
i
]->
dœvec
[
Ëv–
] = 
	`g‘_d•_dœeùiÚ
(d•s[i], 
´og
,†evel);

1989 
	}
}

1991 
	$¶uto_d‘eù_hy³½ÏÃ_ty³s_¡mtwi£
(
PlutoProg
 *
´og
)

1993 
s
, 
i
;

1995 
s
=0; s<
´og
->
n¡mts
; s++) {

1996 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
s
];

1997 
i
=0; i<
¡mt
->
Œªs
->
Äows
; i++) {

1998 
¡mt
->
hyp_ty³s
[
i
] = 
	`¶uto_is_hy³½ÏÃ_loİ
(¡mt, i)? 
H_LOOP
:
H_SCALAR
;

2001 
	}
}

2004 
	$¶uto_d‘eù_hy³½ÏÃ_ty³s
(
PlutoProg
 *
´og
)

2006 
i
, 
d•th
;

2007 
n¡mts
 = 
´og
->nstmts;

2009 
d•th
=0; d•th<
´og
->
num_hy³½ÏÃs
; depth++) {

2010 
i
=0; i<
n¡mts
; i++) {

2011 ià(
	`¶uto_is_hy³½ÏÃ_loİ
(
´og
->
¡mts
[
i
], 
d•th
)) ;

2013 
´og
->
hPrİs
[
d•th
].
ty³
 = (
i
<
n¡mts
)? 
H_LOOP
: 
H_SCALAR
;

2015 
	}
}

2020 
	$¶uto_d‘eù_ŒªsfÜm©iÚ_´İ”t›s
(
PlutoProg
 *
´og
)

2022 
Ëv–
, 
i
, 
j
;

2023 
Stmt
 **
¡mts
 = 
´og
->stmts;

2024 
D•
 **
d•s
 = 
´og
->deps;

2025 
bªd
, 
num_loİs_š_bªd
;

2028 
	`as£¹
(0);

2030 
	`IF_DEBUG
(
	`´štf
("[pluto]…luto_detect_transformation_properties\n"););

2032 ià(
´og
->
n¡mts
 == 0) ;

2034 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
 = 
´og
->hProps;

2036 
	`as£¹
(
´og
->
num_hy³½ÏÃs
 =ğ
¡mts
[0]->
Œªs
->
Äows
);

2041 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

2042 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

2044 
bªd
 = 0;

2045 
num_loİs_š_bªd
 = 0;

2046 
bªdS¹
 = 0;

2048 
Ëv–
=0;†ev– < 
´og
->
num_hy³½ÏÃs
; ) {

2049 
i
=0; i<
´og
->
nd•s
; i++) {

2050 ià(
	`IS_RAR
(
d•s
[
i
]->
ty³
)) ;

2051 ià(
d•s
[
i
]->
§tisçùiÚ_Ëv–
 < 
Ëv–
 &&

2052 
hPrİs
[
d•s
[
i
]->
§tisçùiÚ_Ëv–
].
ty³
 =ğ
H_SCALAR
) ;

2053 ià(
d•s
[
i
]->
§tisçùiÚ_Ëv–
 >ğ
bªdS¹


2054 && 
d•s
[
i
]->
dœvec
[
Ëv–
] !ğ
DEP_ZERO
)

2058 ià(
i
==
´og
->
nd•s
) {

2063 
hPrİs
[
Ëv–
].
d•_´İ
 = 
PARALLEL
;

2064 
hPrİs
[
Ëv–
].
bªd_num
 = 
bªd
;

2065 ià(
hPrİs
[
Ëv–
].
ty³
 !ğ
H_SCALAR
è
num_loİs_š_bªd
++;

2066 
Ëv–
++;

2069 
i
=0; i<
´og
->
nd•s
; i++) {

2070 ià(
	`IS_RAR
(
d•s
[
i
]->
ty³
)) ;

2073 ià(
d•s
[
i
]->
§tisçùiÚ_Ëv–
 < 
Ëv–
 &&

2074 
hPrİs
[
d•s
[
i
]->
§tisçùiÚ_Ëv–
].
ty³
 =ğ
H_SCALAR
) ;

2077 ià(
d•s
[
i
]->
§tisçùiÚ_Ëv–
 >ğ
bªdS¹


2078 && (
d•s
[
i
]->
dœvec
[
Ëv–
] =ğ
DEP_MINUS


2079 || 
d•s
[
i
]->
dœvec
[
Ëv–
] =ğ
DEP_STAR
))

2082 ià(
i
==
´og
->
nd•s
) {

2083 
hPrİs
[
Ëv–
].
d•_´İ
 = 
PIPE_PARALLEL
;

2084 
hPrİs
[
Ëv–
].
bªd_num
 = 
bªd
;

2085 ià(
hPrİs
[
Ëv–
].
ty³
 !ğ
H_SCALAR
è
num_loİs_š_bªd
++;

2087 
Ëv–
++;

2095 ià(
num_loİs_š_bªd
 == 0) {

2096 
	`årštf
(
¡dout
, "[pluto] Unfortunately,heransformation computed has violated‡ dependence.\n");

2097 
	`årštf
(
¡dout
, "\tPlease make surehere is‚o inconsistent/illegal .fst file in your working directory.\n");

2098 
	`årštf
(
¡dout
, "\tIf‚ot,his usually is‡„esult of‡ bug inhe dependenceester,\n");

2099 
	`årštf
(
¡dout
, "\tor‡ bug in Pluto's‡utoransformation.\n");

2100 
	`årštf
(
¡dout
, "\tPlease sendhis input fileohe‡uthor if…ossible.\n");

2101 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

2102 
	`¶uto_´št_hy³½ÏÃ_´İ”t›s
(
´og
);

2103 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

2104 
	`¶uto_´št_d•_dœeùiÚs
(
´og
);

2105 
	`as£¹
(0);

2108 
bªd
++;

2109 
bªdS¹
 = 
Ëv–
;

2110 ià(
num_loİs_š_bªd
 == 1) {

2111 ià(
hPrİs
[
Ëv–
-1].
d•_´İ
 =ğ
PIPE_PARALLEL
)

2112 
hPrİs
[
Ëv–
-1].
d•_´İ
 = 
SEQ
;

2114 
num_loİs_š_bªd
 = 0;

2120 ià(
num_loİs_š_bªd
 == 1) {

2121 ià(
hPrİs
[
Ëv–
-1].
d•_´İ
 =ğ
PIPE_PARALLEL
)

2122 
hPrİs
[
Ëv–
-1].
d•_´İ
 = 
SEQ
;

2130 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

2131 
j
=0; j<
´og
->
nd•s
; j++) {

2132 ià(
	`IS_RAR
(
d•s
[
j
]->
ty³
)) ;

2133 ià(
d•s
[
j
]->
§tisçùiÚ_Ëv–
 >ğ
i
 && d•s[j]->
dœvec
[i] !ğ
DEP_ZERO
) ;

2136 ià(
j
==
´og
->
nd•s
) {

2137 ià(
hPrİs
[
i
].
d•_´İ
 =ğ
PIPE_PARALLEL
) {

2138 
hPrİs
[
i
].
d•_´İ
 = 
PARALLEL
;

2143 
	`¶uto_d‘eù_hy³½ÏÃ_ty³s_¡mtwi£
(
´og
);

2144 
	}
}

2147 
	$¶uto_´št_d•§t_veùÜs
(
PlutoProg
 *
´og
, 
Ëv–s
)

2149 
i
, 
j
;

2150 
D•
 **
d•s
;

2152 
d•s
 = 
´og
->deps;

2154 
	`´štf
("\nSatisfaction vectors forransformed…rogram\n");

2156 
i
=0; i<
´og
->
nd•s
; i++) {

2157 
	`as£¹
(
d•s
[
i
]->
§tvec
 !ğ
NULL
);

2158 
	`´štf
("D• %d: S%dØS%d: ", 
i
+1, 
d•s
[i]->
¤c
+1, d•s[i]->
de¡
+1);

2159 
	`´štf
("(");

2160 
j
=0; j<
Ëv–s
; j++) {

2161 
	`´štf
("%d, ", 
d•s
[
i
]->
§tvec
[
j
]);

2163 
	`´štf
(")\n");

2165 
	}
}

2167 
	$¶uto_´št_d•_dœeùiÚs
(
PlutoProg
 *
´og
)

2169 
i
, 
j
, 
nd•s
, 
Æev–s
;

2170 
D•
 **
d•s
;

2172 
d•s
 = 
´og
->deps;

2173 
nd•s
 = 
´og
->ndeps;

2174 
Æev–s
 = 
´og
->
num_hy³½ÏÃs
;

2176 
	`´štf
("\nDirection vectors forransformed…rogram\n");

2178 
i
=0; i<
nd•s
; i++) {

2179 
	`´štf
("D• %d: S%dØS%d: ", 
i
+1, 
d•s
[i]->
¤c
+1, d•s[i]->
de¡
+1);

2180 
	`´štf
("(");

2181 
j
=0; j<
Æev–s
; j++) {

2182 
	`´štf
("%c, ", 
d•s
[
i
]->
dœvec
[
j
]);

2184 
	`as£¹
(
d•s
[
i
]->
§tvec
 !ğ
NULL
);

2185 
	`´štf
(") satisfied: %s, satvec: (",

2186 
d•s
[
i
]->
§tisf›d
? "yes":"‚o");

2187 
j
=0; j<
Æev–s
; j++) {

2188 
	`´štf
("%d, ", 
d•s
[
i
]->
§tvec
[
j
]);

2190 
	`´štf
("), s©†ev–: %d", 
d•s
[
i
]->
§tisçùiÚ_Ëv–
);

2192 
j
=0; j<
Æev–s
; j++) {

2193 ià(
d•s
[
i
]->
dœvec
[
j
] > 0) {

2198 ià(
d•s
[
i
]->
dœvec
[
j
] < 0) {

2199 
	`´štf
("D• %d viŞ©ed: S%dØS%d\n", 
i
, 
d•s
[i]->
¤c
+1, d•s[i]->
de¡
+1);

2200 
	`´štf
("%d %d\n", 
d•s
[
i
]->
§tisçùiÚ_Ëv–
, d•s[i]->
§tisf›d
);

2201 }ià(
d•s
[
i
]->
dœvec
[
j
] < 0) {

2202 
	`´štf
("D• %d viŞ©ed: S%dØS%d\n", 
i
, 
d•s
[i]->
¤c
+1, d•s[i]->
de¡
+1);

2203 
	`´štf
("%d %d\n", 
d•s
[
i
]->
§tisçùiÚ_Ëv–
, d•s[i]->
§tisf›d
);

2207 
	`´štf
("\n");

2209 
	}
}

2220 
	$nÜm®ize_domašs
(
PlutoProg
 *
´og
)

2222 
i
, 
j
, 
k
;

2224 
nv¬
 = 
´og
->nvar;

2225 
Å¬
 = 
´og
->npar;

2242 
couÁ
=0;

2243 ià(
Å¬
 >= 1) {

2244 
PlutoCÚ¡¿šts
 *
cÚ‹xt
 = 
	`¶uto_cÚ¡¿šts_®loc
(
´og
->
n¡mts
*
Å¬
,‚par+1);

2245 
	`¶uto_cÚ¡¿šts_£t_Çmes
(
cÚ‹xt
, 
´og
->
·¿ms
);

2246 
i
=0; i<
´og
->
n¡mts
; i++) {

2247 
PlutoCÚ¡¿šts
 *
cİy
 = 
	`¶uto_cÚ¡¿šts_dup
(
´og
->
¡mts
[
i
]->
domaš
);

2248 
j
=0; j<
´og
->
¡mts
[
i
]->
dim_Üig
; j++) {

2249 
	`four›r_mÙzkš_–imš©e
(
cİy
, 0);

2251 
	`as£¹
(
cİy
->
ncŞs
 =ğ
Å¬
+1);

2252 
couÁ
 +ğ
cİy
->
Äows
;

2254 ià(
couÁ
 <ğ
´og
->
n¡mts
*
Å¬
) {

2255 
	`¶uto_cÚ¡¿šts_add
(
cÚ‹xt
, 
cİy
);

2256 
	`¶uto_cÚ¡¿šts_ä“
(
cİy
);

2258 
	`¶uto_cÚ¡¿šts_ä“
(
cİy
);

2262 
	`¶uto_cÚ¡¿šts_sim¶ify
(
cÚ‹xt
);

2263 
	`IF_DEBUG
(
	`´štf
("[pluto]…arameter context from domains\n"););

2264 
	`IF_DEBUG
(
	`¶uto_cÚ¡¿šts_com·ù_´št
(
¡dout
, 
cÚ‹xt
););

2267 
i
=0; i<
´og
->
nd•s
; i++) {

2268 
PlutoCÚ¡¿šts
 *
boundšg_pŞy
 =

2269 
	`¶uto_cÚ¡¿šts_dup
(
´og
->
d•s
[
i
]->
dpŞytİe
);

2271 
k
=0; k<
cÚ‹xt
->
Äows
; k++) {

2272 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
boundšg_pŞy
);

2276 
j
=0; j<
Å¬
+1; j++){

2277 
boundšg_pŞy
->
v®
[boundšg_pŞy->
Äows
-1][
j
+boundšg_pŞy->
ncŞs
-(
Å¬
+1)] =

2278 
cÚ‹xt
->
v®
[
k
][
j
];

2282 
	`¶uto_cÚ¡¿šts_ä“
(
´og
->
d•s
[
i
]->
boundšg_pŞy
);

2283 
´og
->
d•s
[
i
]->
boundšg_pŞy
 = bounding_poly;

2285 
	`¶uto_cÚ¡¿šts_ä“
(
cÚ‹xt
);

2287 
	`IF_DEBUG
(
	`´štf
("\tNo global context\n"));

2291 
i
=0; i<
´og
->
n¡mts
; i++) {

2292 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
i
];

2293 
Üig_d•th
 = 
¡mt
->
dim_Üig
;

2294 
	`as£¹
(
Üig_d•th
 =ğ
¡mt
->
dim
);

2295 
j
=
Üig_d•th
; j<
nv¬
; j++) {

2296 
	`¶uto_sšk_¡©em’t
(
¡mt
, stmt->
dim
, 0, 
´og
);

2300 
i
=0; i<
´og
->
nd•s
; i++) {

2301 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

2302 
¤c_dim
 = 
´og
->
¡mts
[
d•
->
¤c
]->
dim
;

2303 
rg‘_dim
 = 
´og
->
¡mts
[
d•
->
de¡
]->
dim
;

2304 
	`as£¹
(
d•
->
dpŞytİe
->
ncŞs
 =ğ
¤c_dim
+
rg‘_dim
+
´og
->
Å¬
+1);

2308 
k
=0; k<
´og
->
nd•s
; k++) {

2310 
PlutoCÚ¡¿šts
 *
dpŞy
 = 
´og
->
d•s
[
k
]->
dpŞytİe
;

2312 
i
=0; i<
dpŞy
->
Äows
; i++) {

2313 
	`¶uto_cÚ¡¿šts_nÜm®ize_row
(
dpŞy
, 
i
);

2319 
boŞ
 *
Ãg
 = 
	`m®loc
((boŞ)*
Å¬
);

2320 
k
=0; k<
´og
->
nd•s
; k++) {

2321 
D•
 *
d•
 = 
´og
->
d•s
[
k
];

2322 
PlutoCÚ¡¿šts
 *
dpŞy
 = 
d•
->
dpŞytİe
;

2324 
	`bz”o
(
Ãg
, 
Å¬
*(
boŞ
));

2326 ià(
dpŞy
->
Äows
 == 0) ;

2328 
j
=2*
nv¬
; j<2*nv¬+
Å¬
; j++) {

2329 
mš
 = 
dpŞy
->
v®
[0][
j
];

2330 
max
 = 
dpŞy
->
v®
[0][
j
];

2331 
i
=1; i<
dpŞy
->
Äows
; i++) {

2332 
mš
 = 
	`PLMIN
(
dpŞy
->
v®
[
i
][
j
], min);

2333 
max
 = 
	`PLMAX
(
dpŞy
->
v®
[
i
][
j
], max);

2336 ià(
mš
 < 0 && 
max
 <= 0) {

2337 
Ãg
[
j
-2*
nv¬
] = 
Œue
;

2338 
	`IF_DEBUG
(
	`´štf
("Dep %d has‚egative coeff's for…arameter %s\n",

2339 
d•
->
id
, 
´og
->
·¿ms
[
j
-2*
nv¬
]));

2344 
j
=0; j<
Å¬
; j++) {

2345 ià(
Ãg
[
j
]) {

2346 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
d•
->
boundšg_pŞy
);

2347 
d•
->
boundšg_pŞy
->
v®
[d•->boundšg_pŞy->
Äows
-1][2*
nv¬
+
j
] = 1;

2351 
	`ä“
(
Ãg
);

2352 
	}
}

2357 
	$d’Üm®ize_domašs
(
PlutoProg
 *
´og
)

2359 
i
, 
j
;

2361 
nv¬
 = 
´og
->nvar;

2362 
Å¬
 = 
´og
->npar;

2364 
i
=0; i<
´og
->
n¡mts
; i++) {

2365 
d–_couÁ
;

2366 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
i
];

2367 
d–_couÁ
 = 0;

2368 
j
=0; j<
nv¬
; j++) {

2369 ià(!
¡mt
->
is_Üig_loİ
[
j
-
d–_couÁ
]) {

2370 
	`¶uto_¡mt_»move_dim
(
¡mt
, 
j
-
d–_couÁ
, 
´og
);

2371 ià(
¡mt
->
eviùed_hyp
) {

2372 
	`¶uto_m©rix_»move_cŞ
(
¡mt
->
eviùed_hyp
, 
j
-
d–_couÁ
);

2374 
d–_couÁ
++;

2378 
	`as£¹
(
¡mt
->
domaš
->
ncŞs
 =ğ¡mt->
dim
+
Å¬
+1);

2379 
	`as£¹
(
¡mt
->
Œªs
->
ncŞs
 =ğ¡mt->
dim
+
Å¬
+1);

2381 
j
=0; j<
¡mt
->
dim
; j++) {

2382 
¡mt
->
is_Üig_loİ
[
j
] = 1;

2385 
	}
}

2394 
PlutoM©rix
 *
	$g‘_çû_w™h_cÚcu¼’t_¡¬t
(
PlutoProg
 *
´og
, 
Bªd
 *
bªd
)

2396 
PlutoCÚ¡¿šts
 *
bc¡
;

2397 
s
, 
_s
, 
j
, 
nz
, 
nv¬
, 
Å¬
;

2398 
PlutoM©rix
 *
cÚc_¡¬t_çûs
;

2400 
	`IF_DEBUG
(
	`´štf
("[pluto] get_face_with_concurrent_start for band\n\t"););

2401 
	`IF_DEBUG
(
	`¶uto_bªd_´št
(
bªd
););

2403 
Å¬
 = 
´og
->npar;

2404 
nv¬
 = 
´og
->nvar;

2406 
PlutoCÚ¡¿šts
 *
fc¡
 = 
	`g‘_ãauŒ›r_scheduË_cÚ¡¿šts
(
´og
,

2407 
bªd
->
loİ
->
¡mts
, bªd->loİ->
n¡mts
);

2409 
bc¡
 = 
	`g‘_cÛff_boundšg_cÚ¡¿šts
(
´og
);

2410 
	`¶uto_cÚ¡¿šts_add
(
fc¡
, 
bc¡
);

2411 
	`¶uto_cÚ¡¿šts_ä“
(
bc¡
);

2413 
št64
 *
sŞ
 = 
	`¶uto_´og_cÚ¡¿šts_Ëxmš
(
fc¡
, 
´og
);

2414 
	`¶uto_cÚ¡¿šts_ä“
(
fc¡
);

2416 ià(!
sŞ
) {

2417 
	`IF_DEBUG
(
	`´štf
("[pluto] get_face_with_concurrent_start:‚o valid 1-d schedules \n"););

2418  
NULL
;

2421 
cÚc_¡¬t_çûs
 = 
	`¶uto_m©rix_®loc
(
bªd
->
loİ
->
n¡mts
, 
nv¬
+
Å¬
+1);

2422 
	`¶uto_m©rix_£t
(
cÚc_¡¬t_çûs
, 0);

2424 
s
=0, 
_s
=0; s<
´og
->
n¡mts
; s++) {

2425 ià(!
	`¶uto_¡mt_is_memb”_of
(
s
, 
bªd
->
loİ
->
¡mts
,

2426 
bªd
->
loİ
->
n¡mts
)) ;

2427 
	`as£¹
(
_s
 <ğ
bªd
->
loİ
->
n¡mts
-1);

2428 
j
=0; j<
nv¬
; j++) {

2429 
cÚc_¡¬t_çûs
->
v®
[
_s
][
j
] = 
sŞ
[
Å¬
+1+
s
*(
nv¬
+1)+j];

2431 
cÚc_¡¬t_çûs
->
v®
[
_s
][
nv¬
+
Å¬
] = 
sŞ
[Å¬+1+
s
*(nvar+1)+nvar];

2432 
_s
++;

2434 
	`ä“
(
sŞ
);

2436 
	`IF_DEBUG
(
	`´štf
("[pluto] get_face_with_concurrent_start: 1-d schedules\n"););

2437 
s
=0; s<
bªd
->
loİ
->
n¡mts
; s++) {

2438 
	`IF_DEBUG
(
	`´štf
("\tf(S%dèğ", 
bªd
->
loİ
->
¡mts
[
s
]->
id
+1););

2439 
	`IF_DEBUG
(
	`¶uto_affše_funùiÚ_´št
(
¡dout
, 
cÚc_¡¬t_çûs
->
v®
[
s
], 
nv¬
+
Å¬
,

2440 
bªd
->
loİ
->
¡mts
[
s
]->
domaš
->
Çmes
););

2441 
	`IF_DEBUG
(
	`´štf
("\n"););

2446 
s
=0; s<
bªd
->
loİ
->
n¡mts
; s++) {

2447 
nz
 = 0;

2448 
j
=0; j<
nv¬
; j++) {

2449 ià(
cÚc_¡¬t_çûs
->
v®
[
s
][
j
]è
nz
++;

2451 ià(
nz
 != 1) ;

2454 ià(
s
 < 
bªd
->
loİ
->
n¡mts
) {

2455 
	`¶uto_m©rix_ä“
(
cÚc_¡¬t_çûs
);

2456 
	`IF_DEBUG
(
	`´štf
("[pluto] No iteration space faces with concurrent start for‡ll statements\n"););

2457  
NULL
;

2460 
	`IF_DEBUG
(
	`´štf
("[pluto] faces with concurrent start found for‡ll statements\n"););

2462  
cÚc_¡¬t_çûs
;

2463 
	}
}

2481 
	$fšd_cÚe_com¶em’t_hy³½ÏÃ
(
Bªd
 *
bªd
, 
PlutoM©rix
 *
cÚc_¡¬t_çûs
, 
eviù_pos
,

2482 
cÚe_com¶em’t_pos
, 
PlutoCÚ¡¿šts
 *
ba£c¡
, 
PlutoProg
 *
´og
,

2483 
PlutoM©rix
 **
cÚe_com¶em’t_hyps
)

2485 
i
, 
s
, 
j
, 
k
, 
Ïmbda_k
, 
n¡mts
, 
nv¬
, 
Å¬
;

2486 
št64
 *
be¡sŞ
;

2487 
PlutoCÚ¡¿šts
 *
cÚ_¡¬t_c¡
, *
Ï¡c¡
;

2489 
nv¬
 = 
´og
->nvar;

2490 
Å¬
 = 
´og
->npar;

2491 
n¡mts
 = 
bªd
->
loİ
->nstmts;

2493 
	`IF_DEBUG
(
	`´štf
("[pluto] find_cone_complement_hyperplane for band\n\t"););

2494 
	`IF_DEBUG
(
	`¶uto_bªd_´št
(
bªd
););

2497 
Ï¡c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(2*
nv¬
*
n¡mts
,

2498 (
Å¬
+1+
´og
->
n¡mts
*(
nv¬
+1)+1) +‚var*nstmts);

2501 
i
=0; i<
n¡mts
; i++) {

2502 
¡mt_off£t
 = 
Å¬
+1+
´og
->
n¡mts
*(
nv¬
+1)+
i
*nvar;

2503 
j
=0; j<
nv¬
; j++) {

2504 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
Ï¡c¡
);

2505 
Ï¡c¡
->
v®
[Ï¡c¡->
Äows
-1][
¡mt_off£t
+
j
] =1;

2506 
Ï¡c¡
->
v®
[Ï¡c¡->
Äows
-1][Ï¡c¡->
ncŞs
-1] = -1;

2513 
s
=0; s<
n¡mts
; s++) {

2514 
Stmt
 *
¡mt
 = 
bªd
->
loİ
->
¡mts
[
s
];

2515 
¡mt_off£t1
ğ
Å¬
+1+
¡mt
->
id
*(
nv¬
+1);

2516 
¡mt_off£t2
ğ
Å¬
+1+
´og
->
n¡mts
*(
nv¬
+1)+
s
*nvar;

2517 
j
=0; j<
nv¬
; j++) {

2518 
	`¶uto_cÚ¡¿šts_add_equ®™y
(
Ï¡c¡
);

2519 
Ï¡c¡
->
v®
[Ï¡c¡->
Äows
-1][
¡mt_off£t1
+
j
] =1;

2521 
Ï¡c¡
->
v®
[Ï¡c¡->
Äows
-1][
¡mt_off£t2
] = -(
cÚc_¡¬t_çûs
->v®[
s
][
j
]);

2523 ià(
İtiÚs
->
·¹lbte
) {

2524 
Ï¡c¡
->
v®
[Ï¡c¡->
Äows
-1][
¡mt_off£t2
+1] =

2525 
¡mt
->
Œªs
->
v®
[
cÚe_com¶em’t_pos
][
j
];

2527 
Ïmbda_k
 = 0;

2529 
k
=
bªd
->
loİ
->
d•th
; k < bªd->loİ->d•th + bªd->
width
; k++){

2530 ià(
k
 !ğ
eviù_pos
 && 
¡mt
->
hyp_ty³s
[k] !ğ
H_SCALAR
) {

2531 
Ï¡c¡
->
v®
[Ï¡c¡->
Äows
-1][
¡mt_off£t2
+
Ïmbda_k
+1] = 
¡mt
->
Œªs
->v®[
k
][
j
];

2532 
Ïmbda_k
++;

2536 
Ï¡c¡
->
v®
[Ï¡c¡->
Äows
-1][Ï¡c¡->
ncŞs
-1] = 0;

2546 
cÚ_¡¬t_c¡
 = 
	`¶uto_cÚ¡¿šts_dup
(
ba£c¡
);

2548 
PlutoCÚ¡¿šts
 *
boundc¡
 = 
	`g‘_cÛff_boundšg_cÚ¡¿šts_fÜ_cÚe_com¶em’t
(
´og
);

2549 
	`¶uto_cÚ¡¿šts_add
(
cÚ_¡¬t_c¡
, 
boundc¡
);

2550 
	`¶uto_cÚ¡¿šts_ä“
(
boundc¡
);

2552 
i
=0; i<
nv¬
*
n¡mts
; i++) {

2553 
	`¶uto_cÚ¡¿šts_add_dim
(
cÚ_¡¬t_c¡
, 
ba£c¡
->
ncŞs
-1, 
NULL
);

2556 
	`¶uto_cÚ¡¿šts_add
(
cÚ_¡¬t_c¡
, 
Ï¡c¡
);

2557 
	`¶uto_cÚ¡¿šts_ä“
(
Ï¡c¡
);

2562 
be¡sŞ
 = 
	`¶uto_cÚ¡¿šts_Ëxmš
(
cÚ_¡¬t_c¡
, 
ALLOW_NEGATIVE_COEFF
);

2563 
	`¶uto_cÚ¡¿šts_ä“
(
cÚ_¡¬t_c¡
);

2566 ià(
be¡sŞ
 =ğ
NULL
) {

2567 
	`´štf
("[pluto] No concurrent start…ossible\n");

2569 
	`IF_DEBUG
(
	`´štf
("[pluto] Concurrent start…ossible\n"););

2570 
j
=0; j<
n¡mts
; j++) {

2571 
Stmt
 *
¡mt
 = 
bªd
->
loİ
->
¡mts
[
j
];

2572 
cÚe_com¶em’t_hyps
[
j
] =

2573 
	`¶uto_m©rix_®loc
(1, 
¡mt
->
dim
+
Å¬
+1);

2574 
k
=0; k<
nv¬
; k++) {

2575 
cÚe_com¶em’t_hyps
[
j
]->
v®
[0][
k
] =

2576 
be¡sŞ
[
Å¬
+1+ 
¡mt
->
id
*(
nv¬
+1è+ 
k
];

2579 
k
=
nv¬
; k<nv¬+
Å¬
; k++) {

2580 
cÚe_com¶em’t_hyps
[
j
]->
v®
[0][
k
] = 0;

2582 
cÚe_com¶em’t_hyps
[
j
]->
v®
[0][
nv¬
+
Å¬
] =

2583 
be¡sŞ
[
Å¬
+1+ 
¡mt
->
id
*(
nv¬
+1) +‚var];

2585 
	`IF_DEBUG
(
	`´štf
("\tcÚe_com¶em’t(S%dèğ", 
¡mt
->
id
+1););

2586 
	`IF_DEBUG
(
	`¶uto_affše_funùiÚ_´št
(
¡dout
, 
cÚe_com¶em’t_hyps
[
j
]->
v®
[0], 
nv¬
, 
¡mt
->
™”©Üs
););

2587 
	`IF_DEBUG
(
	`´štf
("\n"););

2589 
	`ä“
(
be¡sŞ
);

2592  (
cÚe_com¶em’t_hyps
[0] =ğ
NULL
)? 0:1;

2593 
	}
}

2599 
	$is_cÚcu¼’t_¡¬t_çû
(
Bªd
 *
bªd
, 
PlutoM©rix
 *
cÚc_¡¬t_çûs
, 
d
)

2601 
s
;

2603 
s
=0; s<
bªd
->
loİ
->
n¡mts
; s++){

2604 ià(
	`¶uto_veùÜ_is_·¿Î–
(
bªd
->
loİ
->
¡mts
[
s
]->
Œªs
, 
d
,

2605 
cÚc_¡¬t_çûs
, 
s
)) {

2610 
	}
}

2617 
	$fšd_hy³½ÏÃ_to_be_eviùed
(
Bªd
 *
bªd
, 
PlutoM©rix
 *
cÚc_¡¬t_çûs
, 
PlutoProg
 *
´og
)

2619 
d
;

2620 
d
=
bªd
->
loİ
->
d•th
; d < bªd->loİ->d•th + bªd->
width
-1; d++){

2621 ià(
	`is_cÚcu¼’t_¡¬t_çû
(
bªd
, 
cÚc_¡¬t_çûs
, 
d
))  d;

2624  
bªd
->
loİ
->
d•th
 + bªd->
width
 - 1;

2625 
	}
}

2629 
	$g‘_fœ¡_nÚ_sÿÏr_hy³½ÏÃ
(
PlutoProg
 *
´og
, 
¡¬t
, 
’d
)

2631 
i
;

2632 
i
=
¡¬t
; i<=
’d
; i++){

2633 ià(
´og
->
hPrİs
[
i
].
ty³
 =ğ
H_LOOP
)  i;

2636 
	}
}

2639 
	$cİy_hy³½ÏÃ
(
št64
 *
h1
, iÁ64 *
h2
, 
ncŞs
)

2641 
j
;

2643 
j
=0; j<
ncŞs
; j++){

2644 
h1
[
j
] = 
h2
[j];

2646 
	}
}

2650 
	$sw­_hy³½ÏÃs
(
št64
 *
h1
, iÁ64 *
h2
, 
ncŞs
)

2652 
št64
 
tmp
;

2653 
j
;

2655 
j
=0; j<
ncŞs
; j++){

2656 
tmp
 = 
h2
[
j
];

2657 
h2
[
j
] = 
h1
[j];

2658 
h1
[
j
] = 
tmp
;

2660 
	}
}

2669 
	$¶uto_auto_ŒªsfÜm
(
PlutoProg
 *
´og
)

2671 
i
, 
j
, 
s
, 
nsŞs
, 
cÚc_¡¬t_found
, 
d•th
;

2674 
num_šd_sŞs_»q
;

2678 
num_šd_sŞs_found
;

2680 
boŞ
 
hyp_£¬ch_mode
;

2682 
Stmt
 **
¡mts
 = 
´og
->stmts;

2683 
n¡mts
 = 
´og
->nstmts;

2685 
i
=0; i<
´og
->
nd•s
; i++) {

2686 
´og
->
d•s
[
i
]->
§tisf›d
 = 
çl£
;

2690 
´og
->
ddg
 = 
	`ddg_ü—‹
(prog);

2691 
	`ddg_compu‹_scc
(
´og
);

2692 
	`compu‹_scc_v”tiûs
(
´og
->
ddg
);

2694 
G¿ph
 *
ddg
 = 
´og
->ddg;

2695 
nv¬
 = 
´og
->nvar;

2696 
Å¬
 = 
´og
->npar;

2698 ià(
n¡mts
 == 0)  0;

2700 
´og
->
Üig_num_hy³½ÏÃs
 =…rog->
num_hy³½ÏÃs
;

2701 
´og
->
Üig_hPrİs
 =…rog->
hPrİs
;

2703 
i
=0; i<
n¡mts
; i++) {

2704 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
i
];

2706 
¡mt
->
Üig_Œªs
 = stmt->
Œªs
;

2707 
¡mt
->
Üig_hyp_ty³s
 = stmt->
hyp_ty³s
;

2709 
¡mt
->
Œªs
 = 
	`¶uto_m©rix_®loc
(2*¡mt->
dim
+1, stmt->dim+
Å¬
+1);

2710 
¡mt
->
Œªs
->
Äows
 = 0;

2711 
¡mt
->
hyp_ty³s
 = 
NULL
;

2714 
	`nÜm®ize_domašs
(
´og
);

2716 
hyp_£¬ch_mode
 = 
EAGER
;

2718 
´og
->
num_hy³½ÏÃs
 = 0;

2719 
´og
->
hPrİs
 = 
NULL
;

2723 
num_šd_sŞs_»q
 = 0;

2724 
i
=0; i<
n¡mts
; i++) {

2725 
num_šd_sŞs_»q
 = 
	`PLMAX
Òum_šd_sŞs_»q, 
¡mts
[
i
]->
dim
);

2728 
d•th
 = 0;

2730 ià(
	`´ecut
(
´og
, 
ddg
, 
d•th
)) {

2733 
num_šd_sŞs_found
 = 
	`¶uto_g‘_max_šd_hyps
(
´og
);

2734 
	`´štf
("[pluto] Forced custom fusion structure from .fst/.precut\n");

2735 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "%d ind solns in .precut file\n",

2736 
num_šd_sŞs_found
));

2738 
num_šd_sŞs_found
 = 0;

2739 ià(
İtiÚs
->
fu£
 =ğ
SMART_FUSE
) {

2740 
	`cut_scc_dim_ba£d
(
´og
,
ddg
);

2742 ià(
İtiÚs
->
fu£
 =ğ
TYPED_FUSE
) {

2743 
	`cut_©_·¿Î–ism_loss
(
´og
, 
ddg
);

2749 
cÚc_¡¬t_found
 = 0;

2754 
num_sŞs_Ëá
;

2756 ià(
İtiÚs
->
fu£
 =ğ
NO_FUSE
) {

2757 
	`ddg_compu‹_scc
(
´og
);

2758 
	`cut_®l_sccs
(
´og
, 
ddg
);

2761 
num_sŞs_Ëá
 = 0;

2762 
s
=0; s<
n¡mts
; s++) {

2765 
num_sŞs_Ëá
 = 
	`PLMAX
Òum_sŞs_Ëá, 
¡mts
[
s
]->
dim_Üig


2766 - 
	`¶uto_¡mt_g‘_num_šd_hyps
(
¡mts
[
s
]));

2776 
	`as£¹
(
hyp_£¬ch_mode
 =ğ
LAZY
 || 
num_sŞs_Ëá
 =ğ
num_šd_sŞs_»q
 - 
num_šd_sŞs_found
);

2778 
nsŞs
 = 
	`fšd_³rmubË_hy³½ÏÃs
(
´og
, 
hyp_£¬ch_mode
,

2779 
num_sŞs_Ëá
, 
d•th
);

2781 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "[pluto]…luto_auto_transform: band†evel %d; %d hyperplane(s) found\n",

2782 
d•th
, 
nsŞs
));

2783 
	`IF_DEBUG2
(
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
));

2785 
num_šd_sŞs_found
 = 
	`¶uto_g‘_max_šd_hyps
(
´og
);

2787 ià(
nsŞs
 >= 1) {

2789 ià(
İtiÚs
->
lbte
 && 
nsŞs
 >ğ2 && !
cÚc_¡¬t_found
) {

2790 
cÚc_¡¬t_found
 = 
	`¶uto_dŸmÚd_te
(
´og
);

2793 
j
=0; j<
nsŞs
; j++) {

2795 
	`d•_§tisçùiÚ_upd©e
(
´og
, 
¡mts
[0]->
Œªs
->
Äows
 - 
nsŞs
 + 
j
);

2796 
	`ddg_upd©e
(
ddg
, 
´og
);

2802 
	`ddg_compu‹_scc
(
´og
);

2804 ià(
	`g‘_num_un§tisf›d_š‹r_scc_d•s
(
´og
) >= 1) {

2805 ià(
İtiÚs
->
fu£
 =ğ
NO_FUSE
) {

2807 
	`cut_®l_sccs
(
´og
, 
ddg
);

2808 }ià(
İtiÚs
->
fu£
 =ğ
SMART_FUSE
) {

2810 
	`cut_sm¬t
(
´og
, 
ddg
);

2811 }ià(
İtiÚs
->
fu£
 =ğ
TYPED_FUSE
) {

2813 ià(
d•th
 >ğ2*
nv¬
+1è
	`cut_®l_sccs
(
´og
, 
ddg
);

2814 
	`cut_cÚ£rv©ive
(
´og
, 
ddg
);

2817 ià(
d•th
 >ğ2*
nv¬
+1è
	`cut_®l_sccs
(
´og
, 
ddg
);

2818 
	`cut_cÚ£rv©ive
(
´og
, 
ddg
);

2823 ià(
hyp_£¬ch_mode
 =ğ
EAGER
) {

2824 
	`IF_DEBUG
(
	`´štf
("[pluto] Switchingo LAZY mode\n"););

2825 
hyp_£¬ch_mode
 = 
LAZY
;

2826 }ià(!
	`d•s_§tisçùiÚ_check
(
´og
)) {

2827 
	`as£¹
(
hyp_£¬ch_mode
 =ğ
LAZY
);

2831 ià(
İtiÚs
->
debug
 || o±iÚs->
mÜedebug
) {

2832 
	`´štf
("\tNumber of unsatisfied deps: %d\n",

2833 
	`g‘_num_un§tisf›d_d•s
(
´og
->
d•s
,…rog->
nd•s
));

2834 
	`´štf
("\tNumber of unsatisfied inter-scc deps: %d\n",

2835 
	`g‘_num_un§tisf›d_š‹r_scc_d•s
(
´og
));

2836 
	`årštf
(
¡dout
, "[pluto] WARNING: Unfortunately,…luto cannot find‡ny more hyperplanes.\n");

2837 
	`årštf
(
¡dout
, "\tThis is usually‡„esult of (1)‡ bug inhe dependenceester,\n");

2838 
	`årštf
(
¡dout
, "\tor (2)‡ bug in Pluto's‡utoransformation,\n");

2839 
	`årštf
(
¡dout
, "\tor (3)‡n inconsistent .fst/.precut in your working directory.\n");

2840 
	`årštf
(
¡dout
, "\tTransformation found so far:\n");

2841 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

2842 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

2843 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

2844 
	`¶uto_´št_d•_dœeùiÚs
(
´og
);

2846 
	`d’Üm®ize_domašs
(
´og
);

2847 
	`´štf
("[pluto] WARNING: working with original (identity)ransformation (ifheyƒxist)\n");

2849 
i
=0; i<
n¡mts
; i++) {

2850 
¡mts
[
i
]->
Œªs
 = stmts[i]->
Üig_Œªs
;

2851 
¡mts
[
i
]->
hyp_ty³s
 = stmts[i]->
Üig_hyp_ty³s
;

2853 
´og
->
num_hy³½ÏÃs
 =…rog->
Üig_num_hy³½ÏÃs
;

2854 
´og
->
hPrİs
 =…rog->
Üig_hPrİs
;

2862 ià(
hyp_£¬ch_mode
 =ğ
LAZY
è
	`¶uto_compu‹_d•_§tisçùiÚ_´eci£
(
´og
);

2863 
d•th
++;

2864 }!
	`¶uto_ŒªsfÜm©iÚs_fuÎ_¿nked
(
´og
) ||

2865 !
	`d•s_§tisçùiÚ_check
(
´og
));

2867 ià(
İtiÚs
->
lbte
 && !
cÚc_¡¬t_found
) {

2868 
	`PLUTO_MESSAGE
(
	`´štf
("[pluto] Diamondiling‚ot…ossible/useful\n"););

2871 
	`d’Üm®ize_domašs
(
´og
);

2873 
i
=0; i<
n¡mts
; i++) {

2874 
Stmt
 *
¡mt
;

2875 
¡mt
 = 
´og
->
¡mts
[
i
];

2876 
	`¶uto_m©rix_ä“
(
¡mt
->
Üig_Œªs
);

2877 
	`ä“
(
¡mt
->
Üig_hyp_ty³s
);

2880 
	`IF_DEBUG
(
	`´štf
("[pluto]…luto_auto_transform: successful, done\n"););

2883 
	}
}

2886 
	$g‘_num_un§tisf›d_d•s
(
D•
 **
d•s
, 
nd•s
)

2888 
i
, 
couÁ
;

2890 
couÁ
 = 0;

2891 
i
=0; i<
nd•s
; i++) {

2892 ià(
	`IS_RAR
(
d•s
[
i
]->
ty³
)) ;

2893 ià(!
d•s
[
i
]->
§tisf›d
) {

2894 
	`IF_DEBUG
(
	`´štf
("\tUn§tisf›d d• %d\n", 
i
+1));

2895 
couÁ
++;

2899  
couÁ
;

2901 
	}
}

2904 
	$g‘_num_un§tisf›d_š‹r_¡mt_d•s
(
D•
 **
d•s
, 
nd•s
)

2906 
i
;

2908 
couÁ
 = 0;

2909 
i
=0; i<
nd•s
; i++) {

2910 ià(
	`IS_RAR
(
d•s
[
i
]->
ty³
)) ;

2911 ià(
d•s
[
i
]->
¤c
 =ğd•s[i]->
de¡
) ;

2912 ià(!
d•s
[
i
]->
§tisf›d
) {

2913 
	`IF_DEBUG
(
	`´štf
("Un§tisf›d d• %d\n", 
i
+1));

2914 
couÁ
++;

2918  
couÁ
;

2920 
	}
}

2922 
	$g‘_num_un§tisf›d_š‹r_scc_d•s
(
PlutoProg
 *
´og
)

2924 
i
;

2926 
couÁ
 = 0;

2927 
i
=0; i<
´og
->
nd•s
; i++) {

2928 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

2929 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

2930 
Stmt
 *
¤c_¡mt
 = 
´og
->
¡mts
[
d•
->
¤c
];

2931 
Stmt
 *
de¡_¡mt
 = 
´og
->
¡mts
[
d•
->
de¡
];

2932 ià(
¤c_¡mt
->
scc_id
 !ğ
de¡_¡mt
->scc_id && !
d•
->
§tisf›d
) {

2933 
couÁ
++;

2937  
couÁ
;

2938 
	}
}

2941 
	$ddg_´št
(
G¿ph
 *
g
)

2943 
	`¶uto_m©rix_´št
(
¡dout
, 
g
->
adj
);

2944 
	}
}

2951 
	$ddg_upd©e
(
G¿ph
 *
g
, 
PlutoProg
 *
´og
)

2953 
i
, 
j
;

2954 
D•
 *
d•
;

2956 
	`IF_DEBUG
(
	`´štf
("[pluto] updating DDG\n"););

2958 
i
=0; i<
g
->
nV”tiûs
; i++)

2959 
j
=0; j<
g
->
nV”tiûs
; j++)

2960 
g
->
adj
->
v®
[
i
][
j
] = 0;

2962 
i
=0; i<
´og
->
nd•s
; i++) {

2963 
d•
 = 
´og
->
d•s
[
i
];

2964 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

2967 
g
->
adj
->
v®
[
d•
->
¤c
][d•->
de¡
] +ğ!
	`d•_is_§tisf›d
(dep);

2969 
	}
}

2975 
G¿ph
 *
	$ddg_ü—‹
(
PlutoProg
 *
´og
)

2977 
i
;

2979 
G¿ph
 *
g
 = 
	`g¿ph_®loc
(
´og
->
n¡mts
);

2981 
i
=0; i<
´og
->
nd•s
; i++) {

2982 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

2984 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

2986 
g
->
adj
->
v®
[
d•
->
¤c
][d•->
de¡
] +ğ!
	`d•_is_§tisf›d
(dep);

2989  
g
;

2990 
	}
}

2996 
	$g‘_max_Üig_dim_š_scc
(
PlutoProg
 *
´og
, 
scc_id
)

2998 
i
;

3000 
max
 = -1;

3001 
i
=0; i<
´og
->
n¡mts
; i++) {

3002 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
i
];

3003 ià(
¡mt
->
scc_id
 == scc_id) {

3004 
max
 = 
	`PLMAX
(max,
¡mt
->
dim_Üig
);

3008  
max
;

3009 
	}
}

3012 
	$g‘_scc_size
(
PlutoProg
 *
´og
, 
scc_id
)

3014 
i
;

3015 
Stmt
 *
¡mt
;

3017 
num
 = 0;

3018 
i
=0; i<
´og
->
n¡mts
; i++) {

3019 
¡mt
 = 
´og
->
¡mts
[
i
];

3020 ià(
¡mt
->
scc_id
 == scc_id) {

3021 
num
++;

3025  
num
;

3026 
	}
}

3030 
	$ddg_compu‹_scc
(
PlutoProg
 *
´og
)

3032 
i
;

3034 
	`IF_DEBUG
(
	`´štf
("[pluto] ddg_compute_scc\n"););

3036 
G¿ph
 *
g
 = 
´og
->
ddg
;

3038 
	`dfs
(
g
);

3040 
G¿ph
 *
gT
 = 
	`g¿ph_Œª¥o£
(
g
);

3042 
	`dfs_fÜ_scc
(
gT
);

3044 
g
->
num_sccs
 = 
gT
->num_sccs;

3046 
i
=0; i<
g
->
nV”tiûs
; i++) {

3047 
g
->
v”tiûs
[
i
].
scc_id
 = 
gT
->vertices[i].scc_id;

3048 
¡mt_id
 = 
gT
->
v”tiûs
[
i
].
id
;

3049 
	`as£¹
(
¡mt_id
 =ğ
i
);

3050 
´og
->
¡mts
[
i
]->
scc_id
 = 
g
->
v”tiûs
[i].scc_id;

3053 
i
=0; i<
g
->
num_sccs
; i++) {

3054 
g
->
sccs
[
i
].
max_dim
 = 
	`g‘_max_Üig_dim_š_scc
(
´og
, i);

3055 
g
->
sccs
[
i
].
size
 = 
	`g‘_scc_size
 (
´og
, i);

3056 
g
->
sccs
[
i
].
id
 = 
gT
->sccs[i].id;

3059 
	`g¿ph_ä“
(
gT
);

3061 
	`g¿ph_´št_sccs
(
g
);

3062 
	}
}

3069 
PlutoCÚ¡¿šts
 *
	$¶uto_¡mt_g‘_scheduË
(cÚ¡ 
Stmt
 *
¡mt
)

3071 
i
;

3073 
PlutoM©rix
 *
sched
, *
Œªs
;

3074 
PlutoCÚ¡¿šts
 *
schedc¡
;

3076 
Œªs
 = 
¡mt
->trans;

3077 
sched
 = 
	`¶uto_m©rix_dup
(
Œªs
);

3079 
i
=0; i<
sched
->
Äows
; i++) {

3080 
	`¶uto_m©rix_Ãg©e_row
(
sched
, sched->
Äows
-1-
i
);

3081 
	`¶uto_m©rix_add_cŞ
(
sched
, 0);

3082 
sched
->
v®
[
Œªs
->
Äows
-1-
i
][0] = 1;

3085 
schedc¡
 = 
	`¶uto_cÚ¡¿šts_äom_equ®™›s
(
sched
);

3087 
	`¶uto_m©rix_ä“
(
sched
);

3089  
schedc¡
;

3090 
	}
}

3094 
	$¶uto_upd©e_d•s
(
Stmt
 *
¡mt
, 
PlutoCÚ¡¿šts
 *
c¡
, 
PlutoProg
 *
´og
)

3096 
i
, 
c
;

3098 
Stmt
 **
¡mts
 = 
´og
->stmts;

3100 
	`as£¹
(
c¡
->
ncŞs
 =ğ
¡mt
->
domaš
->ncols);

3102 
i
=0; i<
´og
->
nd•s
; i++) {

3103 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

3104 ià(
¡mts
[
d•
->
¤c
] =ğ
¡mt
) {

3105 
PlutoCÚ¡¿šts
 *
c¡_l
 = 
	`¶uto_cÚ¡¿šts_dup
(
c¡
);

3106 
Stmt
 *
t¡mt
 = 
¡mts
[
d•
->
de¡
];

3107 
c
=0; c<
t¡mt
->
dim
; c++) {

3108 
	`¶uto_cÚ¡¿šts_add_dim
(
c¡_l
, 
¡mt
->
dim
, 
NULL
);

3110 
	`¶uto_cÚ¡¿šts_add
(
d•
->
dpŞytİe
, 
c¡_l
);

3111 
	`¶uto_cÚ¡¿šts_ä“
(
c¡_l
);

3113 ià(
¡mts
[
d•
->
de¡
] =ğ
¡mt
) {

3114 
PlutoCÚ¡¿šts
 *
c¡_l
 = 
	`¶uto_cÚ¡¿šts_dup
(
c¡
);

3115 
Stmt
 *
s¡mt
 = 
¡mts
[
d•
->
¤c
];

3116 
c
=0; c<
s¡mt
->
dim
; c++) {

3117 
	`¶uto_cÚ¡¿šts_add_dim
(
c¡_l
, 0, 
NULL
);

3119 
	`¶uto_cÚ¡¿šts_add
(
d•
->
dpŞytİe
, 
c¡_l
);

3120 
	`¶uto_cÚ¡¿šts_ä“
(
c¡_l
);

3124 
i
=0; i<
´og
->
Á¿nsd•s
; i++) {

3125 
D•
 *
d•
 = 
´og
->
Œªsd•s
[
i
];

3126 ià(
¡mts
[
d•
->
¤c
] =ğ
¡mt
) {

3127 
PlutoCÚ¡¿šts
 *
c¡_l
 = 
	`¶uto_cÚ¡¿šts_dup
(
c¡
);

3128 
Stmt
 *
t¡mt
 = 
¡mts
[
d•
->
de¡
];

3129 
c
=0; c<
t¡mt
->
dim
; c++) {

3130 
	`¶uto_cÚ¡¿šts_add_dim
(
c¡_l
, 
¡mt
->
dim
, 
NULL
);

3132 
	`¶uto_cÚ¡¿šts_add
(
d•
->
dpŞytİe
, 
c¡_l
);

3133 
	`¶uto_cÚ¡¿šts_ä“
(
c¡_l
);

3135 ià(
¡mts
[
d•
->
de¡
] =ğ
¡mt
) {

3136 
PlutoCÚ¡¿šts
 *
c¡_l
 = 
	`¶uto_cÚ¡¿šts_dup
(
c¡
);

3137 
Stmt
 *
s¡mt
 = 
¡mts
[
d•
->
¤c
];

3138 
c
=0; c<
s¡mt
->
dim
; c++) {

3139 
	`¶uto_cÚ¡¿šts_add_dim
(
c¡_l
, 0, 
NULL
);

3141 
	`¶uto_cÚ¡¿šts_add
(
d•
->
dpŞytİe
, 
c¡_l
);

3142 
	`¶uto_cÚ¡¿šts_ä“
(
c¡_l
);

3145 
	}
}

3148 
	$¶uto_¬e_¡mts_fu£d
(
Stmt
 **
¡mts
, 
n¡mts
, cÚ¡ 
PlutoProg
 *
´og
)

3150 
num
;

3152 ià(
´og
->
num_hy³½ÏÃs
 <= 1)  1;

3154 
Ploİ
 **
loİs
 = 
	`¶uto_g‘_loİs_und”
(
¡mts
, 
n¡mts
, 
´og
->
num_hy³½ÏÃs
-2,…rog, &
num
);

3155 
	`¶uto_loİs_ä“
(
loİs
, 
num
);

3157  
num
==1;

3158 
	}
}

3164 
	$¶uto_dŸmÚd_te
(
PlutoProg
 *
´og
)

3166 
b
, 
d
, 
nbªds
, 
cÚc_¡¬t_’abËd
, 
cÚc_¡¬t_’abËd_bªd
;

3168 
	`IF_DEBUG
(
	`´štf
("[pluto]…luto_diamond_tile\n"));

3170 
cÚc_¡¬t_’abËd
 = 0;

3177 
PlutoCÚ¡¿šts
 *
ba£c¡
 = 
	`g‘_³rmub™y_cÚ¡¿šts
(
´og
);

3179 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

3180 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

3182 
Bªd
 **
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

3184 
b
=0; b<
nbªds
; b++) {

3185 
PlutoM©rix
 **
cÚe_com¶em’t_hyps
;

3186 
Bªd
 *
bªd
 = 
bªds
[
b
];

3187 
eviù_pos
;

3188 
i
, 
fœ¡_loİ_hyp
, 
cÚe_com¶em’t_pos
, 
ni
, 
s
;

3191 ià(
	`¶uto_loİ_is_·¿Î–
(
´og
, 
bªd
->
loİ
)) ;

3194 
Ploİ
 **
oİs
 = 
	`¶uto_g‘_loİs_immedŸ‹ly_šÃr
(
bªd
->
loİ
, 
´og
, &
ni
);

3195 
i
=0; i<
ni
; i++) {

3196 
s
=0; s<
bªd
->
loİ
->
n¡mts
; s++) {

3197 ià(!
	`¶uto_loİ_is_·¿Î–_fÜ_¡mt
(
´og
, 
oİs
[
i
],

3198 
bªd
->
loİ
->
¡mts
[
s
])) ;

3200 ià(
s
<
bªd
->
loİ
->
n¡mts
) ;

3202 ià(
i
<
ni
) {

3203 
	`¶uto_loİs_ä“
(
oİs
, 
ni
);

3208 
i
=0; i<
ni
; i++) {

3209 ià(!
	`¶uto_loİ_has_§tisf›d_d•_w™h_compÚ’t
(

3210 
´og
, 
oİs
[
i
])) ;

3212 
	`¶uto_loİs_ä“
(
oİs
, 
ni
);

3213 ià(
i
<
ni
) ;

3216 
PlutoM©rix
 *
cÚc_¡¬t_çûs
 = 
	`g‘_çû_w™h_cÚcu¼’t_¡¬t
(
´og
, 
bªd
);

3217 ià(!
cÚc_¡¬t_çûs
) ;

3221 
s
=0; s<
bªd
->
loİ
->
n¡mts
; s++) {

3222 
d
=
bªd
->
loİ
->
d•th
; d<bªd->loİ->d•th + bªd->
width
; d++) {

3223 ià(!
	`¶uto_veùÜ_is_nÜm®
(
bªd
->
loİ
->
¡mts
[
s
]->
Œªs
, 
d
,

3224 
cÚc_¡¬t_çûs
, 
s
)) ;

3226 ià(
d
 < 
bªd
->
loİ
->
d•th
 + bªd->
width
) ;

3228 ià(
s
 =ğ
bªd
->
loİ
->
n¡mts
) {

3229 
	`´štf
("row‚ormal\n");

3233 
cÚe_com¶em’t_hyps
 = 
	`m®loc
(

3234 
bªd
->
loİ
->
n¡mts
*(
PlutoM©rix
 *));

3235 
i
=0; i<
bªd
->
loİ
->
n¡mts
; i++) {

3236 
cÚe_com¶em’t_hyps
[
i
] = 
NULL
;

3239 
fœ¡_loİ_hyp
 = 
bªd
->
loİ
->
d•th
;

3245 
eviù_pos
 = 
	`fšd_hy³½ÏÃ_to_be_eviùed
(
bªd
, 
cÚc_¡¬t_çûs
, 
´og
);

3249 
cÚe_com¶em’t_pos
 = 
fœ¡_loİ_hyp
;

3253 ià(
eviù_pos
 =ğ
fœ¡_loİ_hyp
è
cÚe_com¶em’t_pos
++ ;

3254 
cÚc_¡¬t_’abËd_bªd
 = 
	`fšd_cÚe_com¶em’t_hy³½ÏÃ
(
bªd
, 
cÚc_¡¬t_çûs
, 
eviù_pos
,

3255 
cÚe_com¶em’t_pos
, 
ba£c¡
, 
´og
, 
cÚe_com¶em’t_hyps
);

3256 
	`¶uto_m©rix_ä“
(
cÚc_¡¬t_çûs
);

3261 ià(
cÚc_¡¬t_’abËd_bªd
) {

3262 
	`IF_DEBUG
(
	`´štf
("[pluto] Transformations before concurrent startƒnable\n"));

3263 
	`IF_DEBUG
(
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
););

3264 
	`IF_DEBUG
(
	`¶uto_´št_hy³½ÏÃ_´İ”t›s
(
´og
););

3265 
i
=0; i<
bªd
->
loİ
->
n¡mts
; i++){

3266 
Stmt
 *
¡mt
 = 
bªd
->
loİ
->
¡mts
[
i
];

3268 
	`as£¹
(
¡mt
->
eviùed_hyp
 =ğ
NULL
);

3269 
¡mt
->
eviùed_hyp
 = 
	`¶uto_m©rix_®loc
(1, stmt->
Œªs
->
ncŞs
);

3270 
	`cİy_hy³½ÏÃ
(
¡mt
->
eviùed_hyp
->
v®
[0],

3271 
¡mt
->
Œªs
->
v®
[
eviù_pos
], stmt->Œªs->
ncŞs
);

3272 
	`cİy_hy³½ÏÃ
(
¡mt
->
Œªs
->
v®
[
eviù_pos
],

3273 
cÚe_com¶em’t_hyps
[
i
]->
v®
[0], 
¡mt
->
Œªs
->
ncŞs
);

3274 
¡mt
->
eviùed_hyp_pos
 = 
eviù_pos
;

3278 
cÚc_¡¬t_’abËd
 |ğ
cÚc_¡¬t_’abËd_bªd
;

3280 
i
=0; i<
bªd
->
loİ
->
n¡mts
; i++) {

3281 
	`¶uto_m©rix_ä“
(
cÚe_com¶em’t_hyps
[
i
]);

3283 
	`ä“
(
cÚe_com¶em’t_hyps
);

3286 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

3288 ià(
cÚc_¡¬t_’abËd
) {

3289 
	`¶uto_d•_§tisçùiÚ_»£t
(
´og
);

3290 
	`PLUTO_MESSAGE
(
	`´štf
("[pluto] Concurrent start hyperplanes found\n"););

3291 
	`IF_DEBUG
(
	`´štf
("[pluto] Transformations‡fter concurrent startƒnable\n"));

3292 
	`IF_DEBUG
(
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
););

3295  
cÚc_¡¬t_’abËd
;

3296 
	}
}

	@pluto.h

20 #iâdeà
_PLUTO_H_


21 
	#_PLUTO_H_


	)

23 
	~<¡dboŞ.h
>

25 
	~"o¦/scİ.h
"

27 
	~"m©h_suµÜt.h
"

28 
	~"cÚ¡¿šts.h
"

29 
	~"ddg.h
"

30 
	~"¶uto/lib¶uto.h
"

32 
	~"o¦/ex‹nsiÚs/d•’d’û.h
"

36 #ifdeà
SCOPLIB_INT_T_IS_LONGLONG


37 
	#PLUTO_OSL_PRECISION
 64

	)

38 #–ià 
SCOPLIB_INT_T_IS_MP


39 
	#PLUTO_OSL_PRECISION
 0

	)

42 
	#IF_DEBUG
(
foo
è{ià(
İtiÚs
->
debug
 || o±iÚs->
mÜedebug
è{ foo; }}

	)

43 
	#IF_DEBUG2
(
foo
è{ià(
İtiÚs
->
mÜedebug
è{foo; }}

	)

44 
	#IF_MORE_DEBUG
(
foo
è{ià(
İtiÚs
->
mÜedebug
è{foo; }}

	)

45 
	#PLUTO_MESSAGE
(
foo
è{ià(!
İtiÚs
->
s’t
è{ foo; }}

	)

47 
	#MAX_TILING_LEVELS
 2

	)

49 
	#DEFAULT_L1_TILE_SIZE
 32

	)

50 
	#DEFAULT_L1_CACHE_SIZE
 (32*1024)

	)

51 
	#DEFAULT_L2_CACHE_SIZE
 (256*1024)

	)

52 
	#DEFAULT_L1_CACHE_LINESIZE
 64

	)

53 
	#DEFAULT_DATA_TYPE
 

	)

54 
	#BASE_TILE_SIZE
 8

	)

56 
	#CST_WIDTH
 (
Å¬
+1+
n¡mts
*(
nv¬
+1)+1)

	)

58 
	#ALLOW_NEGATIVE_COEFF
 1

	)

59 
	#DO_NOT_ALLOW_NEGATIVE_COEFF
 0

	)

61 
	edœvec_ty³
 {
	mDEP_MINUS
='-', 
	mDEP_ZERO
='0', 
	mDEP_PLUS
='+', 
	mDEP_STAR
='*'} 
	tD•Dœ
;

64 
	ehy±y³
 {
	mH_UNKNOWN
=0, 
	mH_LOOP
, 
	mH_TILE_SPACE_LOOP
,

65 
	mH_SCALAR
} 
	tPlutoHypTy³
;

68 
	#IS_UNIFORM
(
ty³
è(0)

	)

69 
	#IS_RAR
(
ty³
èÑy³ =ğ
OSL_DEPENDENCE_RAR
)

	)

70 
	#IS_RAW
(
ty³
èÑy³ =ğ
OSL_DEPENDENCE_RAW
)

	)

71 
	#IS_WAR
(
ty³
èÑy³ =ğ
OSL_DEPENDENCE_WAR
)

	)

72 
	#IS_WAW
(
ty³
èÑy³ =ğ
OSL_DEPENDENCE_WAW
)

	)

74 
	eloİty³
 {
	mUNKNOWN
=0, 
	mPARALLEL
, 
	mPIPE_PARALLEL
, 
	mSEQ
,

75 
	mPIPE_PARALLEL_INNER_PARALLEL
} 
	tPlutoLoİTy³
;

79 
	e¡m‰y³
 {
	mORIG
=0, 
	mSTMT_UNKNOWN
} 
	tPlutoStmtTy³
;

86 
	esŞvab™y
{

87 
	mNO_HYPERPLANE
 = 0,

88 
	mPARALLEL_HYPERPLANE
,

89 
	mSEQUENTIAL_HYPERPLANE


90 }
	tSŞvab™y
;

92 
	s¶uto_acûss
{

93 
	msym_id
;

94 *
	mÇme
;

96 
PlutoM©rix
 *
	mm©
;

97 } 
	tPlutoAcûss
;

102 
	s¡©em’t
{

103 
	mid
;

105 
PlutoCÚ¡¿šts
 *
	mdomaš
;

108 **
	m™”©Üs
;

111 *
	m‹xt
;

116 
boŞ
 *
	mis_Üig_loİ
;

119 
	mdim
;

122 
	mdim_Üig
;

125 
	mte
;

133 
PlutoM©rix
 *
	mŒªs
;

136 
PlutoM©rix
 *
	mÜig_Œªs
;

140 
PlutoM©rix
 *
	meviùed_hyp
;

144 
	meviùed_hyp_pos
;

147 
PlutoHypTy³
 *
	mhyp_ty³s
;

150 
PlutoHypTy³
 *
	mÜig_hyp_ty³s
;

153 
	mnum_ted_loİs
;

155 
PlutoAcûss
 **
	m»ads
;

156 
	mÄ—ds
;

158 
PlutoAcûss
 **
	mwr™es
;

159 
	mnwr™es
;

166 
	mscc_id
;

168 
	mfœ¡_te_dim
;

169 
	mÏ¡_te_dim
;

171 
PlutoStmtTy³
 
	mty³
;

174 cÚ¡ 
¡©em’t
 *
	m·»Á_compu‹_¡mt
;

176 
¡©em’t
 
	tStmt
;

178 
	s¡mt_acûss_·œ
{

179 
PlutoAcûss
 *
	macc
;

180 
Stmt
 *
	m¡mt
;

184 
	sd•’d’û
{

187 
	mid
;

190 
	m¤c
;

193 
	mde¡
;

196 
PlutoAcûss
 *
	m¤c_acc
;

197 
PlutoAcûss
 *
	mde¡_acc
;

206 
PlutoCÚ¡¿šts
 *
	mdpŞytİe
;

209 
PlutoCÚ¡¿šts
 *
	mboundšg_pŞy
;

215 
PlutoCÚ¡¿šts
 *
	m¤c_unique_dpŞytİe
;

217 
PlutoCÚ¡¿šts
 *
	md•§t_pŞy
;

220 
	mty³
;

223 
boŞ
 
	m§tisf›d
;

228 
	m§tisçùiÚ_Ëv–
;

235 *
	m§tvec
;

239 
PlutoCÚ¡¿šts
 *
	mc¡
;

242 
PlutoCÚ¡¿šts
 *
	mboundšg_c¡
;

245 
D•Dœ
 *
	mdœvec
;

247 
d•’d’û
 
	tD•
;

250 
	euÄŞlTy³
 {
	mNO_UNROLL
, 
	mUNROLL
, 
	mUNROLLJAM
} 
	tUÄŞlTy³
;

256 
	shy³½ÏÃ_´İ”t›s
{

259 
PlutoLoİTy³
 
	md•_´İ
;

263 
PlutoHypTy³
 
	mty³
;

268 
	mbªd_num
;

271 
UÄŞlTy³
 
	muÄŞl
;

274 
	m´evec
;

276 
hy³½ÏÃ_´İ”t›s
 
	tHy³½ÏÃPrİ”t›s
;

278 
	s¶utoProg
{

280 
Stmt
 **
	m¡mts
;

281 
	mn¡mts
;

285 
D•
 **
	md•s
;

286 
	mnd•s
;

291 
D•
 **
	mŒªsd•s
;

292 
	mÁ¿nsd•s
;

296 **
	md©a_Çmes
;

297 
	mnum_d©a
;

300 **
	m·¿ms
;

308 
	mnum_hy³½ÏÃs
;

311 
	mÜig_num_hy³½ÏÃs
;

314 
G¿ph
 *
	mddg
;

317 
PlutoO±iÚs
 *
	mİtiÚs
;

320 
Hy³½ÏÃPrİ”t›s
 *
	mhPrİs
;

323 
Hy³½ÏÃPrİ”t›s
 *
	mÜig_hPrİs
;

326 
	mnv¬
;

329 
	mÅ¬
;

332 
PlutoCÚ¡¿šts
 *
	mcÚ‹xt
;

335 
PlutoCÚ¡¿šts
 *
	mcodeg’_cÚ‹xt
;

337 
PlutoCÚ¡¿šts
 *
	mglobc¡
;

341 
	meviùed_hyp_pos
;

343 
o¦_scİ_p
 
	mscİ
;

345 
¶utoProg
 
	tPlutoProg
;

353 
	spLoİ
{

354 
	md•th
;

355 
Stmt
 **
	m¡mts
;

356 
	mn¡mts
;

357 } 
	tPloİ
;

359 
	s¶uto_d•_li¡
 {

360 
D•
 *
	md•
;

361 
¶uto_d•_li¡
 *
	mÃxt
;

363 
¶uto_d•_li¡
 
	tPlutoD•Li¡
;

365 
	s¶uto_cÚ¡¿šts_li¡
 {

366 
PlutoCÚ¡¿šts
 *
	mcÚ¡¿šts
;

367 
PlutoCÚ¡¿šts
 *
	m™”©iÚs
;

368 
PlutoD•Li¡
 *
	md•s
;

369 
Stmt
 *
	m¡mt
;

370 
PlutoAcûss
 *
	macûss
;

371 
¶uto_cÚ¡¿šts_li¡
 *
	mÃxt
;

374 
¶uto_cÚ¡¿šts_li¡
 
	tPlutoCÚ¡¿štsLi¡
;

376 
PlutoCÚ¡¿štsLi¡
* 
¶uto_cÚ¡¿šts_li¡_®loc
(
PlutoCÚ¡¿šts
 *
c¡
);

378 
¶uto_cÚ¡¿šts_li¡_ä“
(
PlutoCÚ¡¿štsLi¡
 *
c¡li¡
);

380 
¶uto_cÚ¡¿šts_li¡_add
(
PlutoCÚ¡¿štsLi¡
 *
li¡
,cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
,

381 
D•
 *
d•
, 
cİyD•
);

383 
¶uto_cÚ¡¿šts_li¡_»¶aû
(
PlutoCÚ¡¿štsLi¡
 *
li¡
, 
PlutoCÚ¡¿šts
 *
c¡
);

385 
	snode
 {

386 
	md©a
;

387 
node
 *
	mÃxt
;

389 
node
 
	tNode
;

391 
	sli¡
 {

392 
Node
 *
	mh—d
;

393 
Node
 *
	m
;

395 
li¡
 
	tLi¡
;

397 
Node
 *
®loc_node
(
d©a
);

398 
Li¡
 *
ü—‹_em±y_li¡
();

400 
push_node_to_li¡
(
Li¡
 *
li¡
, 
d©a
);

401 
pİ_node_äom_li¡
(
Li¡
 *
li¡
);

402 
Li¡
 *
m”ge_li¡s
(Li¡ *
li¡_1
, Li¡ *
li¡_2
);

404 
	sscc_şu¡”
 {

406 
	mšv¬ŸÁ_acûss
;

407 
	m¥©Ÿl_acûss
;

408 
boŞ
 
	mis_·¿Î–
;

409 
boŞ
 
	mis_veùÜizabË
;

410 
	mg¿nuÏr™y
;

411 
	mdi¡šù_acûss
;

412 
	mnum_acûss
;

415 
Li¡
 *
	mscc_li¡
;

417 
scc_şu¡”
 
	tSccClu¡”
;

419 
	sbªd
{

421 
Ploİ
 *
	mloİ
;

422 
	mwidth
;

424 
bªd
 **
	mchd»n
;

425 } 
	tBªd
;

430 
PlutoO±iÚs
 *
İtiÚs
;

432 
d•_®loc_memb”s
(
D•
 *);

433 
d•_ä“
(
D•
 *);

435 
¶uto_compu‹_d•_§tisçùiÚ
(
PlutoProg
 *
´og
);

436 
¶uto_compu‹_d•_§tisçùiÚ_´eci£
(
PlutoProg
 *
´og
);

437 
boŞ
 
d•_is_§tisf›d
(
D•
 *
d•
);

438 
¶uto_d‘eù_ŒªsfÜm©iÚ_´İ”t›s
(
PlutoProg
 *
´og
);

439 
¶uto_d‘eù_hy³½ÏÃ_ty³s_¡mtwi£
(
PlutoProg
 *
´og
);

441 
¶uto_compu‹_§tisçùiÚ_veùÜs
(
PlutoProg
 *
´og
);

442 
¶uto_compu‹_d•_dœeùiÚs
(
PlutoProg
 *
´og
);

444 
PlutoCÚ¡¿šts
 *
g‘_£Ëùive_³rmub™y_cÚ¡¿šts
(
PlutoProg
 *
´og
, 
boŞ
 *
¡mts_to_cÚsid”
);

445 
PlutoCÚ¡¿šts
 *
g‘_³rmub™y_cÚ¡¿šts
(
PlutoProg
 *);

446 
PlutoCÚ¡¿šts
 *
g‘_ãauŒ›r_scheduË_cÚ¡¿šts
(
PlutoProg
 *
´og
, 
Stmt
 **, );

447 
PlutoCÚ¡¿šts
 **
g‘_¡mt_Ütho_cÚ¡¿šts
(
Stmt
 *
¡mt
, cÚ¡ 
PlutoProg
 *
´og
,

448 cÚ¡ 
PlutoCÚ¡¿šts
 *
cu¼c¡
, *
ÜthÚum
);

449 
PlutoCÚ¡¿šts
 *
g‘_glob®_šd•’d’û_c¡
(

450 
PlutoCÚ¡¿šts
 ***
Ütho_c¡
, *
ÜthÚum
,

451 cÚ¡ 
PlutoProg
 *
´og
);

452 
PlutoCÚ¡¿šts
 *
g‘_nÚ_ŒivŸl_sŞ_cÚ¡¿šts
(cÚ¡ 
PlutoProg
 *, 
boŞ
);

454 
¶uto_auto_ŒªsfÜm
(
PlutoProg
 *
´og
);

455 
¶uto_muÉicÜe_codeg’
(
FILE
 *
å
, FILE *
outå
, cÚ¡ 
PlutoProg
 *
´og
);

457 
fšd_³rmubË_hy³½ÏÃs
(
PlutoProg
 *
´og
, 
boŞ
 
lš_šd_mode
,

458 
max_sŞs
, 
bªd_d•th
);

459 
št64
 *
g‘_be¡_sŞutiÚ
(
PlutoProg
 *
´og
, 
G¿ph
 *
ddg
, 
boŞ
 *
¡mts_to_cÚsid”
);

461 
d‘eù_hy³½ÏÃ_ty³
(
Stmt
 *
¡mts
, 
n¡mts
, 
D•
 *
d•s
, 
nd•s
, , , );

462 
D•Dœ
 
g‘_d•_dœeùiÚ
(cÚ¡ 
D•
 *
d•
, cÚ¡ 
PlutoProg
 *
´og
, 
Ëv–
);

463 
D•Dœ
 
g‘_d•_dœeùiÚ_w™h_hy³½ÏÃ
(cÚ¡ 
D•
 *
d•
, cÚ¡ 
PlutoProg
 *
´og
, 
št64
 *
hy³½ÏÃ
);

465 
g‘IÂ”mo¡TabËBªd
(
PlutoProg
 *
´og
, *
bªdS¹
, *
bªdEnd
);

466 
g‘Ou‹rmo¡TabËBªd
(
PlutoProg
 *
´og
, *
bªdS¹
, *
bªdEnd
);

468 
¶uto_g’_şoog_fe
(
FILE
 *
å
, cÚ¡ 
PlutoProg
 *
´og
);

469 
cut_ligh‹¡_edge
(
Stmt
 *
¡mts
, 
n¡mts
, 
D•
 *
d•s
, 
nd•s
, );

470 
i¦_uniÚ_m­
 *
i¦_uniÚ_m­_fÜ_¶uto_scheduË
(
PlutoProg
 *
´og
, 
i¦_ùx
 *
ùx
, 
i¦_¥aû
 *
¥aû
);

471 
g‘_te_dim
(
PlutoProg
 *
´og
, 
i¦_uniÚ_£t
 *
domašs
);

472 *
g‘_auto_te_size
(
PlutoProg
 *
´og
, 
i¦_uniÚ_£t
 *
domašs
, 
i¦_uniÚ_m­
 *
»ad
,

473 
i¦_uniÚ_m­
 *
wr™e
);

474 
¶uto_te
(
PlutoProg
 *, *);

475 
boŞ
 
¶uto_ü—‹_te_scheduË
(
PlutoProg
 *
´og
, 
Bªd
 **
bªds
, 
nbªds
);

476 
¶uto_d‘eù_m¬k_uÄŞÏbË_loİs
(
PlutoProg
 *
´og
);

478 
¶uto_omp_·¿Î–ize
(
PlutoProg
 *
´og
);

480 
ddg_upd©e
(
G¿ph
 *
g
, 
PlutoProg
 *
´og
);

481 
ddg_compu‹_scc
(
PlutoProg
 *
´og
);

482 
G¿ph
 *
ddg_ü—‹
(
PlutoProg
 *
´og
);

483 
ddg_sccs_dœeù_cÚn
(
G¿ph
 *
g
, 
PlutoProg
 *
´og
, 
scc1
, 
scc2
);

485 
uÄŞl_phis
(
PlutoProg
 *
´og
, 
uÄŞl_dim
, 
uçùÜ
);

487 
¶uto_´št_d•_dœeùiÚs
(
PlutoProg
 *
´og
);

488 
¶uto_´št_d•§t_veùÜs
(
PlutoProg
 *
´og
, 
Ëv–s
);

489 
PlutoCÚ¡¿šts
 *
¶uto_¡mt_g‘_scheduË
(cÚ¡ 
Stmt
 *
¡mt
);

490 
¶uto_upd©e_d•s
(
Stmt
 *
¡mt
, 
PlutoCÚ¡¿šts
 *
c¡
, 
PlutoProg
 *
´og
);

492 
PlutoM©rix
 *
g‘_Ãw_acûss_func
(cÚ¡ 
Stmt
 *
¡mt
, cÚ¡ PlutoM©rix *
acc
, cÚ¡ 
PlutoProg
 *
´og
);

493 
PlutoCÚ¡¿šts
 *
¶uto_g‘_Ãw_domaš
(cÚ¡ 
Stmt
 *
¡mt
);

494 
PlutoCÚ¡¿šts
 *
¶uto_compu‹_»giÚ_d©a
(cÚ¡ 
Stmt
 *
¡mt
, cÚ¡ PlutoCÚ¡¿št *
dom
,

495 cÚ¡ 
PlutoAcûss
 *
acc
, 
cİy_Ëv–
, cÚ¡ 
PlutoProg
 *
´og
);

497 
g’”©e_deş¬©iÚs
(cÚ¡ 
PlutoProg
 *
´og
, 
FILE
 *
outå
);

498 
¶uto_g’_şoog_code
(cÚ¡ 
PlutoProg
 *
´og
, 
şoogf
, 
şoogl
, 
FILE
 *
şoogå
, FILE *
outå
);

499 
¶uto_add_giv’_¡mt
(
PlutoProg
 *
´og
, 
Stmt
 *
¡mt
);

501 
is_loİ_domš©ed
(
Ploİ
 *
loİ1
, Ploİ *
loİ2
, cÚ¡ 
PlutoProg
 *
´og
);

502 
Ploİ
 **
¶uto_g‘_·¿Î–_loİs
(cÚ¡ 
PlutoProg
 *
´og
, *
Åloİs
);

503 
Ploİ
 **
¶uto_g‘_®l_loİs
(cÚ¡ 
PlutoProg
 *
´og
, *
num
);

504 
Ploİ
 **
¶uto_g‘_dom_·¿Î–_loİs
(cÚ¡ 
PlutoProg
 *
´og
, *
Åloİs
);

505 
Bªd
 **
¶uto_g‘_dom_·¿Î–_bªds
(
PlutoProg
 *
´og
, *
nbªds
, **
comm_¶aûm’t_Ëv–s
);

506 
¶uto_loİ_´št
(cÚ¡ 
Ploİ
 *
loİ
);

507 
¶uto_loİs_´št
(
Ploİ
 **
loİs
, 
num
);

508 
¶uto_loİs_ä“
(
Ploİ
 **
loİs
, 
Æoİs
);

509 
¶uto_loİ_com·r
(cÚ¡ *
_l1
, cÚ¡ *
_l2
);

510 
Bªd
 *
¶uto_bªd_®loc
(
Ploİ
 *
loİ
, 
width
);

511 
¶uto_bªds_´št
(
Bªd
 **
bªds
, 
num
);

512 
¶uto_bªd_´št
(cÚ¡ 
Bªd
 *
bªd
);

514 
Bªd
 **
¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
PlutoProg
 *
´og
, *
ndbªds
);

515 
Ploİ
 *
¶uto_loİ_dup
(Ploİ *
l
);

516 
¶uto_loİ_is_·¿Î–
(cÚ¡ 
PlutoProg
 *
´og
, 
Ploİ
 *
loİ
);

517 
¶uto_loİ_is_·¿Î–_fÜ_¡mt
(cÚ¡ 
PlutoProg
 *
´og
, cÚ¡ 
Ploİ
 *
loİ
,

518 cÚ¡ 
Stmt
 *
¡mt
);

519 
¶uto_loİ_has_§tisf›d_d•_w™h_compÚ’t
(cÚ¡ 
PlutoProg
 *
´og
,

520 cÚ¡ 
Ploİ
 *
loİ
);

521 
¶uto_bªds_ä“
(
Bªd
 **
bªds
, 
nbªds
);

522 
¶uto_is_hy³½ÏÃ_loİ
(cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
);

523 
¶uto_d‘eù_hy³½ÏÃ_ty³s
(
PlutoProg
 *
´og
);

524 
¶uto_te_bªd
(
PlutoProg
 *
´og
, 
Bªd
 *
bªd
, *
te_sizes
);

526 
Ploİ
 **
¶uto_g‘_loİs_und”
(
Stmt
 **
¡mts
, 
n¡mts
, 
d•th
,

527 cÚ¡ 
PlutoProg
 *
´og
, *
num
);

528 
Ploİ
 **
¶uto_g‘_loİs_immedŸ‹ly_šÃr
(Ploİ *
¶oİ
, 
PlutoProg
 *
´og
, *
num
);

529 
¶uto_šŒa_te_İtimize
(
PlutoProg
 *
´og
, 
is_ted
);

530 
¶uto_šŒa_te_İtimize_bªd
(
Bªd
 *
bªd
, 
is_ted
, 
PlutoProg
 *
´og
);

532 
¶uto_´e_veùÜize_bªd
(
Bªd
 *
bªd
, 
is_ted
, 
PlutoProg
 *
´og
);

533 
¶uto_is_bªd_šÃrmo¡
(cÚ¡ 
Bªd
 *
bªd
, 
is_ted
);

534 
Bªd
 **
¶uto_g‘_šÃrmo¡_³rmubË_bªds
(
PlutoProg
 *
´og
, *
ndbªds
);

535 
¶uto_loİ_is_šÃrmo¡
(cÚ¡ 
Ploİ
 *
loİ
, cÚ¡ 
PlutoProg
 *
´og
);

537 
PlutoCÚ¡¿šts
 *
¶uto_g‘_ŒªsfÜmed_dpŞy
(cÚ¡ 
D•
 *
d•
, 
Stmt
 *
¤c
, Stmˆ*
de¡
);

539 
¶uto_d‘eù_sÿÏr_dim’siÚs
(
PlutoProg
 *
´og
);

540 
¶uto_d‘eù_m¬k_uÄŞÏbË_loİs
(
PlutoProg
 *
´og
);

541 
¶uto_¬e_¡mts_fu£d
(
Stmt
 **
¡mts
, 
n¡mts
, cÚ¡ 
PlutoProg
 *
´og
);

543 
¶uto_iss_d•
(
PlutoProg
 *
´og
);

544 
PlutoCÚ¡¿šts
 *
¶uto_fšd_iss
(cÚ¡ PlutoCÚ¡¿št **
doms
, 
ndoms
, 
Å¬
, PlutoConstraints *);

545 
¶uto_iss
(
Stmt
 *
¡mt
, 
PlutoCÚ¡¿šts
 **
cuts
, 
num_cuts
, 
PlutoProg
 *
´og
);

	@pluto_codegen_if.c

25 
	~<¡dio.h
>

26 
	~<¡dlib.h
>

27 
	~<as£¹.h
>

28 
	~<m©h.h
>

29 
	~<¡ršg.h
>

30 
	~<¡dboŞ.h
>

32 
	~<şoog/şoog.h
>

34 
	~"v”siÚ.h
"

36 
	~"¶uto.h
"

37 
	~"m©h_suµÜt.h
"

38 
	~"cÚ¡¿šts.h
"

39 
	~"´og¿m.h
"

40 
	~"a¡_ŒªsfÜm.h
"

42 
	$g‘_fœ¡_pošt_loİ
(
Stmt
 *
¡mt
, cÚ¡ 
PlutoProg
 *
´og
)

44 
i
, 
fœ¡_pošt_loİ
;

46 ià(
¡mt
->
ty³
 !ğ
ORIG
) {

47 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

48 ià(!
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
¡mt
, 
i
)) {

49  
i
;

56 
i
=
¡mt
->
Ï¡_te_dim
+1; i<¡mt->
Œªs
->
Äows
; i++) {

57 ià(
¡mt
->
hyp_ty³s
[
i
] =ğ
H_LOOP
) ;

60 ià(
i
 < 
´og
->
num_hy³½ÏÃs
) {

61 
fœ¡_pošt_loİ
 = 
i
;

65 
fœ¡_pošt_loİ
 = 0;

68  
fœ¡_pošt_loİ
;

69 
	}
}

73 
	$¶uto_g’_şoog_fe
(
FILE
 *
å
, cÚ¡ 
PlutoProg
 *
´og
)

75 
i
;

77 
Stmt
 **
¡mts
 = 
´og
->stmts;

78 
n¡mts
 = 
´og
->nstmts;

79 
Å¬
 = 
´og
->npar;

81 
	`IF_DEBUG
(
	`´štf
("[pluto] generating Cloog file...\n"));

82 
	`årštf
(
å
, "# CLooG süˆg’”©ed‡utom©iÿÎy by PLUTO %s\n", 
PLUTO_VERSION
);

83 
	`årštf
(
å
, "#†anguage: C\n");

84 
	`årštf
(
å
, "c\n\n");

87 
PlutoCÚ¡¿šts
 *
ùx
 = 
	`¶uto_cÚ¡¿šts_dup
(
´og
->
cÚ‹xt
);

88 
	`¶uto_cÚ¡¿šts_š‹r£ù_i¦
(
ùx
, 
´og
->
codeg’_cÚ‹xt
);

89 
	`¶uto_cÚ¡¿šts_´št_pŞylib
(
å
, 
ùx
);

90 
	`¶uto_cÚ¡¿šts_ä“
(
ùx
);

93 
	`årštf
(
å
, "\n1\n");

94 
i
=0; i<
Å¬
; i++) {

95 
	`årštf
(
å
, "% ", 
´og
->
·¿ms
[
i
]);

97 
	`årštf
(
å
, "\n\n");

99 
	`årštf
(
å
, "# Number of statements\n");

100 
	`årštf
(
å
, "%d\n\n", 
n¡mts
);

103 
i
=0; i<
n¡mts
; i++) {

104 
	`årštf
(
å
, "# S%d (%s)\n", 
¡mts
[
i
]->
id
+1, stmts[i]->
‹xt
);

105 
	`¶uto_cÚ¡¿šts_´št_pŞylib
(
å
, 
¡mts
[
i
]->
domaš
);

106 
	`årštf
(
å
, "0 0 0\n\n");

109 
	`årštf
(
å
, "# we want cloogo sethe iterator‚ames\n");

110 
	`årštf
(
å
, "0\n\n");

112 
	`årštf
(
å
, "# Number of scattering functions\n");

113 ià(
n¡mts
 >ğ1 && 
¡mts
[0]->
Œªs
 !ğ
NULL
) {

114 
	`årštf
(
å
, "%d\n\n", 
n¡mts
);

117 
i
=0; i<
n¡mts
; i++) {

118 
	`årštf
(
å
, "# T(S%d)\n", 
i
+1);

119 
PlutoCÚ¡¿šts
 *
sched
 = 
	`¶uto_¡mt_g‘_scheduË
(
¡mts
[
i
]);

120 
	`¶uto_cÚ¡¿šts_´št_pŞylib
(
å
, 
sched
);

121 
	`årštf
(
å
, "\n");

122 
	`¶uto_cÚ¡¿šts_ä“
(
sched
);

126 
	`årštf
(
å
, "# we will sethe scattering dimension‚ames\n");

127 
	`årštf
(
å
, "%d\n", 
¡mts
[0]->
Œªs
->
Äows
);

128 
i
=0; i<
¡mts
[0]->
Œªs
->
Äows
; i++) {

129 
	`årštf
(
å
, "t%d ", 
i
+1);

131 
	`årštf
(
å
, "\n");

133 
	`årštf
(
å
, "0\n\n");

135 
	}
}

137 
	$g’_¡mt_maüo
(cÚ¡ 
Stmt
 *
¡mt
, 
FILE
 *
outå
)

139 
j
;

141 
j
=0; j<
¡mt
->
dim
; j++) {

142 ià(
¡mt
->
™”©Üs
[
j
] =ğ
NULL
) {

143 
	`´štf
("I‹¿tÜ‚amnÙ s‘ fÜ S%d;„equœed \
 g’”©šg deş¬©iÚs\n", 
¡mt
->
id
+1);

145 
	`as£¹
(0);

148 
	`årštf
(
outå
, "#defšS%d", 
¡mt
->
id
+1);

149 
	`årštf
(
outå
, "(");

150 
j
=0; j<
¡mt
->
dim
; j++) {

151 ià(
j
!=0è
	`årštf
(
outå
, ",");

152 
	`årštf
(
outå
, "%s", 
¡mt
->
™”©Üs
[
j
]);

154 
	`årštf
(
outå
, ")\t");

157 ià(
İtiÚs
->
b“
) {

158 
	`årštf
(
outå
, " __bee_schedule");

159 
j
=0; j<
¡mt
->
Œªs
->
Äows
; j++) {

160 
	`årštf
(
outå
, "[");

161 
	`¶uto_affše_funùiÚ_´št
(
outå
, 
¡mt
->
Œªs
->
v®
[
j
],

162 
¡mt
->
dim
, stmt->
™”©Üs
);

163 
	`årštf
(
outå
, "]");

165 
	`årštf
(
outå
, " _NL_DELIMIT_ ");

167 
	`årštf
(
outå
, "%s\n", 
¡mt
->
‹xt
);

168 
	}
}

172 
	$g’”©e_deş¬©iÚs
(cÚ¡ 
PlutoProg
 *
´og
, 
FILE
 *
outå
)

174 
i
;

176 
Stmt
 **
¡mts
 = 
´og
->stmts;

177 
n¡mts
 = 
´og
->nstmts;

180 
i
=0; i<
n¡mts
; i++) {

181 
	`g’_¡mt_maüo
(
¡mts
[
i
], 
outå
);

183 
	`årštf
(
outå
, "\n");

186 ià(
´og
->
num_hy³½ÏÃs
 >= 1) {

187 
	`årštf
(
outå
, "\t\tint ");

188 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

189 ià(
i
!=0è
	`årštf
(
outå
, ", ");

190 
	`årštf
(
outå
, "t%d", 
i
+1);

191 ià(
´og
->
hPrİs
[
i
].
uÄŞl
) {

192 
	`årštf
(
outå
, ",%dt,‚ewlb_t%d,‚ewub_t%d", 
i
+1, i+1, i+1);

195 
	`årštf
(
outå
, ";\n\n");

198 ià(
İtiÚs
->
·¿Î–
) {

199 
	`årštf
(
outå
, "\tint†b, ub,†bp, ubp,†b2, ub2;\n");

202 
	`årštf
(
outå
, "\tregister int†bv, ubv;\n\n");

205 
	}
}

215 
	$¶uto_g’_şoog_code
(cÚ¡ 
PlutoProg
 *
´og
, 
şoogf
, 
şoogl
,

216 
FILE
 *
şoogå
, FILE *
outå
)

218 
CloogIÅut
 *
šput
 ;

219 
CloogO±iÚs
 *
şoogO±iÚs
 ;

220 
CloogS‹
 *
¡©e
;

221 
i
;

223 
şa¡_¡mt
 *
roÙ
;

225 
Stmt
 **
¡mts
 = 
´og
->stmts;

226 
n¡mts
 = 
´og
->nstmts;

228 
¡©e
 = 
	`şoog_¡©e_m®loc
();

229 
şoogO±iÚs
 = 
	`şoog_İtiÚs_m®loc
(
¡©e
);

231 
şoogO±iÚs
->
fs
 = 
	`m®loc
 (
n¡mts
*());

232 
şoogO±iÚs
->
ls
 = 
	`m®loc
(
n¡mts
*());

233 
şoogO±iÚs
->
fs_ls_size
 = 
n¡mts
;

235 
i
=0; i<
n¡mts
; i++) {

236 
şoogO±iÚs
->
fs
[
i
] = -1;

237 
şoogO±iÚs
->
ls
[
i
] = -1;

240 
şoogO±iÚs
->
Çme
 = "CLooG file…roduced by PLUTO";

241 
şoogO±iÚs
->
compabË
 = 0;

242 
şoogO±iÚs
->
e¥
 = 1;

243 
şoogO±iÚs
->
¡rides
 = 1;

244 
şoogO±iÚs
->
qu›t
 = 
İtiÚs
->
s’t
;

247 
şoogO±iÚs
->
backŒack
 = 
İtiÚs
->
şoogbackŒack
;

249 ià(
İtiÚs
->
şoogf
 >ğ1 && o±iÚs->
şoogl
 >= 1) {

250 
şoogO±iÚs
->
f
 = 
İtiÚs
->
şoogf
;

251 
şoogO±iÚs
->
l
 = 
İtiÚs
->
şoogl
;

253 ià(
şoogf
 >ğ1 && 
şoogl
 >= 1) {

254 
şoogO±iÚs
->
f
 = 
şoogf
;

255 
şoogO±iÚs
->
l
 = 
şoogl
;

256 }ià(
İtiÚs
->
te
) {

257 
i
=0; i<
n¡mts
; i++) {

258 
şoogO±iÚs
->
fs
[
i
] = 
	`g‘_fœ¡_pošt_loİ
(
¡mts
[i], 
´og
)+1;

259 
şoogO±iÚs
->
ls
[
i
] = 
´og
->
num_hy³½ÏÃs
;

263 
şoogO±iÚs
->
f
 = 1;

266 
şoogO±iÚs
->
l
 = 
´og
->
num_hy³½ÏÃs
;

270 ià(!
İtiÚs
->
s’t
) {

271 ià(
n¡mts
 >ğ1 && 
şoogO±iÚs
->
fs
[0] >= 1) {

272 
	`´štf
("[pluto] using statement-wise -fs/-ls options: ");

273 
i
=0; i<
n¡mts
; i++) {

274 
	`´štf
("S%d(%d,%d), ", 
i
+1, 
şoogO±iÚs
->
fs
[i],

275 
şoogO±iÚs
->
ls
[
i
]);

277 
	`´štf
("\n");

279 
	`´štf
("[pluto] using Cloog -f/-l options: %d %d\n",

280 
şoogO±iÚs
->
f
, cloogO±iÚs->
l
);

284 ià(
İtiÚs
->
şoogsh
)

285 
şoogO±iÚs
->
sh
 = 1;

287 
şoogO±iÚs
->
Çme
 = "PLUTO-produced CLooG file";

289 
	`årštf
(
outå
, "/* Start of CLooG code */\n");

291 
	`IF_DEBUG
(
	`´štf
("[pluto] cloog_input_read\n"));

292 
šput
 = 
	`şoog_šput_»ad
(
şoogå
, 
şoogO±iÚs
) ;

293 
	`IF_DEBUG
(
	`´štf
("[pluto] cloog_clast_create\n"));

294 
roÙ
 = 
	`şoog_şa¡_ü—‹_äom_šput
(
šput
, 
şoogO±iÚs
);

295 ià(
İtiÚs
->
´eveùÜ
) {

296 
	`¶uto_m¬k_veùÜ
(
roÙ
, 
´og
, 
şoogO±iÚs
);

298 ià(
İtiÚs
->
·¿Î–
) {

299 
	`¶uto_m¬k_·¿Î–
(
roÙ
, 
´og
, 
şoogO±iÚs
);

301 
	`şa¡_µršt
(
outå
, 
roÙ
, 0, 
şoogO±iÚs
);

302 
	`şoog_şa¡_ä“
(
roÙ
);

304 
	`årštf
(
outå
, "/* End of CLooG code */\n");

306 
	`şoog_İtiÚs_ä“
(
şoogO±iÚs
);

307 
	`şoog_¡©e_ä“
(
¡©e
);

310 
	}
}

315 
	$¶uto_muÉicÜe_codeg’
(
FILE
 *
şoogå
, FILE *
outå
, cÚ¡ 
PlutoProg
 *
´og
)

317 ià(
İtiÚs
->
·¿Î–
) {

318 
	`årštf
(
outå
, "#include <omp.h>\n\n");

320 
	`g’”©e_deş¬©iÚs
(
´og
, 
outå
);

322 ià(
İtiÚs
->
muÉ¬
) {

323 
	`årštf
(
outå
, "\tomp_set_nested(1);\n");

324 
	`årštf
(
outå
, "\tomp_set_num_threads(2);\n");

327 
	`¶uto_g’_şoog_code
(
´og
, -1, -1, 
şoogå
, 
outå
);

330 
	}
}

341 
	$¶uto_omp_·¿Î–ize
(
PlutoProg
 *
´og
)

343 
i
;

345 
FILE
 *
outå
 = 
	`fİ’
(".pragmas", "w");

347 ià(!
outå
)  1;

349 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
 = 
´og
->hProps;

351 
loİ
;

360 
num_·¿Î–_loİs
 = 0;

361 
loİ
=0;†oİ<
´og
->
num_hy³½ÏÃs
;†oop++) {

362 ià(
hPrİs
[
loİ
].
d•_´İ
 =ğ
PARALLEL
 && hPrİs[loİ].
ty³
 !ğ
H_SCALAR
) {

364 
	`årštf
(
outå
, "t%d #´agm¨om°·¿Î– fÜ sh¬ed(", 
loİ
+1);

366 
i
=0; i<
loİ
; i++) {

367 
	`årštf
(
outå
, "t%d,", 
i
+1);

370 
i
=0; i<
num_·¿Î–_loİs
+1; i++) {

371 ià(
i
!=0è
	`årštf
(
outå
, ",");

372 
	`årštf
(
outå
, "lb%d,ub%d", 
i
+1, i+1);

375 
	`årštf
(
outå
, ")…rivate(");

377 ià(
İtiÚs
->
´eveùÜ
) {

378 
	`årštf
(
outå
, "ubv,lbv,");

384 ià(
İtiÚs
->
muÉ¬
) {

385 
i
=
num_·¿Î–_loİs
+1; i<2; i++) {

386 
	`årštf
(
outå
, "lb%d,ub%d,", 
i
+1, i+1);

390 
i
=
loİ
; i<
´og
->
num_hy³½ÏÃs
; i++) {

391 ià(
i
!=
loİ
è
	`årštf
(
outå
, ",");

392 
	`årštf
(
outå
, "t%d", 
i
+1);

394 
	`årštf
(
outå
, ")\n");

396 
num_·¿Î–_loİs
++;

398 ià(!
İtiÚs
->
muÉ¬
 || 
num_·¿Î–_loİs
 == 2) {

404 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "[pluto] marked %d†oop(s)…arallel\n",

405 
num_·¿Î–_loİs
));

407 
	`fşo£
(
outå
);

409  
num_·¿Î–_loİs
;

410 
	}
}

	@polyloop.c

25 
	~<as£¹.h
>

26 
	~<¡ršg.h
>

28 
	~"¶uto.h
"

29 
	~"´og¿m.h
"

31 
Ploİ
 *
	$¶uto_loİ_®loc
()

33 
Ploİ
 *
loİ
 = 
	`m®loc
((Ploop));

34 
loİ
->
n¡mts
 = 0;

35 
loİ
->
d•th
 = -1;

36 
loİ
->
¡mts
 = 
NULL
;

37  
loİ
;

38 
	}
}

41 
	$¶uto_loİ_´št
(cÚ¡ 
Ploİ
 *
loİ
)

43 
i
;

44 
	`´štf
("t%d {loİ w™h stmts: ", 
loİ
->
d•th
+1);

45 
i
=0; i<
loİ
->
n¡mts
; i++) {

46 
	`´štf
("S%d, ", 
loİ
->
¡mts
[
i
]->
id
+1);

48 
	`´štf
("}\n");

49 
	}
}

51 
	$¶uto_loİs_´št
(
Ploİ
 **
loİs
, 
num
)

53 
i
;

54 
i
=0; i<
num
; i++) {

55 
	`¶uto_loİ_´št
(
loİs
[
i
]);

57 
	}
}

61 
Ploİ
 *
	$¶uto_loİ_dup
(
Ploİ
 *
l
)

63 
Ploİ
 *
loİ
;

64 
loİ
 = 
	`¶uto_loİ_®loc
();

65 
loİ
->
d•th
 = 
l
->depth;

66 
loİ
->
n¡mts
 = 
l
->nstmts;

67 
loİ
->
¡mts
 = 
	`m®loc
Öoİ->
n¡mts
*(
Stmt
 *));

68 
	`memıy
(
loİ
->
¡mts
, 
l
->¡mts,†->
n¡mts
*(
Stmt
 *));

69  
loİ
;

70 
	}
}

74 
	$¶uto_loİ_ä“
(
Ploİ
 *
loİ
)

76 ià(
loİ
->
¡mts
 !ğ
NULL
) {

77 
	`ä“
(
loİ
->
¡mts
);

79 
	`ä“
(
loİ
);

80 
	}
}

82 
	$¶uto_loİs_ä“
(
Ploİ
 **
loİs
, 
Æoİs
)

84 
i
;

85 
i
=0; i<
Æoİs
; i++) {

86 
	`¶uto_loİ_ä“
(
loİs
[
i
]);

88 
	`ä“
(
loİs
);

89 
	}
}

97 
Ploİ
 **
	$¶uto_loİs_ÿt
(
Ploİ
 **
de¡
, 
num1
, Ploİ **
¤c
, 
num2
)

99 
	`as£¹
(
num1
 >ğ0 && 
num2
 >= 0);

100 ià(
num1
 =ğ0 && 
num2
 == 0) {

101  
de¡
;

103 
de¡
 = 
	`»®loc
(de¡, (
num1
+
num2
)*(
Ploİ
 *));

104 
	`memıy
(
de¡
+
num1
, 
¤c
, 
num2
*(
Ploİ
 *));

105  
de¡
;

106 
	}
}

110 
Ploİ
 **
	$¶uto_g‘_loİs_immedŸ‹ly_šÃr
(
Ploİ
 *
¶oİ
, 
PlutoProg
 *
´og
,

111 *
num
)

113 
ni
, 
i
;

115 
Ploİ
 **
loİs
 = 
	`¶uto_g‘_loİs_und”
(
¶oİ
->
¡mts
,…loİ->
n¡mts
,

116 
¶oİ
->
d•th
, 
´og
, &
ni
);

118 *
num
 = 0;

120 
Ploİ
 **
imloİs
 = 
NULL
;

122 
i
=0; i<
ni
; i++) {

123 ià(
loİs
[
i
]->
d•th
 =ğ
¶oİ
->depth+1) {

124 
Ploİ
 *
loİ
 = 
	`¶uto_loİ_dup
(
loİs
[
i
]);

125 
imloİs
 = 
	`¶uto_loİs_ÿt
(imloİs, (*
num
)++,

126 &
loİ
, 1);

130 
	`¶uto_loİs_ä“
(
loİs
, 
ni
);

132  
imloİs
;

133 
	}
}

140 
Ploİ
 **
	$¶uto_g‘_loİs_und”
(
Stmt
 **
¡mts
, 
n¡mts
, 
d•th
,

141 cÚ¡ 
PlutoProg
 *
´og
, *
num
)

143 
i
;

144 
Ploİ
 **
®l_loİs
 = 
NULL
;

145 
boŞ
 
loİ
;

147 ià(
d•th
 >ğ
´og
->
num_hy³½ÏÃs
) {

148 *
num
 = 0;

149  
NULL
;

152 
i
=0; i<
n¡mts
; i++) {

153 ià(
¡mts
[
i
]->
ty³
 !ğ
ORIG
) ;

154 ià(
	`¶uto_is_hy³½ÏÃ_loİ
(
¡mts
[
i
], 
d•th
)) ;

157 
loİ
 = (
i
<
n¡mts
);

159 ià(
loİ
) {

163 
num_šÃr
=0, 
loİ_n¡mts
, 
i
;

164 
Ploİ
 **
šÃr_loİs
, *
this_loİ
;

165 
this_loİ
 = 
	`¶uto_loİ_®loc
();

166 
this_loİ
->
¡mts
 = 
	`m®loc
(
n¡mts
*(
Stmt
 *));

168 
loİ_n¡mts
 = 0;

169 
i
=0; i<
n¡mts
; i++) {

170 ià(!
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
¡mts
[
i
], 
d•th
)) {

171 
	`memıy
(
this_loİ
->
¡mts
+
loİ_n¡mts
, stmts+
i
, (
Stmt
 *));

172 
loİ_n¡mts
++;

175 
this_loİ
->
n¡mts
 = 
loİ_n¡mts
;

176 
this_loİ
->
d•th
 = depth;

184 
šÃr_loİs
 = 
	`¶uto_g‘_loİs_und”
(
¡mts
, 
n¡mts
, 
d•th
+1, 
´og
, &
num_šÃr
);

185 ià(
loİ_n¡mts
 >= 1) {

186 
šÃr_loİs
 = 
	`¶uto_loİs_ÿt
(šÃr_loİs, 
num_šÃr
, &
this_loİ
, 1);

187 *
num
 = 
num_šÃr
 + 1;

189 
	`¶uto_loİ_ä“
(
this_loİ
);

190 *
num
 = 
num_šÃr
;

192 
®l_loİs
 = 
šÃr_loİs
;

196 
Stmt
 ***
groups
;

197 
i
, 
j
, 
num_g½s
;

198 *
num_¡mts_³r_g½
;

200 
num_g½s
 = 0;

201 
num_¡mts_³r_g½
 = 
NULL
;

202 
groups
 = 
NULL
;

204 
i
=0; i<
n¡mts
; i++) {

205 
Stmt
 *
¡mt
 = 
¡mts
[
i
];

206 
j
=0; j<
num_g½s
; j++) {

207 ià(
¡mt
->
Œªs
->
v®
[
d•th
][¡mt->Œªs->
ncŞs
-1] ==

208 
groups
[
j
][0]->
Œªs
->
v®
[
d•th
][groups[j][0]->Œªs->
ncŞs
-1]) {

210 
groups
[
j
] = (
Stmt
 **è
	`»®loc
(groups[j],

211 (
num_¡mts_³r_g½
[
j
]+1)*(
Stmt
 *));

212 
groups
[
j
][
num_¡mts_³r_g½
[j]] = 
¡mt
;

213 
num_¡mts_³r_g½
[
j
]++;

217 ià(
j
==
num_g½s
) {

219 
groups
 = (
Stmt
 ***)
	`»®loc
(groups, (
num_g½s
+1)*(Stmt **));

220 
groups
[
num_g½s
] = (
Stmt
 **è
	`m®loc
((Stmt *));

221 
groups
[
num_g½s
][0] = 
¡mt
;

223 
num_¡mts_³r_g½
 = (*)
	`»®loc
(num_stmts_per_grp,

224 (
num_g½s
+1)*());

225 
num_¡mts_³r_g½
[
num_g½s
] = 1;

226 
num_g½s
++;

230 
Æoİs
 = 0;

231 
i
=0; i<
num_g½s
; i++) {

232 
num_šÃr
 = 0;

233 
Ploİ
 **
šÃr_loİs
;

234 
šÃr_loİs
 = 
	`¶uto_g‘_loİs_und”
(
groups
[
i
], 
num_¡mts_³r_g½
[i],

235 
d•th
+1, 
´og
, &
num_šÃr
);

236 
®l_loİs
 = 
	`¶uto_loİs_ÿt
×Î_loİs, 
Æoİs
, 
šÃr_loİs
, 
num_šÃr
);

237 
Æoİs
 +ğ
num_šÃr
;

238 
	`ä“
(
šÃr_loİs
);

240 *
num
 = 
Æoİs
;

242 
i
=0; i<
num_g½s
; i++) {

243 
	`ä“
(
groups
[
i
]);

246 
	`ä“
(
num_¡mts_³r_g½
);

247 
	`ä“
(
groups
);

250  
®l_loİs
;

251 
	}
}

254 
Ploİ
 **
	$¶uto_g‘_®l_loİs
(cÚ¡ 
PlutoProg
 *
´og
, *
num
)

256 
Ploİ
 **
loİs
;

257 
loİs
 = 
	`¶uto_g‘_loİs_und”
(
´og
->
¡mts
,…rog->
n¡mts
, 0,…rog, 
num
);

258  
loİs
;

259 
	}
}

265 
	$¶uto_loİ_has_§tisf›d_d•_w™h_compÚ’t
(cÚ¡ 
PlutoProg
 *
´og
,

266 cÚ¡ 
Ploİ
 *
loİ
)

268 
i
, 
»tv®
;

271 
i
=0; i<
loİ
->
n¡mts
; i++) {

272 ià((
loİ
->
¡mts
[
i
]->
ty³
 !ğ
ORIG
)) ;

274 ià(
i
<
loİ
->
n¡mts
) {

278 
»tv®
 = 0;

280 
i
=0; i<
´og
->
nd•s
; i++) {

281 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

282 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

283 
	`as£¹
(
d•
->
§tvec
 !ğ
NULL
);

284 ià(
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
¤c
]->
id
, 
loİ
->¡mts,†oİ->
n¡mts
)

285 && 
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
de¡
]->
id
, 
loİ
->stmts,

286 
loİ
->
n¡mts
)

287 && 
d•
->
§tisçùiÚ_Ëv–
 < 
loİ
->
d•th


288 && (
d•
->
dœvec
[
loİ
->
d•th
] =ğ
DEP_STAR


289 || 
d•
->
dœvec
[
loİ
->
d•th
] =ğ
DEP_PLUS


290 || 
d•
->
dœvec
[
loİ
->
d•th
] =ğ
DEP_MINUS
)) {

295 ià(
i
<
´og
->
nd•s
è
»tv®
 = 1;

297  
»tv®
;

298 
	}
}

300 
	$¶uto_loİ_is_·¿Î–
(cÚ¡ 
PlutoProg
 *
´og
, 
Ploİ
 *
loİ
)

302 
·¿Î–
, 
i
;

305 
i
=0; i<
loİ
->
n¡mts
; i++) {

306 ià(
loİ
->
¡mts
[
i
]->
ty³
 !ğ
ORIG
) ;

308 ià(
i
<
loİ
->
n¡mts
) {

312 ià(
´og
->
hPrİs
[
loİ
->
d•th
].
d•_´İ
 =ğ
PARALLEL
) {

316 
·¿Î–
 = 1;

318 
i
=0; i<
´og
->
nd•s
; i++) {

319 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

320 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

321 
	`as£¹
(
d•
->
§tvec
 !ğ
NULL
);

322 ià(
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
¤c
]->
id
, 
loİ
->¡mts,†oİ->
n¡mts
)

323 && 
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
de¡
]->
id
, 
loİ
->stmts,

324 
loİ
->
n¡mts
)) {

325 ià(
d•
->
§tvec
[
loİ
->
d•th
]) {

326 
·¿Î–
 = 0;

332  
·¿Î–
;

333 
	}
}

341 
	$¶uto_loİ_is_·¿Î–_fÜ_¡mt
(cÚ¡ 
PlutoProg
 *
´og
,

342 cÚ¡ 
Ploİ
 *
loİ
, cÚ¡ 
Stmt
 *
¡mt
)

344 
·¿Î–
, 
i
;

347 
i
=0; i<
loİ
->
n¡mts
; i++) {

348 ià((
loİ
->
¡mts
[
i
]->
ty³
 !ğ
ORIG
)) ;

350 ià(
i
<
loİ
->
n¡mts
) {

354 ià(
´og
->
hPrİs
[
loİ
->
d•th
].
d•_´İ
 =ğ
PARALLEL
) {

358 
·¿Î–
 = 1;

360 
i
=0; i<
´og
->
nd•s
; i++) {

361 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

362 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

363 
	`as£¹
(
d•
->
§tvec
 !ğ
NULL
);

364 ià(
´og
->
¡mts
[
d•
->
¤c
]->
id
 =ğ
¡mt
->id

365 && 
´og
->
¡mts
[
d•
->
de¡
]->
id
 =ğ
¡mt
->id

366 && 
d•
->
§tvec
[
loİ
->
d•th
]) {

367 
·¿Î–
 = 0;

372  
·¿Î–
;

373 
	}
}

379 
	$¶uto_§tisf›s_š‹r_¡mt_d•
(cÚ¡ 
PlutoProg
 *
´og
,

380 cÚ¡ 
Ploİ
 *
loİ
, 
d•th
)

382 
§tisf›s
, 
i
, 
d
;

385 
i
=0; i<
loİ
->
n¡mts
; i++) {

386 ià((
loİ
->
¡mts
[
i
]->
ty³
 !ğ
ORIG
)) ;

388 ià(
i
<
loİ
->
n¡mts
) {

393 
§tisf›s
 = 0;

395 
i
=0; i<
´og
->
nd•s
; i++) {

396 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

397 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

398 
	`as£¹
(
d•
->
§tvec
 !ğ
NULL
);

400 ià(
d•
->
¤c
 =ğd•->
de¡


401 || !
	`¶uto_¡mt_is_memb”_of
(
d•
->
¤c
, 
loİ
->
¡mts
,†oİ->
n¡mts
)

402 || !
	`¶uto_¡mt_is_memb”_of
(
d•
->
de¡
, 
loİ
->
¡mts
,†oİ->
n¡mts
)) {

406 
d
=
d•th
; d<
´og
->
num_hy³½ÏÃs
; d++) {

407 ià(
d•
->
§tvec
[
d
]) {

408 
§tisf›s
 = 1;

412 ià(
§tisf›s
) ;

415  
§tisf›s
;

416 
	}
}

421 
	$is_loİ_domš©ed
(
Ploİ
 *
loİ1
, Ploİ *
loİ2
, cÚ¡ 
PlutoProg
 *
´og
)

423 
i
;

424 
	`as£¹
(
loİ1
->
n¡mts
 >= 1);

425 
	`as£¹
(
loİ2
->
n¡mts
 >= 1);

427 ià(
loİ2
->
d•th
 >ğ
loİ1
->depth)  0;

429 
Stmt
 *
¡mt1
 = 
loİ1
->
¡mts
[0];

430 
Stmt
 *
¡mt2
 = 
loİ2
->
¡mts
[0];

432 
i
=0; i<=
loİ2
->
d•th
; i++) {

433 ià(
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
¡mt1
, 
i
) &&

434 
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
¡mt2
, 
i
)) {

435 ià(
¡mt1
->
Œªs
->
v®
[
i
][¡mt1->Œªs->
ncŞs
-1] !=

436 
¡mt2
->
Œªs
->
v®
[
i
][¡mt2->Œªs->
ncŞs
-1]) {

442 
	}
}

445 
	$¶uto_loİ_com·r
(cÚ¡ *
_l1
, cÚ¡ *
_l2
)

447 
Ploİ
 *
l1
 = *(Ploİ **è
_l1
;

448 
Ploİ
 *
l2
 = *(Ploİ **è
_l2
;

450 ià(
l1
->
d•th
 < 
l2
->depth) {

454 ià(
l1
->
d•th
 =ğ
l2
->depth) {

459 
	}
}

463 
Ploİ
 **
	$¶uto_g‘_·¿Î–_loİs
(cÚ¡ 
PlutoProg
 *
´og
, *
Åloİs
)

465 
Ploİ
 **
loİs
, **
¶oİs
;

466 
num
=0, 
i
;

468 
¶oİs
 = 
NULL
;

469 
loİs
 = 
	`¶uto_g‘_®l_loİs
(
´og
, &
num
);

473 *
Åloİs
 = 0;

474 
i
=0; i<
num
; i++) {

475 ià(
	`¶uto_loİ_is_·¿Î–
(
´og
, 
loİs
[
i
])) {

476 
¶oİs
 = 
	`»®loc
Õloİs, (*
Åloİs
+1)*(
Ploİ
 *));

477 
¶oİs
[*
Åloİs
] = 
	`¶uto_loİ_dup
(
loİs
[
i
]);

478 (*
Åloİs
)++;

482 
	`¶uto_loİs_ä“
(
loİs
, 
num
);

484  
¶oİs
;

485 
	}
}

489 
Ploİ
 **
	$¶uto_g‘_dom_·¿Î–_loİs
(cÚ¡ 
PlutoProg
 *
´og
, *
nd¶oİs
)

491 
Ploİ
 **
loİs
, **
dom_loİs
;

492 
i
, 
j
, 
ndomloİs
, 
Åloİs
;

494 
loİs
 = 
	`¶uto_g‘_·¿Î–_loİs
(
´og
, &
Åloİs
);

496 
dom_loİs
 = 
NULL
;

497 
ndomloİs
 = 0;

498 
i
=0; i<
Åloİs
; i++) {

499 
j
=0; j<
Åloİs
; j++) {

500 ià(
	`is_loİ_domš©ed
(
loİs
[
i
],†oİs[
j
], 
´og
)) ;

502 ià(
j
==
Åloİs
) {

503 
Ploİ
 *
loİ
 = 
	`¶uto_loİ_dup
(
loİs
[
i
]);

504 
dom_loİs
 = 
	`¶uto_loİs_ÿt
(dom_loİs, 
ndomloİs
++, &
loİ
, 1);

507 *
nd¶oİs
 = 
ndomloİs
;

508 
	`¶uto_loİs_ä“
(
loİs
, 
Åloİs
);

510  
dom_loİs
;

511 
	}
}

515 
Ploİ
 **
	$¶uto_g‘_ou‹rmo¡_loİs
(cÚ¡ 
PlutoProg
 *
´og
, *
nd¶oİs
)

517 
Ploİ
 **
loİs
, **
dom_loİs
;

518 
i
, 
j
, 
ndomloİs
, 
Åloİs
;

520 
loİs
 = 
	`¶uto_g‘_®l_loİs
(
´og
, &
Åloİs
);

522 
dom_loİs
 = 
NULL
;

523 
ndomloİs
 = 0;

524 
i
=0; i<
Åloİs
; i++) {

525 
j
=0; j<
Åloİs
; j++) {

526 ià(
	`is_loİ_domš©ed
(
loİs
[
i
],†oİs[
j
], 
´og
)) ;

528 ià(
j
==
Åloİs
) {

529 
dom_loİs
 = 
	`¶uto_loİs_ÿt
(dom_loİs, 
ndomloİs
++, &
loİs
[
i
], 1);

532 *
nd¶oİs
 = 
ndomloİs
;

534  
dom_loİs
;

535 
	}
}

540 
Bªd
 *
	$¶uto_bªd_®loc
(
Ploİ
 *
loİ
, 
width
)

542 
Bªd
 *
bªd
 = 
	`m®loc
((Band));

543 
bªd
->
width
 = width;

544 
bªd
->
loİ
 = 
	`¶uto_loİ_dup
(loop);

545 
bªd
->
chd»n
 = 
NULL
;

546  
bªd
;

547 
	}
}

549 
	$¶uto_bªd_´št
(cÚ¡ 
Bªd
 *
bªd
)

551 
i
;

552 
	`´štf
("(");

553 
i
=
bªd
->
loİ
->
d•th
; i<bªd->loİ->d•th+bªd->
width
; i++) {

554 
	`´štf
("t%d, ", 
i
+1);

556 
	`´štf
(") with stmts {");

557 
i
=0; i<
bªd
->
loİ
->
n¡mts
; i++) {

558 
	`´štf
("S%d, ", 
bªd
->
loİ
->
¡mts
[
i
]->
id
+1);

560 
	`´štf
("}\n");

561 
	}
}

564 
	$¶uto_bªds_´št
(
Bªd
 **
bªds
, 
num
)

566 
i
;

567 
i
=0; i<
num
; i++) {

568 
	`¶uto_bªd_´št
(
bªds
[
i
]);

570 
	}
}

573 
Bªd
 *
	$¶uto_bªd_dup
(
Bªd
 *
b
)

575  
	`¶uto_bªd_®loc
(
b
->
loİ
, b->
width
);

576 
	}
}

581 
Bªd
 **
	$¶uto_bªds_ÿt
(
Bªd
 ***
de¡
, 
num1
, Bªd **
¤c
, 
num2
)

583 ià(
num1
 =ğ0 && 
num2
 =ğ0è *
de¡
;

584 *
de¡
 = 
	`»®loc
(*de¡, (
num1
+
num2
)*(
Bªd
 *));

585 
	`memıy
((*
de¡
)+
num1
, 
¤c
, 
num2
*(
Bªd
 *));

586  *
de¡
;

587 
	}
}

593 
	$is_bªd_domš©ed
(
Bªd
 *
bªd1
, Bªd *
bªd2
)

595 
is_sub£t
 = 
	`¶uto_¡mt_is_sub£t_of
(
bªd1
->
loİ
->
¡mts
, bªd1->loİ->
n¡mts
,

596 
bªd2
->
loİ
->
¡mts
, bªd2->loİ->
n¡mts
);

598 ià(
is_sub£t
 && 
bªd1
->
loİ
->
d•th
 > 
bªd2
->loop->depth)  1;

600 ià(
is_sub£t
 && 
bªd1
->
loİ
->
d•th
 =ğ
bªd2
->loop->depth

601 && 
bªd1
->
width
 < 
bªd2
->width)  1;

604 
	}
}

607 
	$¶uto_bªd_ä“
(
Bªd
 *
bªd
)

609 ià(
bªd
) {

610 
	`¶uto_loİ_ä“
(
bªd
->
loİ
);

611 
	`ä“
(
bªd
);

613 
	}
}

616 
	$¶uto_bªds_ä“
(
Bªd
 **
bªds
, 
nbªds
)

618 
i
;

620 
i
=0; i<
nbªds
; i++) {

621 
	`¶uto_bªd_ä“
(
bªds
[
i
]);

623 
	`ä“
(
bªds
);

624 
	}
}

626 
	$¶uto_is_d•th_sÿÏr
(
Ploİ
 *
loİ
, 
d•th
)

628 
i
;

630 
	`as£¹
(
d•th
 >ğ
loİ
->depth);

632 
i
=0; i<
loİ
->
n¡mts
; i++) {

633 ià(!
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
loİ
->
¡mts
[
i
], 
d•th
))  0;

637 
	}
}

642 
Bªd
 *
	$¶uto_g‘_³rmubË_bªd
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
)

644 
i
, 
d•th
;

646 
d•th
 = 
loİ
->depth;

650 
i
=0; i<
´og
->
nd•s
; i++) {

651 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

653 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

654 
	`as£¹
(
d•
->
§tvec
 !ğ
NULL
);

656 ià(
d•
->
§tisçùiÚ_Ëv–
 < 
loİ
->
d•th
) ;

659 ià(
	`¶uto_is_d•th_sÿÏr
(
loİ
, 
d•
->
§tisçùiÚ_Ëv–
)) ;

661 ià(
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
¤c
]->
id
, 
loİ
->¡mts,†oİ->
n¡mts
)

662 && 
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
de¡
]->
id
, 
loİ
->stmts,

663 
loİ
->
n¡mts
)) {

664 ià(
d•
->
dœvec
[
d•th
] =ğ
DEP_STAR
 || d•->dœvec[d•th] =ğ
DEP_MINUS
)

668 ià(
i
<
´og
->
nd•s
) ;

669 
d•th
++;

670 }
d•th
 < 
´og
->
num_hy³½ÏÃs
);

673 
	`¶uto_is_d•th_sÿÏr
(
loİ
, 
d•th
-1)) depth--;

677 
width
 = 
d•th
 - 
loİ
->depth;

679 
	`as£¹
(
width
 >= 1);

681 ià(
width
 == 1) {

683  
NULL
;

685  
	`¶uto_bªd_®loc
(
loİ
, 
width
);

687 
	}
}

694 
Bªd
 *
	$¶uto_g‘_·¿Î–_bªd
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
, *
šÃrmo¡_¥l™_Ëv–
)

696 
i
, 
d
, 
d•th
, 
width
;

698 
	`as£¹
(!
	`¶uto_is_d•th_sÿÏr
(
loİ
,†oİ->
d•th
));

700 
d•th
 = 
loİ
->depth;

702 *
šÃrmo¡_¥l™_Ëv–
 = 
loİ
->
d•th
;

706 
i
=0; i<
´og
->
nd•s
; i++) {

707 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

709 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

712 ià(!
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
¤c
]->
id
, 
loİ
->¡mts,†oİ->
n¡mts
)

713 || !
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
de¡
]->
id
, 
loİ
->¡mts,†oİ->
n¡mts
))

715 
	`as£¹
(
d•
->
§tvec
 !ğ
NULL
);

717 ià(
d•
->
§tisçùiÚ_Ëv–
 < 
loİ
->
d•th
) ;

719 ià(
d•
->
dœvec
[
d•th
] !ğ
DEP_ZERO
) ;

721 ià(
i
<
´og
->
nd•s
) ;

722 
d•th
++;

724 }
d•th
 < 
´og
->
num_hy³½ÏÃs
);

727 
d•th
 >ğ
loİ
->d•th+1 && 
	`¶uto_is_d•th_sÿÏr
(loop, depth-1)) depth--;

729 
d
ğ
loİ
->
d•th
;

730 
d
 <ğ
d•th
-2 && !
	`¶uto_is_d•th_sÿÏr
(
loİ
, d+1)) d++;

731 *
šÃrmo¡_¥l™_Ëv–
 = 
d
;

733 
width
 = 
d•th
 - 
loİ
->depth;

735  
	`¶uto_bªd_®loc
(
loİ
, 
width
);

736 
	}
}

741 
Bªd
 **
	$¶uto_g‘_domš©Ü_bªds
(
Bªd
 **
bªds
, 
nbªds
, *
ndom_bªds
)

743 
Bªd
 **
dom_bªds
;

744 
i
, 
j
, 
ndbªds
;

746 
dom_bªds
 = 
NULL
;

747 
ndbªds
 = 0;

748 
i
=0; i<
nbªds
; i++) {

749 
j
=0; j<
nbªds
; j++) {

750 ià(
	`is_bªd_domš©ed
(
bªds
[
i
], bªds[
j
])) ;

752 ià(
j
==
nbªds
) {

753 
Bªd
 *
dup
 = 
	`¶uto_bªd_dup
(
bªds
[
i
]);

754 
dom_bªds
 = 
	`¶uto_bªds_ÿt
(&dom_bªds, 
ndbªds
, &
dup
, 1);

755 
ndbªds
++;

758 *
ndom_bªds
 = 
ndbªds
;

760  
dom_bªds
;

761 
	}
}

766 
Bªd
 **
	$¶uto_g‘_dom_·¿Î–_bªds
(
PlutoProg
 *
´og
, *
nbªds
, **
comm_¶aûm’t_Ëv–s
)

768 
Ploİ
 **
loİs
;

769 
num
, 
i
;

770 
Bªd
 **
bªds
;

772 
num
 = 0;

773 
loİs
 = 
	`¶uto_g‘_dom_·¿Î–_loİs
(
´og
, &
num
);

778 *
comm_¶aûm’t_Ëv–s
 = (*è
	`m®loc
(
num
*());

780 
bªds
 = 
NULL
;

781 
nb
 = 0;

782 
i
=0; i<
num
; i++) {

783 
comm_¶aûm’t_Ëv–
;

784 
Bªd
 *
bªd
 = 
	`¶uto_g‘_·¿Î–_bªd
(
loİs
[
i
], 
´og
, &
comm_¶aûm’t_Ëv–
);

785 ià(
bªd
 !ğ
NULL
) {

786 
bªds
 = 
	`»®loc
(bªds, (
nb
+1)*(
Bªd
 *));

787 (*
comm_¶aûm’t_Ëv–s
)[
nb
] = 
comm_¶aûm’t_Ëv–
;

788 
bªds
[
nb
++] = 
bªd
;

791 *
nbªds
 = 
nb
;

793 
	`´štf
("parallel dominating bands:\n");

794 
	`¶uto_bªds_´št
(
bªds
, *
nbªds
);

795 
i
=0; i<
nb
; i++) {

796 
	`´štf
("comm…Ïûm’ˆËv–(s): %d\n", (*
comm_¶aûm’t_Ëv–s
)[
i
]);

799  
bªds
;

800 
	}
}

804 
Bªd
 **
	$¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
PlutoProg
 *
´og
, *
ndbªds
)

806 
Ploİ
 **
loİs
;

807 
num
, 
i
, 
nbªds
;

808 
Bªd
 **
bªds
, **
dbªds
;

810 
num
 = 0;

811 
loİs
 = 
	`¶uto_g‘_®l_loİs
(
´og
, &
num
);

816 
bªds
 = 
NULL
;

817 
nbªds
 = 0;

818 
i
=0; i<
num
; i++) {

819 
Bªd
 *
bªd
 = 
	`¶uto_g‘_³rmubË_bªd
(
loİs
[
i
], 
´og
);

820 ià(
bªd
 !ğ
NULL
) {

821 
bªds
 = 
	`»®loc
(bªds, (
nbªds
+1)*(
Bªd
 *));

822 
bªds
[
nbªds
++] = 
bªd
;

828 
dbªds
 = 
	`¶uto_g‘_domš©Ü_bªds
(
bªds
, 
nbªds
, 
ndbªds
);

830 
	`¶uto_loİs_ä“
(
loİs
, 
num
);

832 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

834  
dbªds
;

835 
	}
}

837 
	$¶uto_loİ_is_šÃrmo¡
(cÚ¡ 
Ploİ
 *
loİ
, cÚ¡ 
PlutoProg
 *
´og
)

839 
num
=-1;

840 
Ploİ
 **
loİs
;

842 
loİs
 = 
	`¶uto_g‘_loİs_und”
(
loİ
->
¡mts
,†oİ->
n¡mts
,

843 
loİ
->
d•th
+1, 
´og
, &
num
);

844 
	`¶uto_loİs_ä“
(
loİs
, 
num
);

846  (
num
==0);

847 
	}
}

850 
	$¶uto_is_bªd_šÃrmo¡
(cÚ¡ 
Bªd
 *
bªd
, 
num_tšg_Ëv–s
)

852 
i
, 
j
;

853 
i
=0; i<
bªd
->
loİ
->
n¡mts
; i++) {

854 
fœ¡d
 = 
bªd
->
loİ
->
d•th
+(
num_tšg_Ëv–s
+1)*bªd->
width
;

855 
j
=
fœ¡d
; j<
bªd
->
loİ
->
¡mts
[
i
]->
Œªs
->
Äows
; j++) {

856 ià(
	`¶uto_is_hy³½ÏÃ_loİ
(
bªd
->
loİ
->
¡mts
[
i
], 
j
))  0;

861 
	}
}

864 
Ploİ
 **
	$¶uto_g‘_šÃrmo¡_loİs
(
PlutoProg
 *
´og
, *
Æoİs
)

866 
Ploİ
 **
loİs
, **
oİs
;

867 
i
, 
num
;

869 
loİs
 = 
	`¶uto_g‘_®l_loİs
(
´og
, &
num
);

871 *
Æoİs
 = 0;

872 
oİs
 = 
NULL
;

874 
i
=0; i<
num
; i++) {

875 ià(
	`¶uto_loİ_is_šÃrmo¡
(
loİs
[
i
], 
´og
)) {

876 
Ploİ
 *
loİ
 = 
	`¶uto_loİ_dup
(
loİs
[
i
]);

877 
oİs
 = 
	`¶uto_loİs_ÿt
(oİs, (*
Æoİs
)++,

878 &
loİ
, 1);

882  
oİs
;

883 
	}
}

887 
Bªd
 **
	$¶uto_g‘_šÃrmo¡_³rmubË_bªds
(
PlutoProg
 *
´og
, *
ndbªds
)

889 
Ploİ
 **
loİs
;

890 
num
, 
i
, 
nbªds
;

891 
Bªd
 **
bªds
, **
dbªds
;

893 
bªds
 = 
NULL
;

894 
num
 = 0;

895 
loİs
 = 
	`¶uto_g‘_®l_loİs
(
´og
, &
num
);

899 
nbªds
 = 0;

900 
i
=0; i<
num
; i++) {

901 
Bªd
 *
bªd
 = 
	`¶uto_g‘_³rmubË_bªd
(
loİs
[
i
], 
´og
);

902 ià(
bªd
 !ğ
NULL
 && 
	`¶uto_is_bªd_šÃrmo¡
(band, 0)) {

903 
bªds
 = 
	`»®loc
(bªds, (
nbªds
+1)*(
Bªd
 *));

904 
bªds
[
nbªds
] = 
bªd
;

905 
nbªds
++;

906 }
	`¶uto_bªd_ä“
(
bªd
);

908 
	`¶uto_loİs_ä“
(
loİs
, 
num
);

912 
dbªds
 = 
	`¶uto_g‘_domš©Ü_bªds
(
bªds
, 
nbªds
, 
ndbªds
);

914 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

918  
dbªds
;

919 
	}
}

	@post_transform.c

22 
	~<¡dio.h
>

23 
	~<as£¹.h
>

25 
	~"¶uto.h
"

26 
	~"po¡_ŒªsfÜm.h
"

27 
	~"´og¿m.h
"

28 
	~"ŒªsfÜms.h
"

31 
	$is_šv¬ŸÁ
(
Stmt
 *
¡mt
, 
PlutoAcûss
 *
acc
, 
d•th
)

33 
i
, *
divs
;

34 
PlutoM©rix
 *
Ãwacc
 = 
	`¶uto_g‘_Ãw_acûss_func
(
¡mt
, 
acc
->
m©
, &
divs
);

35 
	`as£¹
(
d•th
 <ğ
Ãwacc
->
ncŞs
-1);

36 
i
=0; i<
Ãwacc
->
Äows
; i++) {

37 ià(
Ãwacc
->
v®
[
i
][
d•th
] != 0) ;

39 
is_šv¬ŸÁ
 = (
i
==
Ãwacc
->
Äows
);

40 
	`¶uto_m©rix_ä“
(
Ãwacc
);

41 
	`ä“
(
divs
);

42  
is_šv¬ŸÁ
;

43 
	}
}

45 
	#SHORT_STRIDE
 4

	)

46 
	$has_¥©Ÿl_»u£
(
Stmt
 *
¡mt
, 
PlutoAcûss
 *
acc
, 
d•th
)

48 
i
, *
divs
;

49 
PlutoM©rix
 *
Ãwacc
 = 
	`¶uto_g‘_Ãw_acûss_func
(
¡mt
, 
acc
->
m©
, &
divs
);

50 
	`as£¹
(
d•th
 <ğ
Ãwacc
->
ncŞs
-1);

53 ià(
Ãwacc
->
Äows
 == 0)  0;

55 
i
=0; i<
Ãwacc
->
Äows
-1; i++) {

57 ià(
Ãwacc
->
v®
[
i
][
d•th
] != 0) {

58 
	`¶uto_m©rix_ä“
(
Ãwacc
);

59 
	`ä“
(
divs
);

64 ià(
Ãwacc
->
v®
[Ãwacc->
Äows
-1][
d•th
] >= 1 &&

65 
Ãwacc
->
v®
[Ãwacc->
Äows
-1][
d•th
] <ğ
SHORT_STRIDE
) {

66 
	`¶uto_m©rix_ä“
(
Ãwacc
);

67 
	`ä“
(
divs
);

71 
	`¶uto_m©rix_ä“
(
Ãwacc
);

72 
	`ä“
(
divs
);

75 
	}
}

79 
	$g‘_num_šv¬ŸÁ_acûs£s
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
)

81 
i
, 
j
, 
ni
;

84 
ni
 = 0;

85 
i
=0; i<
loİ
->
n¡mts
; i++) {

86 
Stmt
 *
¡mt
 = 
loİ
->
¡mts
[
i
];

87 
j
=0; j<
¡mt
->
Ä—ds
; j++) {

88 
ni
 +ğ
	`is_šv¬ŸÁ
(
¡mt
, stmt->
»ads
[
j
], 
loİ
->
d•th
);

90 
j
=0; j<
¡mt
->
nwr™es
; j++) {

91 
ni
 +ğ
	`is_šv¬ŸÁ
(
¡mt
, stmt->
wr™es
[
j
], 
loİ
->
d•th
);

94  
ni
;

95 
	}
}

97 
	$g‘_num_¥©Ÿl_acûs£s
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
)

99 
i
, 
j
, 
ns
;

102 
ns
 = 0;

103 
i
=0; i<
loİ
->
n¡mts
; i++) {

104 
Stmt
 *
¡mt
 = 
loİ
->
¡mts
[
i
];

105 
j
=0; j<
¡mt
->
Ä—ds
; j++) {

106 
ns
 +ğ
	`has_¥©Ÿl_»u£
(
¡mt
, stmt->
»ads
[
j
], 
loİ
->
d•th
);

108 
j
=0; j<
¡mt
->
nwr™es
; j++) {

109 
ns
 +ğ
	`has_¥©Ÿl_»u£
(
¡mt
, stmt->
wr™es
[
j
], 
loİ
->
d•th
);

112  
ns
;

113 
	}
}

116 
	$g‘_num_acûs£s
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
)

118 
i
, 
ns
;

121 
ns
 = 0;

122 
i
=0; i<
loİ
->
n¡mts
; i++) {

123 
ns
 +ğ
loİ
->
¡mts
[
i
]->
Ä—ds
 +†oİ->¡mts[i]->
nwr™es
;

126  
ns
;

127 
	}
}

130 
	$g‘D“³¡NÚSÿÏrLoİ
(
PlutoProg
 *
´og
)

132 
loİ
;

134 
loİ
=
´og
->
num_hy³½ÏÃs
-1;†oop>=0;†oop--) {

135 ià(
´og
->
hPrİs
[
loİ
].
ty³
 !ğ
H_SCALAR
) {

140  
loİ
;

141 
	}
}

145 
	$¶uto_loİ_is_veùÜizabË
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
)

147 
s
, 
t
, 
a
;

153 ià(!
	`¶uto_loİ_is_·¿Î–
(
´og
, 
loİ
))  0;

154 
a
 = 
	`g‘_num_acûs£s
(
loİ
, 
´og
);

155 
s
 = 
	`g‘_num_¥©Ÿl_acûs£s
(
loİ
, 
´og
);

156 
t
 = 
	`g‘_num_šv¬ŸÁ_acûs£s
(
loİ
, 
´og
);

160 ià(
a
 >ğ1 &&‡ =ğ
s
 + 
t
)  1;

163 
	}
}

167 
	$¶uto_´e_veùÜize_bªd
(
Bªd
 *
bªd
, 
num_tšg_Ëv–s
, 
PlutoProg
 *
´og
)

169 
Æoİs
, 
l
;

172 ià(!
	`¶uto_is_bªd_šÃrmo¡
(
bªd
, 
num_tšg_Ëv–s
))  0;

174 
Ploİ
 **
loİs
;

176 
loİs
 = 
	`¶uto_g‘_loİs_und”
(
bªd
->
loİ
->
¡mts
, bªd->loİ->
n¡mts
,

177 
bªd
->
loİ
->
d•th
 + 
num_tšg_Ëv–s
*bªd->
width
, 
´og
, &
Æoİs
);

179 
l
=0;†<
Æoİs
;†++) {

180 ià(
	`¶uto_loİ_is_veùÜizabË
(
loİs
[
l
], 
´og
)) ;

183 ià(
l
 < 
Æoİs
) {

184 
	`¶uto_make_šÃrmo¡_loİ
(
loİs
[
l
], 
´og
);

185 
	`IF_DEBUG
(
	`´štf
("[Pluto] Loopo be vectorized: "););

186 
	`IF_DEBUG
(
	`¶uto_loİ_´št
(
loİs
[
l
]););

187 
	`¶uto_loİs_ä“
(
loİs
, 
Æoİs
);

191 
	`¶uto_loİs_ä“
(
loİs
, 
Æoİs
);

193 
	}
}

196 
	$¶uto_´e_veùÜize
(
PlutoProg
 *
´og
)

198 
nbªds
, 
i
;

199 
Bªd
 **
bªds
;

200 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

201 
»tv®
 = 0;

202 
i
=0; i<
nbªds
; i++) {

203 
»tv®
 |ğ
	`¶uto_´e_veùÜize_bªd
(
bªds
[
i
], 0, 
´og
);

205 ià(
»tv®
è
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

206 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

208 
	}
}

212 
	$¶uto_d‘eù_m¬k_uÄŞÏbË_loİs
(
PlutoProg
 *
´og
)

214 
bªdS¹
, 
bªdEnd
;

215 
numUÄŞÏbËLoİs
;

216 
loİ
, 
i
;

218 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
 = 
´og
->hProps;

226 
	`g‘IÂ”mo¡TabËBªd
(
´og
, &
bªdS¹
, &
bªdEnd
);

228 
numUÄŞÏbËLoİs
=0;

230 
Ï¡loİ
 = 
	`g‘D“³¡NÚSÿÏrLoİ
(
´og
);

232 
	`IF_DEBUG
(
	`årštf
(
¡dout
, "[Pluto…ostransform] Innermostilable band:%d--t%d\n",

233 
bªdS¹
+1, 
bªdEnd
+1));

235 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

236 
´og
->
hPrİs
[
i
].
uÄŞl
 = 
NO_UNROLL
;

241 ià(
bªdEnd
 =ğ
Ï¡loİ
 && 
bªdS¹
 < bandEnd) {

243 ià(
hPrİs
[
bªdEnd
].
d•_´İ
 =ğ
PARALLEL
 && 
İtiÚs
->
´eveùÜ
 == 1) {

244 
i
=
	`PLMAX
(
bªdEnd
-2, 
bªdS¹
); i<=bandEnd-1; i++) {

245 ià(
hPrİs
[
i
].
ty³
 =ğ
H_TILE_SPACE_LOOP
) ;

246 
´og
->
hPrİs
[
i
].
uÄŞl
 = 
UNROLLJAM
;

247 
numUÄŞÏbËLoİs
++;

250 ià(
hPrİs
[
bªdEnd
-1].
ty³
 !ğ
H_TILE_SPACE_LOOP
) {

251 
hPrİs
[
bªdEnd
-1].
uÄŞl
 = 
UNROLLJAM
;

252 
numUÄŞÏbËLoİs
++;

254 ià(
hPrİs
[
bªdEnd
].
ty³
 !ğ
H_TILE_SPACE_LOOP
) {

255 
hPrİs
[
bªdEnd
].
uÄŞl
 = 
UNROLL
;

256 
numUÄŞÏbËLoİs
++;

262 ià(
hPrİs
[
Ï¡loİ
].
d•_´İ
 !ğ
PARALLEL
 || 
İtiÚs
->
´eveùÜ
 == 0) {

263 
hPrİs
[
Ï¡loİ
].
uÄŞl
 = 
UNROLL
;

264 
numUÄŞÏbËLoİs
=1;

268 ià(
numUÄŞÏbËLoİs
 < 2) {

270 
loİ
=
bªdS¹
-1;†oop>=0;†oop--) {

271 ià(
hPrİs
[
loİ
].
d•_´İ
 =ğ
PARALLEL
 && hPrİs[loİ].
ty³
 !ğ
H_TILE_SPACE_LOOP
) {

272 
hPrİs
[
loİ
].
uÄŞl
 = 
UNROLLJAM
;

273 
numUÄŞÏbËLoİs
++;

274 ià(
numUÄŞÏbËLoİs
 =ğ
UNROLLJAM
) ;

279 
	`IF_DEBUG
(
	`årštf
(
¡dout
,

281 
numUÄŞÏbËLoİs
));

283  
numUÄŞÏbËLoİs
;

284 
	}
}

288 
	$g’_uÄŞl_fe
(
PlutoProg
 *
´og
)

290 
i
;

292 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
 = 
´og
->hProps;

293 
FILE
 *
uÄŞlå
 = 
	`fİ’
(".unroll", "w");

295 ià(!
uÄŞlå
) {

296 
	`´štf
("Error opening .unroll file for writing\n");

300 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

301 ià(
hPrİs
[
i
].
uÄŞl
 =ğ
UNROLL
) {

302 
	`årštf
(
uÄŞlå
, "t%d UÄŞÈ%d\n", 
i
+1, 
İtiÚs
->
uçùÜ
);

303 }ià(
hPrİs
[
i
].
uÄŞl
 =ğ
UNROLLJAM
) {

304 
	`årštf
(
uÄŞlå
, "t%d UÄŞlJam %d\n", 
i
+1, 
İtiÚs
->
uçùÜ
);

308 
	`fşo£
(
uÄŞlå
);

310 
	}
}

316 
	$¶uto_šŒa_te_İtimize_bªd
(
Bªd
 *
bªd
, 
num_ted_Ëv–s
, 
PlutoProg
 *
´og
)

318 
Æoİs
, 
l
, 
max_scÜe
;

319 
Ploİ
 *
be¡_loİ
;

322 ià(!
	`¶uto_is_bªd_šÃrmo¡
(
bªd
, 
num_ted_Ëv–s
)) {

326 
Ploİ
 **
loİs
;

328 
loİs
 = 
	`¶uto_g‘_loİs_und”
(
bªd
->
loİ
->
¡mts
, bªd->loİ->
n¡mts
,

329 
bªd
->
loİ
->
d•th
 + 
num_ted_Ëv–s
*bªd->
width
, 
´og
, &
Æoİs
);

331 
max_scÜe
 = 0;

332 
be¡_loİ
 = 
NULL
;

333 
l
=0;†<
Æoİs
;†++) {

334 
a
, 
s
, 
t
, 
v
, 
scÜe
;

335 
a
 = 
	`g‘_num_acûs£s
(
loİs
[
l
], 
´og
);

336 
s
 = 
	`g‘_num_¥©Ÿl_acûs£s
(
loİs
[
l
], 
´og
);

337 
t
 = 
	`g‘_num_šv¬ŸÁ_acûs£s
(
loİs
[
l
], 
´og
);

338 
v
 = 
	`¶uto_loİ_is_veùÜizabË
(
loİs
[
l
], 
´og
);

346 
scÜe
 = (2*
s
 + 4*
t
 + 8*
v
 - 16*(
a
-s-t))*
loİs
[
l
]->
n¡mts
;

348 ià(
scÜe
 >ğ
max_scÜe
) {

349 
max_scÜe
 = 
scÜe
;

350 
be¡_loİ
 = 
loİs
[
l
];

352 
	`IF_DEBUG
(
	`´štf
("[¶uto-šŒa-te-İt] ScÜfÜ†oİ %d: %d\n", 
l
, 
scÜe
));

353 
	`IF_DEBUG
(
	`¶uto_loİ_´št
(
loİs
[
l
]));

356 ià(
be¡_loİ
 && !
	`¶uto_loİ_is_šÃrmo¡
(be¡_loİ, 
´og
)) {

357 
	`IF_DEBUG
(
	`´štf
("[pluto] intra_tile_opt:†oopo be made innermost: "););

358 
	`IF_DEBUG
(
	`¶uto_loİ_´št
(
be¡_loİ
););

359 
	`¶uto_make_šÃrmo¡_loİ
(
be¡_loİ
, 
´og
);

360 
	`¶uto_loİs_ä“
(
loİs
, 
Æoİs
);

364 
	`¶uto_loİs_ä“
(
loİs
, 
Æoİs
);

366 
	}
}

370 
	$¶uto_šŒa_te_İtimize
(
PlutoProg
 *
´og
, 
is_ted
)

372 
i
, 
nbªds
, 
»tv®
;

373 
Bªd
 **
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

375 
»tv®
 = 0;

376 
i
=0; i<
nbªds
; i++) {

377 
»tv®
 |ğ
	`¶uto_šŒa_te_İtimize_bªd
(
bªds
[
i
], 
is_ted
, 
´og
);

379 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

381 ià(
»tv®
) {

383 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

384 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

385 ià(!
İtiÚs
->
s’t
) {

386 
	`´štf
("[pluto] After intra-tile optimize\n");

387 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

391  
»tv®
;

392 
	}
}

396 
	$g‘_ou‹rmo¡_·¿Î–_loİ
(cÚ¡ 
PlutoProg
 *
´og
)

398 
·¿Î–_loİ
, 
loİ
;

399 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
 = 
´og
->hProps;

401 
·¿Î–_loİ
 = -1;

402 
loİ
=0;†oİ<
´og
->
num_hy³½ÏÃs
;†oop++) {

403 ià(
hPrİs
[
loİ
].
d•_´İ
 =ğ
PARALLEL
 && hPrİs[loİ].
ty³
 !ğ
H_SCALAR
) {

404 
·¿Î–_loİ
 = 
loİ
;

411  
·¿Î–_loİ
;

412 
	}
}

416 
	$uÄŞl_phis
(
PlutoProg
 *
´og
, 
uÄŞl_dim
, 
uçùÜ
)

418 
i
, 
j
, 
k
;

420 
Stmt
 **
¡mts
 = 
´og
->stmts;

421 
n¡mts
 = 
´og
->nstmts;

422 
Å¬
 = 
´og
->npar;

435 
i
=
n¡mts
-1; i>=0; i--) {

437 
Stmt
 *
¡mt
 = 
¡mts
[
i
];

439 
uÄŞl
[
´og
->
nv¬
];

440 
num_uÄŞl
 = 0;

442 
j
=0; j<
´og
->
nv¬
; j++) {

443 
uÄŞl
[
j
] = 0;

447 
j
=0; j<
¡mt
->
dim
; j++) {

448 ià(
¡mt
->
Œªs
->
v®
[
uÄŞl_dim
][
j
] != 0) {

449 ià(
uÄŞl
[
j
] == 0) {

450 
num_uÄŞl
++;

452 
uÄŞl
[
j
] = 1;

456 
k
=
uçùÜ
-1; k>=0; k--) {

458 
Stmt
 *
z¡mt
 = 
	`¶uto_¡mt_®loc
(
¡mts
[
i
]->
dim
, stmts[i]->
domaš
, stmts[i]->
Œªs
);

460 
j
=0; j<
z¡mt
->
dim
; j++) {

461 ià(
uÄŞl
[
j
]) {

463 
	`¶uto_cÚ¡¿šts_add_dim
(
z¡mt
->
domaš
, z¡mt->
dim
, 
NULL
);

466 
	`¥rštf
(
z¡mt
->
™”©Üs
[z¡mt->
dim
], "zU%d", 
j
);

471 
	`¶uto_cÚ¡¿šts_z”o_row
(
z¡mt
->
domaš
, z¡mt->domaš->
Äows
);

472 
	`¶uto_cÚ¡¿šts_z”o_row
(
z¡mt
->
domaš
, z¡mt->domaš->
Äows
+1);

474 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
][z¡mt->
dim
] = -
uçùÜ
;

475 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
][
j
] = 1;

476 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
][z¡mt->
dim
+
num_uÄŞl
+
Å¬
] = -
k
;

478 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
+1][z¡mt->
dim
] = 
uçùÜ
;

479 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
+1][
j
] = -1;

480 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
+1][z¡mt->
dim
+
num_uÄŞl
+
Å¬
] = 
k
;

481 
z¡mt
->
domaš
->
Äows
 += 2;

484 
	`¶uto_cÚ¡¿šts_z”o_row
(
z¡mt
->
domaš
, z¡mt->domaš->
Äows
);

485 
	`¶uto_cÚ¡¿šts_z”o_row
(
z¡mt
->
domaš
, z¡mt->domaš->
Äows
+1);

487 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
][z¡mt->
dim
] = -
uçùÜ
;

488 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
][
j
] = 1;

489 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
][z¡mt->
dim
+
num_uÄŞl
+
Å¬
] = 0;

491 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
+1][z¡mt->
dim
] = 
uçùÜ
;

492 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
+1][
j
] = -1;

493 
z¡mt
->
domaš
->
v®
[z¡mt->domaš->
Äows
+1][z¡mt->
dim
+
num_uÄŞl
+
Å¬
] = 
uçùÜ
-1;

495 
z¡mt
->
domaš
->
Äows
 += 2;

498 
z¡mt
->
dim
 +ğ
num_uÄŞl
;

502 
	`¶uto_m©rix_add_cŞ
(
z¡mt
->
Œªs
, z¡mt->Œªs->
ncŞs
-1);

505 
z¡mt
->
Œªs
->
v®
[
uÄŞl_dim
][z¡mt->Œªs->
ncŞs
-1] -ğ
k
;

508 
	`¶uto_m©rix_add_row
(
z¡mt
->
Œªs
, z¡mt->Œªs->
Äows
);

510 
z¡mt
->
Œªs
->
v®
[z¡mt->Œªs->
Äows
-1][z¡mt->Œªs->
ncŞs
-1] = 
k
;

517 
¡mts
[
i
*
uçùÜ
 + 
k
] = 
z¡mt
;

520 
n¡mts
 =‚¡mts*
uçùÜ
;

521 
	}
}

	@post_transform.h

21 #iâdeà
_POST_TRANSFORM_H


22 
	#_POST_TRANSFORM_H


	)

24 
	~"¶uto.h
"

26 
g‘D“³¡NÚSÿÏrLoİ
(
PlutoProg
 *
´og
);

27 
¶uto_´e_veùÜize_bªd
(
Bªd
 *
bªd
, 
num_tšg_Ëv–s
, 
PlutoProg
 *
´og
);

28 
g’_uÄŞl_fe
(
PlutoProg
 *
´og
);

	@program.c

25 
	~<¡dio.h
>

26 
	~<¡dlib.h
>

27 
	~<¡ršg.h
>

28 
	~<lim™s.h
>

29 
	~<as£¹.h
>

30 
	~<m©h.h
>

32 
	~"¶uto.h
"

33 
	~"m©h_suµÜt.h
"

34 
	~"cÚ¡¿šts.h
"

35 
	~"´og¿m.h
"

37 
	~"o¦/maüos.h
"

38 
	~"o¦/scİ.h
"

39 
	~"o¦/body.h
"

40 
	~"o¦/»ÏtiÚ_li¡.h
"

41 
	~"o¦/ex‹nsiÚs/¬¿ys.h
"

42 
	~"o¦/ex‹nsiÚs/d•’d’û.h
"

43 
	~"o¦/ex‹nsiÚs/loİ.h
"

44 
	~"o¦/ex‹nsiÚs/¶uto_uÄŞl.h
"

45 
	~"o¦/ex‹nsiÚs/sÿŠames.h
"

47 
	~"şoog/şoog.h
"

49 
	~"ÿndl/ÿndl.h
"

50 
	~"ÿndl/scİ.h
"

51 
	~"ÿndl/İtiÚs.h
"

52 
	~"ÿndl/d•’d’û.h
"

54 
	~<i¦/m­.h
>

55 
	~<i¦/m©.h
>

56 
	~<i¦/£t.h
>

57 
	~<i¦/æow.h
>

58 
	~<i¦/m­.h
>

59 
	~<i¦/uniÚ_m­.h
>

60 
	~<i¦/d•»ÿ‹d/št.h
>

61 
	~<i¦/d•»ÿ‹d/m©_št.h
>

63 
o¦_»ÏtiÚ_p
 
g‘_id’t™y_scheduË
(
dim
, 
Å¬
);

64 
»ad_codeg’_cÚ‹xt_äom_fe
(
PlutoCÚ¡¿šts
 *
codeg’_cÚ‹xt
);

66 
	$¶uto_add_d•
(
PlutoProg
 *
´og
, 
D•
 *
d•
)

68 
d•
->
id
 = 
´og
->
nd•s
;

69 
´og
->
nd•s
++;

70 
´og
->
d•s
 = (
D•
 **è
	`»®loc
Õrog->d•s, (D• *)*´og->
nd•s
);

71 
´og
->
d•s
[´og->
nd•s
-1] = 
d•
;

72 
	}
}

79 
	$o¦_»ÏtiÚ_g‘_row_id_fÜ_Áh_dim’siÚ
(
o¦_»ÏtiÚ_p
 
»ÏtiÚ
,

80 
ndim
){

81 
nb_ndims_found
 = 0;

82 
row_id
 = -1;

83 
i
 = 0;

85 ià(
»ÏtiÚ
 =ğ
NULL
)

86  
OSL_UNDEFINED
;

88 ià((
»ÏtiÚ
->
nb_rows
 < 
ndim
) || (0 >‚dim)) {

89 
	`årštf
(
¡d”r
, "error: dimension out of bounds");

90 
	`ex™
(1);

93 
nb_ndims_found
 = 0;

94 
i
 = 0; i < 
»ÏtiÚ
->
nb_rows
; i++) {

95 ià(!
	`o¦_št_z”o
(
»ÏtiÚ
->
´ecisiÚ
,„–©iÚ->
m
[
i
][
ndim
])) {

96 
nb_ndims_found
 ++;

97 
row_id
 = 
i
;

100 ià(
nb_ndims_found
 == 0) {

101 
	`årštf
(
¡d”r
, "error: specified dimension‚ot found");

102 
	`ex™
(1);

104 ià(
nb_ndims_found
 > 1) {

105 
	`årštf
(
¡d”r
, "error: specified dimension occurs multipleimes");

106 
	`ex™
(1);

109  
row_id
;

110 
	}
}

116 
PlutoCÚ¡¿šts
 *
	$o¦_»ÏtiÚ_to_¶uto_cÚ¡¿šts
 (
o¦_»ÏtiÚ_p
 
¾n
){

118 
i
, 
j
 = 0;

119 
PlutoCÚ¡¿šts
 *
c¡
;

121 if(
¾n
==
NULL
)

122  
NULL
;

124 if(
¾n
->
nb_loÿl_dims
){

125 
	`årštf
(
¡d”r
, "Cannot handle Local Dimensions in‡„elation.\n");

126 
	`ex™
(1);

129 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
¾n
->
nb_rows
,„Ê->
nb_cŞumns
-1);

130 
c¡
->
Äows
 = 
¾n
->
nb_rows
;

133 
i
=0; i < 
¾n
->
nb_rows
; i++){

134 
c¡
->
is_eq
[
i
] = 
	`o¦_št_z”o
(
¾n
->
´ecisiÚ
,„Ê->
m
[i][0]);

135 
j
=0; j < 
c¡
->
ncŞs
; j++){

136 
c¡
->
v®
[
i
][
j
] = 
	`o¦_št_g‘_si
(
¾n
->
´ecisiÚ
,„Ê->
m
[i][j+1]);

140  
c¡
;

141 
	}
}

146 
o¦_»ÏtiÚ_p
 
	$¶uto_cÚ¡¿šts_to_o¦_domaš
(
PlutoCÚ¡¿šts
 *
c¡
, 
Å¬
){

148 
i
, 
j
 = 0;

149 
o¦_»ÏtiÚ_p
 
¾n
;

151 if(
c¡
==
NULL
)

152  
NULL
;

154 
¾n
 = 
	`o¦_»ÏtiÚ_pm®loc
(
PLUTO_OSL_PRECISION
, 
c¡
->
Äows
, c¡->
ncŞs
+1);

157 
i
=0; i < 
¾n
->
nb_rows
; i++){

158 
	`o¦_št_£t_si
(
¾n
->
´ecisiÚ
, &¾n->
m
[
i
][0], 
c¡
->
is_eq
[i]?0:1);

159 
j
=0; j < 
c¡
->
ncŞs
; j++){

160 
	`o¦_št_£t_si
(
¾n
->
´ecisiÚ
, &¾n->
m
[
i
][
j
+1], 
c¡
->
v®
[i][j]);

164 
¾n
->
ty³
 = 
OSL_TYPE_DOMAIN
;

165 
¾n
->
nb_·¿m‘”s
 = 
Å¬
;

166 
¾n
->
nb_ouut_dims
 =„Ê->
nb_cŞumns
 -„Ê->
nb_·¿m‘”s
 - 2;

167 
¾n
->
nb_šput_dims
 = 0;

168 
¾n
->
nb_loÿl_dims
 = 0;

170  
¾n
;

171 
	}
}

179 
PlutoM©rix
 *
	$o¦_acûss_»ÏtiÚ_to_¶uto_m©rix
(
o¦_»ÏtiÚ_p
 
sm©
)

181 
i
, 
j
;

183 
PlutoM©rix
 *
m©
;

185 if(
sm©
==
NULL
)

186  
NULL
;

188 if(
sm©
->
nb_loÿl_dims
){

189 
	`årštf
(
¡d”r
, "Cannot handle Local Dimensions in‡„elation.\n");

190 
	`ex™
(1);

193 
Äows
 = 
sm©
->
nb_rows
==1?smat->nb_rows: smat->nb_rows-1;

194 
ncŞs
 = 
sm©
->
nb_cŞumns
 - sm©->
nb_ouut_dims
 - 1;

195 
m©
 = 
	`¶uto_m©rix_®loc
(
Äows
, 
ncŞs
);

197 if(
sm©
->
nb_rows
==1){

198 
j
=
sm©
->
nb_ouut_dims
+1; j<sm©->
nb_cŞumns
; j++) {

199 
m©
->
v®
[0][
j
-(
sm©
->
nb_ouut_dims
+1)] = 0;

204 
i
=1; i<
sm©
->
nb_rows
; i++) {

205 
row
 = 
	`o¦_»ÏtiÚ_g‘_row_id_fÜ_Áh_dim’siÚ
(
sm©
, 
i
+1);

206 
j
=
sm©
->
nb_ouut_dims
+1; j<sm©->
nb_cŞumns
; j++) {

207 
m©
->
v®
[
i
-1][
j
-(
sm©
->
nb_ouut_dims
+1)] =

208 
	`o¦_št_g‘_si
(
sm©
->
´ecisiÚ
, sm©->
m
[
row
][
j
]);

213  
m©
;

214 
	}
}

220 
	$acûss_Ën
(
PlutoM©rix
 *
acûss
, 
fœ¡
)

222 
i
;

224 
i
 = 
fœ¡
 + 1; i < 
acûss
->
Äows
; ++i)

225 ià(
acûss
->
v®
[
i
][0]!=0)

228  
i
 - 
fœ¡
;

229 
	}
}

231 
	$is_¬¿y
(
id
, 
PlutoM©rix
* 
pm©
){

232 
i
=0;

233 
j
=0;

234 
is_¬¿y
=0;

236 
i
=0; i< 
pm©
->
Äows
; i++){

237 if(
pm©
->
v®
[
i
][0]==
id
){

238 if(
	`acûss_Ën
(
pm©
,
i
) > 1)

239 
is_¬¿y
 = 1;

241 
j
=1; j< 
pm©
->
ncŞs
; j++)

242 if(
pm©
->
v®
[
i
][
j
] != 0)

243 
is_¬¿y
 = 1;

248  
is_¬¿y
;

249 
	}
}

257 
o¦_»ÏtiÚ_p
 
	$¶uto_m©rix_to_o¦_acûss_»ÏtiÚ
(
PlutoM©rix
 *
pm©
)

259 
i
=0;

260 
j
=0;

262 if(
pm©
==
NULL
)

263  
NULL
;

266 
Äows
 = 
pm©
->Äow + 
	`is_¬¿y
Õm©->
v®
[0][0],…mat);

267 
ncŞs
 = 1 + 
Äows
 + 
pm©
->ncols;

269 
o¦_»ÏtiÚ_p
 
¾
 = 
	`o¦_»ÏtiÚ_m®loc
(
Äows
, 
ncŞs
);

271 
¾
->
nb_ouut_dims
 = 
Äows
;

275 
	`o¦_št_£t_si
(
¾
->
´ecisiÚ
, &¾->
m
[0][1], -1);

279 
i
=1; i< 
¾
->
nb_rows
; i++){

280 
j
=0; j< 
¾
->
nb_cŞumns
; j++){

281 if(
j
==
i
+1)

282 
	`o¦_št_£t_si
(
¾
->
´ecisiÚ
, &¾->
m
[
i
][
j
], -1);

283 if(
j
<=
¾
->
nb_ouut_dims
)

284 
	`o¦_št_£t_si
(
¾
->
´ecisiÚ
, &¾->
m
[
i
][
j
], 0);

285 if(
j
<
¾
->
nb_cŞumns
)

286 
	`o¦_št_£t_si
(
¾
->
´ecisiÚ
, &¾->
m
[
i
][
j
], 
pm©
->
v®
[i-1][j-¾->
nb_ouut_dims
-1]);

290  
¾
;

291 
	}
}

298 
PlutoM©rix
 *
	$o¦_sÿ‰”šg_to_¶uto_Œªs
(
o¦_»ÏtiÚ_p
 
sm©
)

300 
i
, 
j
;

301 
PlutoM©rix
 *
m©
;

303 if(!
sm©
)

304  
NULL
;

306 if(
sm©
->
nb_loÿl_dims
){

307 
	`årštf
(
¡d”r
, "Cannot handle Local Dimensions in‡„elation.\n");

308 
	`ex™
(1);

311 
m©
 = 
	`¶uto_m©rix_®loc
(
sm©
->
nb_rows
, sm©->
nb_cŞumns
-sm©->
nb_ouut_dims
-1);

312 
i
=0; i<
sm©
->
nb_rows
; i++) {

314 
	`as£¹
(
	`o¦_št_g‘_si
(
sm©
->
´ecisiÚ
, sm©->
m
[
i
][0]) == 0);

316 
row
 = 
	`o¦_»ÏtiÚ_g‘_row_id_fÜ_Áh_dim’siÚ
(
sm©
, 
i
+1);

317 
j
=
sm©
->
nb_ouut_dims
+1; j<sm©->
nb_cŞumns
; j++) {

318 
m©
->
v®
[
i
][
j
-
sm©
->
nb_ouut_dims
-1] = 
	`o¦_št_g‘_si
(sm©->
´ecisiÚ
, sm©->
m
[
row
][j]);

322  
m©
;

323 
	}
}

328 
o¦_»ÏtiÚ_p
 
	$¶uto_Œªs_to_o¦_sÿ‰”šg
(
PlutoM©rix
 *
m©
, 
Å¬
)

330 
i
, 
j
;

331 
o¦_»ÏtiÚ_p
 
sm©
;

333 if(!
m©
)

334  
NULL
;

336 
sm©
 = 
	`o¦_»ÏtiÚ_pm®loc
(
PLUTO_OSL_PRECISION
, 
m©
->
Äows
, m©->Äows+m©->
ncŞs
+1);

337 
sm©
->
ty³
 = 
OSL_TYPE_SCATTERING
;

338 
sm©
->
nb_·¿m‘”s
 = 
Å¬
;

339 
sm©
->
nb_ouut_dims
 = 
m©
->
Äows
;

340 
sm©
->
nb_šput_dims
 = 
m©
->
ncŞs
 - 
Å¬
 - 1;

341 
sm©
->
nb_loÿl_dims
 = 0;

343 
i
=0; i<
sm©
->
nb_rows
; i++) {

344 
j
=1; j<
sm©
->
nb_cŞumns
; j++) {

347 if(
j
==0)

348 
	`o¦_št_£t_si
(
sm©
->
´ecisiÚ
, &sm©->
m
[
i
][
j
], 0);

351 if(
j
==
i
+1)

352 
	`o¦_št_£t_si
(
sm©
->
´ecisiÚ
, &sm©->
m
[
i
][
j
], -1);

353 if(
j
<=
sm©
->
nb_ouut_dims
)

354 
	`o¦_št_£t_si
(
sm©
->
´ecisiÚ
, &sm©->
m
[
i
][
j
], 0);

358 
	`o¦_št_£t_si
(
sm©
->
´ecisiÚ
, &sm©->
m
[
i
][
j
], 
m©
->
v®
[i][j-sm©->
nb_ouut_dims
-1]);

363  
sm©
;

364 
	}
}

370 
o¦_loİ_p
 
	$¶uto_g‘_veùÜ_loİ_li¡
ĞcÚ¡ 
PlutoProg
 *
´og
)

372 
i
, 
j
, 
Åloİs
;

373 
o¦_loİ_p
 
»t_loİ
 = 
NULL
;

375 
Ploİ
 **
¶oİs
 = 
	`¶uto_g‘_·¿Î–_loİs
(
´og
, &
Åloİs
);

377 
i
=0; i<
Åloİs
; i++) {

379 ià(!
	`¶uto_loİ_is_šÃrmo¡
(
¶oİs
[
i
], 
´og
)) ;

381 
	`IF_DEBUG
(
	`´štf
("[pluto_get_vector_loop_list] marking†oop\n"););

382 
	`IF_DEBUG
(
	`¶uto_loİ_´št
(
¶oİs
[
i
]););

384 
o¦_loİ_p
 
Ãwloİ
 = 
	`o¦_loİ_m®loc
();

386 
™”
[5];

387 
	`¥rštf
(
™”
, "t%d", 
¶oİs
[
i
]->
d•th
+1);

388 
Ãwloİ
->
™”
 = 
	`¡rdup
(iter);

391 
Ãwloİ
->
nb_¡mts
 = 
¶oİs
[
i
]->
n¡mts
;

392 
Ãwloİ
->
¡mt_ids
 = 
	`m®loc
(
¶oİs
[
i
]->
n¡mts
*());

393 
j
=0; j<
¶oİs
[
i
]->
n¡mts
; j++) {

394 
Ãwloİ
->
¡mt_ids
[
j
] = 
¶oİs
[
i
]->
¡mts
[j]->
id
+1;

397 
Ãwloİ
->
dœeùive
 +ğ
CLAST_PARALLEL_VEC
;

400 
	`o¦_loİ_add
(
Ãwloİ
, &
»t_loİ
);

403 
	`¶uto_loİs_ä“
(
¶oİs
, 
Åloİs
);

405  
»t_loİ
;

406 
	}
}

412 
o¦_loİ_p
 
	$¶uto_g‘_·¿Î–_loİ_li¡
(cÚ¡ 
PlutoProg
 *
´og
, 
vloİsfound
)

414 
i
, 
j
, 
Åloİs
;

415 
o¦_loİ_p
 
»t_loİ
 = 
NULL
;

417 
Ploİ
 **
¶oİs
 = 
	`¶uto_g‘_dom_·¿Î–_loİs
(
´og
, &
Åloİs
);

419 
	`IF_DEBUG
(
	`´štf
("[pluto_parallel_loop_list]…arallelizable†oops\n"););

420 
	`IF_DEBUG
(
	`¶uto_loİs_´št
(
¶oİs
, 
Åloİs
););

423 
i
=0; i<
Åloİs
; i++) {

425 
o¦_loİ_p
 
Ãwloİ
 = 
	`o¦_loİ_m®loc
();

427 
™”
[5];

428 
	`¥rštf
(
™”
, "t%d", 
¶oİs
[
i
]->
d•th
+1);

429 
Ãwloİ
->
™”
 = 
	`¡rdup
(iter);

431 
Ãwloİ
->
nb_¡mts
 = 
¶oİs
[
i
]->
n¡mts
;

432 
Ãwloİ
->
¡mt_ids
 = 
	`m®loc
(
¶oİs
[
i
]->
n¡mts
*());

433 
max_d•th
 = 0;

434 
j
=0; j<
¶oİs
[
i
]->
n¡mts
; j++) {

435 
Stmt
 *
¡mt
 = 
¶oİs
[
i
]->
¡mts
[
j
];

436 
Ãwloİ
->
¡mt_ids
[
j
] = 
¡mt
->
id
+1;

438 ià(
¡mt
->
Œªs
->
Äows
 > 
max_d•th
) max_depth = stmt->trans->nrows;

441 
Ãwloİ
->
dœeùive
 +ğ
CLAST_PARALLEL_OMP
;

442 *
´iv©e_v¬s
 = 
	`m®loc
(128);

443 
´iv©e_v¬s
[0] = '\0';

444 ià(
vloİsfound
è
	`¡rıy
Ğ
´iv©e_v¬s
, "lbv, ubv");

445 
d•th
 = 
¶oİs
[
i
]->depth+1;

446 
d•th
++; d•th<=
max_d•th
; depth++) {

447 
	`¥rštf
(
´iv©e_v¬s
+
	`¡¾’
Õriv©e_v¬s), "t%d,", 
d•th
);

449 ià(
	`¡¾’
(
´iv©e_v¬s
))

450 
´iv©e_v¬s
[
	`¡¾’
(private_vars)-1] = '\0';

451 
Ãwloİ
->
´iv©e_v¬s
 = 
	`¡rdup
(private_vars);

452 
	`ä“
(
´iv©e_v¬s
);

455 
	`o¦_loİ_add
(
Ãwloİ
, &
»t_loİ
);

458 
	`¶uto_loİs_ä“
(
¶oİs
, 
Åloİs
);

460  
»t_loİ
;

461 
	}
}

467 
	$¶uto_pİuÏ‹_scİ
 (
o¦_scİ_p
 
scİ
, 
PlutoProg
 *
´og
,

468 
PlutoO±iÚs
 *
İtiÚs
){

470 
i
;

471 
Stmt
 **
¡mts
 = 
´og
->stmts;

472 
n¡mts
 = 
´og
->nstmts;

474 
Å¬
 = 
´og
->npar;

476 
o¦_¡©em’t_p
 
¡m
 = 
scİ
->
¡©em’t
;

478 
i
=0; i<
n¡mts
; i++) {

481 if(
¡m
->
domaš
)

482 
	`o¦_»ÏtiÚ_ä“
(
¡m
->
domaš
);

483 
¡m
->
domaš
 = 
	`¶uto_cÚ¡¿šts_to_o¦_domaš
(
¡mts
[
i
]->domaš, 
Å¬
);

486 if(
¡m
->
sÿ‰”šg
)

487 
	`o¦_»ÏtiÚ_ä“
(
¡m
->
sÿ‰”šg
);

488 
¡m
->
sÿ‰”šg
 = 
	`¶uto_Œªs_to_o¦_sÿ‰”šg
(
¡mts
[
i
]->
Œªs
, 
Å¬
);

490 
¡m
 = stm->
Ãxt
;

495 
¡m
 = 
scİ
->
¡©em’t
; stm; stm = stm->
Ãxt
)

497 
n™”
 = 
¡m
->
domaš
->
nb_cŞumns
 - 
scİ
->
cÚ‹xt
->nb_columns;

498 
nb_Üig_™
 = -1;

499 
o¦_body_p
 
¡mt_body
 = 
	`o¦_g’”ic_lookup
(
¡m
->
ex‹nsiÚ
, 
OSL_URI_BODY
);

500 if(
¡mt_body
){

501 
nb_Üig_™
 = 
	`o¦_¡ršgs_size
(
¡mt_body
->
™”©Üs
);

502 ià(
nb_Üig_™
 !ğ
n™”
)

505 ** 
™”s
 =(**)
	`m®loc
((*)*(
n™”
+1));

506 
i
 = 0; i < 
n™”
 - 
nb_Üig_™
; ++i)

508 
™”s
[
i
] = (*è
	`m®loc
( ()*16 );

509 
	`¥rštf
 (
™”s
[
i
], "fk%d", i);

512 
o¦_»ÏtiÚ_li¡_p
 
¾l
 = 
¡m
->
acûss
;

513 
¾l
){

514 
	`o¦_»ÏtiÚ_š£¹_bÏnk_cŞumn
(
¾l
->
–t
,„Î->–t->
nb_ouut_dims
+1);

515 
¾l
->
–t
->
nb_šput_dims
++;

516 
¾l
 =„Î->
Ãxt
;

520 ; 
i
 < 
n™”
; ++i)

521 
™”s
[
i
] = 
¡mt_body
->
™”©Üs
->
¡ršg
[˜- 
n™”
 + 
nb_Üig_™
];

523 
™”s
[
i
]=(*)
NULL
;

525 
	`ä“
(
¡mt_body
->
™”©Üs
->
¡ršg
);

526 
¡mt_body
->
™”©Üs
->
¡ršg
 = 
™”s
;

533 
nb_sÿ‰
 = 0;

534 
¡m
 = 
scİ
->
¡©em’t
; stm; stm = stm->
Ãxt
)

536 
cur_sÿ‰
 = 
¡m
->
sÿ‰”šg
->
nb_ouut_dims
;

537 
nb_sÿ‰
 =‚b_sÿ‰ > 
cur_sÿ‰
 ?‚b_scatt : cur_scatt;

541 
o¦_¡ršgs_p
 
ÃwÇmes
 = 
	`o¦_¡ršgs_g’”©e
("t", 
nb_sÿ‰
);

542 
o¦_sÿŠames_p
 
sÿ‰
 = 
	`o¦_sÿŠames_m®loc
();

543 
sÿ‰
->
Çmes
 = 
ÃwÇmes
;

546 
	`o¦_g’”ic_»move
(&
scİ
->
ex‹nsiÚ
, 
OSL_URI_SCATNAMES
);

547 
o¦_g’”ic_p
 
g’
 = 
	`o¦_g’”ic_sh–l
(
sÿ‰
, 
	`o¦_sÿŠames_š‹rçû
());

548 
	`o¦_g’”ic_add
(&
scİ
->
ex‹nsiÚ
, 
g’
);

553 
o¦_loİ_p
 
vÎ
 = 
NULL
;

554 ià(
İtiÚs
->
´eveùÜ
 ){

555 
vÎ
 = 
	`¶uto_g‘_veùÜ_loİ_li¡
(
´og
);

557 
o¦_loİ_p
 
¶l
 = 
NULL
;

558 if(
İtiÚs
->
·¿Î–
){

559 
¶l
 = 
	`¶uto_g‘_·¿Î–_loİ_li¡
(
´og
, 
vÎ
!=
NULL
);

562 
	`o¦_loİ_add
(
vÎ
, &
¶l
);

564 if(
¶l
){

565 
o¦_g’”ic_p
 
loİg’
 = 
	`o¦_g’”ic_sh–l
(
¶l
, 
	`o¦_loİ_š‹rçû
());

566 
	`o¦_g’”ic_add
(&
scİ
->
ex‹nsiÚ
, 
loİg’
);

571 
i
;

572 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
 = 
´og
->hProps;

573 
o¦_¶uto_uÄŞl_p
 
¶uto_uÄŞl
 = 
NULL
;

574 
o¦_¶uto_uÄŞl_p
 
¶uto_uÄŞl_ba£
 = 
NULL
;

576 
bufãr
[(
i
è* 
CHAR_BIT
 + 1] = { 0 };

578 
i
=0; i<
´og
->
num_hy³½ÏÃs
; i++) {

579 ià(
hPrİs
[
i
].
uÄŞl
 =ğ
UNROLL
 || hPrİs[i].uÄŞÈ=ğ
UNROLLJAM
) {

580 
	`¥rštf
(
bufãr
, "t%i", 
i
 + 1);

581 ià(
¶uto_uÄŞl
 =ğ
NULL
) {

582 
¶uto_uÄŞl
 = 
	`o¦_¶uto_uÄŞl_m®loc
();

583 
¶uto_uÄŞl_ba£
 = 
¶uto_uÄŞl
;

585 
¶uto_uÄŞl
->
Ãxt
 = 
	`o¦_¶uto_uÄŞl_m®loc
();

586 
¶uto_uÄŞl
 =…luto_uÄŞl->
Ãxt
;

588 
	`o¦_¶uto_uÄŞl_fl
(
¶uto_uÄŞl
,

589 
bufãr
,

590 
hPrİs
[
i
].
uÄŞl
 =ğ
UNROLLJAM
,

591 
İtiÚs
->
uçùÜ
);

595 ià(
¶uto_uÄŞl_ba£
) {

596 
o¦_g’”ic_p
 
¶uto_uÄŞl_g’”ic
 =

597 
	`o¦_g’”ic_sh–l
(
¶uto_uÄŞl_ba£
, 
	`o¦_¶uto_uÄŞl_š‹rçû
());

598 
	`o¦_g’”ic_add
(&
scİ
->
ex‹nsiÚ
, 
¶uto_uÄŞl_g’”ic
);

601 
	}
}

603 
	$g‘_o¦_wr™e_acûss_pos™iÚ
(
o¦_»ÏtiÚ_li¡_p
 
¾
,

604 
o¦_»ÏtiÚ_p
 
acûss
)

606 
num
;

608 
num
 = -1;

610 
o¦_»ÏtiÚ_li¡_p
 
tmp
 = 
¾
;

611 ; 
tmp
;m°ğtmp->
Ãxt
) {

613 iàĞ(
tmp
->
–t
->
ty³
 =ğ
OSL_TYPE_WRITE
) ||

614 (
tmp
->
–t
->
ty³
 =ğ
OSL_TYPE_MAY_WRITE
) )

615 
num
++;

617 if(
tmp
->
–t
 =ğ
acûss
)

620 
	`as£¹
(
num
 >= 0);

621  
num
;

622 
	}
}

624 
	$g‘_o¦_»ad_acûss_pos™iÚ
(
o¦_»ÏtiÚ_li¡_p
 
¾
,

625 
o¦_»ÏtiÚ_p
 
acûss
)

627 
num
;

629 
num
 = -1;

631 
o¦_»ÏtiÚ_li¡_p
 
tmp
 = 
¾
;

632 ; 
tmp
;m°ğtmp->
Ãxt
) {

634 iàĞ(
tmp
->
–t
->
ty³
 =ğ
OSL_TYPE_READ
) )

635 
num
++;

637 if(
tmp
->
–t
 =ğ
acûss
)

640 
	`as£¹
(
num
 >= 0);

641  
num
;

642 
	}
}

647 
o¦_»ÏtiÚ_li¡_p
 
	$o¦_acûss_li¡_f‹r_wr™e
(
o¦_»ÏtiÚ_li¡_p
 
li¡
) {

649 
o¦_»ÏtiÚ_li¡_p
 
cİy
 = 
	`o¦_»ÏtiÚ_li¡_şÚe
(
li¡
);

650 
o¦_»ÏtiÚ_li¡_p
 
f‹»d
 = 
NULL
;

651 
o¦_»ÏtiÚ_li¡_p
 
´evious
 = 
NULL
;

652 
o¦_»ÏtiÚ_li¡_p
 
Œash
;

653 
fœ¡
 = 1;

655 
cİy
 !ğ
NULL
) {

656 ià((
cİy
->
–t
 !ğ
NULL
) &&

657 Ğ(
cİy
->
–t
->
ty³
 =ğ
OSL_TYPE_WRITE
) ||

658 (
cİy
->
–t
->
ty³
 =ğ
OSL_TYPE_MAY_WRITE
))) {

659 ià(
fœ¡
) {

660 
f‹»d
 = 
cİy
;

661 
fœ¡
 = 0;

664 
´evious
 = 
cİy
;

665 
cİy
 = cİy->
Ãxt
;

668 
Œash
 = 
cİy
;

669 ià(!
fœ¡
)

670 
´evious
->
Ãxt
 = 
cİy
->next;

671 
cİy
 = cİy->
Ãxt
;

672 
Œash
->
Ãxt
 = 
NULL
;

673 
	`o¦_»ÏtiÚ_li¡_ä“
(
Œash
);

677  
f‹»d
;

678 
	}
}

683 
o¦_»ÏtiÚ_li¡_p
 
	$o¦_acûss_li¡_f‹r_»ad
(
o¦_»ÏtiÚ_li¡_p
 
li¡
) {

685 
o¦_»ÏtiÚ_li¡_p
 
cİy
 = 
	`o¦_»ÏtiÚ_li¡_şÚe
(
li¡
);

686 
o¦_»ÏtiÚ_li¡_p
 
f‹»d
 = 
NULL
;

687 
o¦_»ÏtiÚ_li¡_p
 
´evious
 = 
NULL
;

688 
o¦_»ÏtiÚ_li¡_p
 
Œash
;

689 
fœ¡
 = 1;

691 
cİy
 !ğ
NULL
) {

692 ià((
cİy
->
–t
 !ğ
NULL
) &&

693 (
cİy
->
–t
->
ty³
 =ğ
OSL_TYPE_READ
)) {

694 ià(
fœ¡
) {

695 
f‹»d
 = 
cİy
;

696 
fœ¡
 = 0;

699 
´evious
 = 
cİy
;

700 
cİy
 = cİy->
Ãxt
;

703 
Œash
 = 
cİy
;

704 ià(!
fœ¡
)

705 
´evious
->
Ãxt
 = 
cİy
->next;

706 
cİy
 = cİy->
Ãxt
;

707 
Œash
->
Ãxt
 = 
NULL
;

708 
	`o¦_»ÏtiÚ_li¡_ä“
(
Œash
);

712  
f‹»d
;

713 
	}
}

719 
PlutoCÚ¡¿šts
* 
	$o¦_d•_domaš_to_¶uto_cÚ¡¿šts
(
o¦_d•’d’û_p
 
š_d•
){

721 
s_dom_ouut_dims
 = 
š_d•
->
sourû_nb_ouut_dims_domaš
;

722 
t_dom_ouut_dims
 = 
š_d•
->
rg‘_nb_ouut_dims_domaš
;

725 
nb_ouut_dims
 = 
š_d•
->
sourû_nb_ouut_dims_domaš
 +

726 
š_d•
->
sourû_nb_ouut_dims_acûss
;

727 
nb_šput_dims
 = 
š_d•
->
rg‘_nb_ouut_dims_domaš
 +

728 
š_d•
->
rg‘_nb_ouut_dims_acûss
;

731 
o¦_šd_sourû_loÿl_domaš
 = 1 + 
nb_ouut_dims
 + 
nb_šput_dims
;

732 
o¦_šd_sourû_loÿl_acûss
 = 
o¦_šd_sourû_loÿl_domaš
 +

733 
š_d•
->
sourû_nb_loÿl_dims_domaš
;

734 
o¦_šd_rg‘_loÿl_domaš
 = 
o¦_šd_sourû_loÿl_acûss
 +

735 
š_d•
->
sourû_nb_loÿl_dims_acûss
;

736 
o¦_šd_rg‘_loÿl_acûss
 = 
o¦_šd_rg‘_loÿl_domaš
 +

737 
š_d•
->
rg‘_nb_loÿl_dims_domaš
;

738 
o¦_šd_·¿ms
 = 
o¦_šd_rg‘_loÿl_acûss
 +

739 
š_d•
->
rg‘_nb_loÿl_dims_acûss
;

742 
¶_šd_rg‘_domaš
 = 1 + 
š_d•
->
sourû_nb_ouut_dims_domaš
;

743 
¶_šd_·¿ms
 = 
¶_šd_rg‘_domaš
 +

744 
š_d•
->
rg‘_nb_ouut_dims_domaš
;

746 
rows
, 
cŞs
 = 0;

748 
nb_·rs
 = 
š_d•
->
¡mt_sourû_±r
->
domaš
->
nb_·¿m‘”s
;

749 
s_dom_rows
 = 
š_d•
->
¡mt_sourû_±r
->
domaš
->
nb_rows
;

750 
t_dom_rows
 = 
š_d•
->
¡mt_rg‘_±r
->
domaš
->
nb_rows
;

751 
s_acc_rows
 = 
š_d•
->
»f_sourû_acûss_±r
->
nb_rows
 - 1;

752 
d•th
 = 
š_d•
->depth;

755 
rows
 = 
s_dom_rows
+
t_dom_rows
+

756 (
s_acc_rows
==0? 1: s_acc_rows)

757 +
d•th
;

758 
cŞs
 = 
s_dom_ouut_dims
+
t_dom_ouut_dims
+
nb_·rs
+2;

760 
PlutoCÚ¡¿šts
 *
c¡
;

762 
c¡
 = 
	`¶uto_cÚ¡¿šts_®loc
(
rows
, 
cŞs
-1);

763 
c¡
->
Äows
 = 
rows
;

764 
c¡
->
ncŞs
 = 
cŞs
-1;

766 
i
=0;

767 
j
=0;

768 
o¦_cÚ¡¿št
 = 0;

769 
¶_cÚ¡¿št
 = 0;

770 
o¦_šdex
=0;

771 
¶_šdex
=0;

775 
o¦_»ÏtiÚ_p
 
s_domaš
 = 
š_d•
->
¡mt_sourû_±r
->
domaš
;

776 
i
=0; i< 
s_domaš
->
nb_rows
; i++){

779 ià(
	`o¦_št_z”o
(
š_d•
->
domaš
->
´ecisiÚ
, in_d•->domaš->
m
[
o¦_cÚ¡¿št
][0])) {

780 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 1;

782 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 0;

786 
o¦_šdex
 = 1;

787 
¶_šdex
 = 1-1;

788 
j
=0;j<
s_dom_ouut_dims
; j++)

789 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_šdex
+
j
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

790 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_šdex
+
j
]);

793 if(
s_domaš
->
nb_loÿl_dims
){

794 
	`årštf
(
¡d”r
, "local dimensions in domain‚ot supported\n");

795 
	`ex™
(1);

799 
o¦_šdex
 = 
o¦_šd_·¿ms
;

800 
¶_šdex
 = 
¶_šd_·¿ms
-1;

801 
j
=0; j<
nb_·rs
+1; j++)

802 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_šdex
+
j
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

803 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_šdex
+
j
]);

805 
o¦_cÚ¡¿št
++;

806 
¶_cÚ¡¿št
++;

811 
o¦_»ÏtiÚ_p
 
t_domaš
 = 
š_d•
->
¡mt_rg‘_±r
->
domaš
;

812 
i
=0; i< 
t_domaš
->
nb_rows
; i++){

815 ià(
	`o¦_št_z”o
(
š_d•
->
domaš
->
´ecisiÚ
, in_d•->domaš->
m
[
o¦_cÚ¡¿št
][0])) {

816 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 1;

818 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 0;

822 
o¦_šdex
 = 1 + 
nb_ouut_dims
;

823 
¶_šdex
 = 
¶_šd_rg‘_domaš
-1;

824 
j
=0;j<
t_dom_ouut_dims
; j++)

825 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_šdex
+
j
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

826 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_šdex
+
j
]);

829 if(
t_domaš
->
nb_loÿl_dims
){

830 
	`årštf
(
¡d”r
,"local dimensions in domain‚ot supproted\n");

831 
	`ex™
(1);

835 
o¦_šdex
 = 
o¦_šd_·¿ms
;

836 
¶_šdex
 = 
¶_šd_·¿ms
-1;

837 
j
=0; j<
nb_·rs
+1; j++)

838 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_šdex
+
j
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

839 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_šdex
+
j
]);

841 
¶_cÚ¡¿št
++;

842 
o¦_cÚ¡¿št
++;

847 
o¦_s_šdex
 = 0;

848 
o¦_t_šdex
 = 0;

849 
¶_s_šdex
 = 0;

850 
¶_t_šdex
 = 0;

852 
o¦_»ÏtiÚ_p
 
s_acûss
 = 
š_d•
->
»f_sourû_acûss_±r
;

853 
o¦_»ÏtiÚ_p
 
t_acûss
 = 
š_d•
->
»f_rg‘_acûss_±r
;

855 
o¦_cÚ¡¿št
++;

857 
i
=0; i < 
s_acc_rows
; i++){

860 ià(
	`o¦_št_z”o
(
š_d•
->
domaš
->
´ecisiÚ
, in_d•->domaš->
m
[
o¦_cÚ¡¿št
][0])) {

861 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 1;

863 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 0;

866 
o¦_s_šdex
 = 1;

867 
o¦_t_šdex
 = 1 + 
nb_ouut_dims
;

868 
¶_s_šdex
 = 1-1;

869 
¶_t_šdex
 = 
¶_šd_rg‘_domaš
-1;

871 
j
=0; j<
s_acûss
->
nb_šput_dims
; j++){

872 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_s_šdex
+
j
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

873 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_s_šdex
+
j
]);

876 
j
=0; j<
t_acûss
->
nb_šput_dims
; j++){

877 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_t_šdex
+
j
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

878 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
+
s_acûss
->
nb_rows
][
o¦_t_šdex
+
j
]);

882 if(
s_acûss
->
nb_loÿl_dims
 || 
t_acûss
->nb_local_dims){

883 
	`årštf
(
¡d”r
, "local dimensions in Access‚ot supproted\n");

884 
	`ex™
(1);

888 
o¦_šdex
 = 
o¦_šd_·¿ms
;

889 
¶_šdex
 = 
¶_šd_·¿ms
-1;

890 
j
=0; j<
nb_·rs
+1; j++){

892 
¤c_·¿m
 = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

893 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_šdex
+
j
]);

895 
tgt_·¿m
 = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

896 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
+
s_acûss
->
nb_rows
][
o¦_šdex
+
j
]);

898 
tgt_·¿m
 = -tgt_param;

900 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_šdex
+
j
] = 
¤c_·¿m
 - 
tgt_·¿m
;

904 
¶_cÚ¡¿št
++;

905 
o¦_cÚ¡¿št
++;

911 
mš_d•th
 = 
	`OSL_mš
(
s_acûss
->
nb_ouut_dims
,

912 
t_acûss
->
nb_ouut_dims
);

913 
o¦_cÚ¡¿št
 +ğ
s_acûss
->
nb_rows
 + 
mš_d•th
;

917 if(
s_acc_rows
==0è
¶_cÚ¡¿št
++;

921 
o¦_s_šdex
 = 1;

922 
o¦_t_šdex
 = 1 + 
nb_ouut_dims
;

923 
¶_s_šdex
 = 1-1;

924 
¶_t_šdex
 = 
¶_šd_rg‘_domaš
-1;

925 
i
=0; i< 
d•th
; i++){

927 ià(
	`o¦_št_z”o
(
š_d•
->
domaš
->
´ecisiÚ
, in_d•->domaš->
m
[
o¦_cÚ¡¿št
][0])) {

928 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 1;

930 
c¡
->
is_eq
[
¶_cÚ¡¿št
] = 0;

934 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_s_šdex
+
i
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

935 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_s_šdex
+
i
]);

936 
c¡
->
v®
[
¶_cÚ¡¿št
][
¶_t_šdex
+
i
] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

937 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][
o¦_t_šdex
+
i
]);

942 
c¡
->
v®
[
¶_cÚ¡¿št
][c¡->
ncŞs
-1] = 
	`o¦_št_g‘_si
(
š_d•
->
domaš
->
´ecisiÚ
,

943 
š_d•
->
domaš
->
m
[
o¦_cÚ¡¿št
][š_d•->domaš->
nb_cŞumns
-1]);

945 
o¦_cÚ¡¿št
++;

946 
¶_cÚ¡¿št
++;

950  
c¡
;

951 
	}
}

976 
D•
 **
	$d•s_»ad
(
o¦_d•’d’û_p
 
ÿndlD•s
, 
PlutoProg
 *
´og
)

978 
i
, 
j
, 
nd•s
;

979 
¥os
, 
os
;

980 
D•
 **
d•s
;

981 
Å¬
 = 
´og
->npar;

982 
Stmt
 **
¡mts
 = 
´og
->stmts;

984 
nd•s
 = 
	`o¦_nb_d•’d’ûs
(
ÿndlD•s
);

986 
d•s
 = (
D•
 **è
	`m®loc
(
nd•s
*(Dep *));

988 
i
=0; i<
nd•s
; i++) {

989 
d•s
[
i
] = 
	`¶uto_d•_®loc
();

992 
o¦_d•’d’û_p
 
ÿndl_d•
 = 
ÿndlD•s
;

994 
ÿndl_d•
 = 
ÿndlD•s
;

996 
	`IF_DEBUG
(
	`ÿndl_d•’d’û_µršt
(
¡dout
, 
ÿndl_d•
));

999 
i
=0; i<
nd•s
; i++) {

1000 
D•
 *
d•
 = 
d•s
[
i
];

1001 
d•
->
id
 = 
i
;

1002 
d•
->
ty³
 = 
ÿndl_d•
->type;

1003 
d•
->
¤c
 = 
ÿndl_d•
->
Ïb–_sourû
;

1004 
d•
->
de¡
 = 
ÿndl_d•
->
Ïb–_rg‘
;

1007 
d•
->
dpŞytİe
 = 
	`o¦_d•_domaš_to_¶uto_cÚ¡¿šts
(
ÿndl_d•
);

1008 
d•
->
boundšg_pŞy
 = 
	`¶uto_cÚ¡¿šts_dup
(d•->
dpŞytİe
);

1010 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
d•
->
dpŞytİe
,

1011 
¡mts
[
d•
->
¤c
]->
™”©Üs
, 0, 0, stmts[d•->¤c]->
dim
);

1013 **
dÇmes
 = 
	`m®loc
(
¡mts
[
d•
->
de¡
]->
dim
*(*));

1014 
j
=0; j<
¡mts
[
d•
->
de¡
]->
dim
; j++) {

1015 
dÇmes
[
j
] = 
	`m®loc
(
	`¡¾’
(
¡mts
[
d•
->
de¡
]->
™”©Üs
[j])+2);

1016 
	`¡rıy
(
dÇmes
[
j
], 
¡mts
[
d•
->
de¡
]->
™”©Üs
[j]);

1017 
	`¡rÿt
(
dÇmes
[
j
], "'");

1019 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
d•
->
dpŞytİe
,

1020 
dÇmes
, 
¡mts
[
d•
->
¤c
]->
dim
, 0, stmts[d•->
de¡
]->dim);

1021 
j
=0; j<
¡mts
[
d•
->
de¡
]->
dim
; j++) {

1022 
	`ä“
(
dÇmes
[
j
]);

1024 
	`ä“
(
dÇmes
);

1026 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
d•
->
dpŞytİe
, 
´og
->
·¿ms
,

1027 
¡mts
[
d•
->
¤c
]->
dim
 + stmts[d•->
de¡
]->dim, 0, 
Å¬
);

1029 
d•
->
ty³
) {

1030 
OSL_DEPENDENCE_RAW
:

1031 
¥os
 = 
	`g‘_o¦_wr™e_acûss_pos™iÚ
(

1032 
ÿndl_d•
->
¡mt_sourû_±r
->
acûss
,

1033 
ÿndl_d•
->
»f_sourû_acûss_±r
);

1034 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
wr™es
[
¥os
];

1035 
os
 = 
	`g‘_o¦_»ad_acûss_pos™iÚ
(

1036 
ÿndl_d•
->
¡mt_rg‘_±r
->
acûss
,

1037 
ÿndl_d•
->
»f_rg‘_acûss_±r
);

1038 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
»ads
[
os
];

1041 
OSL_DEPENDENCE_WAW
:

1042 
¥os
 = 
	`g‘_o¦_wr™e_acûss_pos™iÚ
(

1043 
ÿndl_d•
->
¡mt_sourû_±r
->
acûss
,

1044 
ÿndl_d•
->
»f_sourû_acûss_±r
);

1045 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
wr™es
[
¥os
];

1046 
os
 = 
	`g‘_o¦_wr™e_acûss_pos™iÚ
(

1047 
ÿndl_d•
->
¡mt_rg‘_±r
->
acûss
,

1048 
ÿndl_d•
->
»f_rg‘_acûss_±r
);

1049 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
wr™es
[
os
];

1051 
OSL_DEPENDENCE_WAR
:

1052 
¥os
 = 
	`g‘_o¦_»ad_acûss_pos™iÚ
(

1053 
ÿndl_d•
->
¡mt_sourû_±r
->
acûss
,

1054 
ÿndl_d•
->
»f_sourû_acûss_±r
);

1055 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
»ads
[
¥os
];

1056 
os
 = 
	`g‘_o¦_wr™e_acûss_pos™iÚ
(

1057 
ÿndl_d•
->
¡mt_rg‘_±r
->
acûss
,

1058 
ÿndl_d•
->
»f_rg‘_acûss_±r
);

1059 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
wr™es
[
os
];

1061 
OSL_DEPENDENCE_RAR
:

1062 
¥os
 = 
	`g‘_o¦_»ad_acûss_pos™iÚ
(

1063 
ÿndl_d•
->
¡mt_sourû_±r
->
acûss
,

1064 
ÿndl_d•
->
»f_sourû_acûss_±r
);

1065 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
»ads
[
¥os
];

1066 
os
 = 
	`g‘_o¦_»ad_acûss_pos™iÚ
(

1067 
ÿndl_d•
->
¡mt_rg‘_±r
->
acûss
,

1068 
ÿndl_d•
->
»f_rg‘_acûss_±r
);

1069 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
»ads
[
os
];

1072 
	`as£¹
(0);

1076 
r
, 
c
;

1077 
boŞ
 *
»move
 = (boŞ *è
	`m®loc
((boŞ)*
d•
->
dpŞytİe
->
Äows
);

1078 
r
=0;„<
d•
->
dpŞytİe
->
Äows
;„++) {

1079 
c
=0; c<
d•
->
dpŞytİe
->
ncŞs
; c++) {

1080 ià(
d•
->
dpŞytİe
->
v®
[
r
][
c
] != 0) {

1084 ià(
c
 =ğ
d•
->
dpŞytİe
->
ncŞs
) {

1085 
»move
[
r
] = 
Œue
;

1087 
»move
[
r
] = 
çl£
;

1090 
Üig_Äows
 = 
d•
->
dpŞytİe
->
Äows
;

1091 
d–_couÁ
 = 0;

1092 
r
=0;„<
Üig_Äows
;„++) {

1093 ià(
»move
[
r
]) {

1094 
	`¶uto_cÚ¡¿šts_»move_row
(
d•
->
dpŞytİe
, 
r
-
d–_couÁ
);

1095 
d–_couÁ
++;

1098 
	`ä“
(
»move
);

1100 
¤c_dim
 = 
¡mts
[
d•
->
¤c
]->
dim
;

1101 
rg‘_dim
 = 
¡mts
[
d•
->
de¡
]->
dim
;

1103 
	`as£¹
(
ÿndl_d•
->
sourû_nb_ouut_dims_domaš
 +

1104 
ÿndl_d•
->
rg‘_nb_ouut_dims_domaš
 +

1105 
ÿndl_d•
->
¡mt_sourû_±r
->
domaš
->
nb_·¿m‘”s
 + 1

1106 =ğ
¤c_dim
+
rg‘_dim
+
Å¬
+1);

1108 
ÿndl_d•
 = cªdl_d•->
Ãxt
;

1111  
d•s
;

1112 
	}
}

1114 
	$¶uto_d•_´št
(
FILE
 *
å
, cÚ¡ 
D•
 *
d•
)

1116 
	`årštf
(
å
, "--- Dep %d from S%do S%d; satisfied: %d, sat†evel: %d; Type: ",

1117 
d•
->
id
+1, d•->
¤c
+1, d•->
de¡
+1, d•->
§tisf›d
, d•->
§tisçùiÚ_Ëv–
);

1119 
d•
->
ty³
) {

1120 
OSL_UNDEFINED
 : 
	`årštf
(
å
, "UNSET"); ;

1121 
OSL_DEPENDENCE_RAW
 : 
	`årštf
(
å
, "RAW") ; ;

1122 
OSL_DEPENDENCE_WAR
 : 
	`årštf
(
å
, "WAR") ; ;

1123 
OSL_DEPENDENCE_WAW
 : 
	`årštf
(
å
, "WAW") ; ;

1124 
OSL_DEPENDENCE_RAR
 : 
	`årštf
(
å
, "RAR") ; ;

1125  : 
	`årštf
(
å
, "unknown"); ;

1128 
	`årštf
(
å
, "\n");

1129 ià(
d•
->
¤c_acc
) {

1130 
	`årštf
(
å
, "Ú v¬ŸbË: %s\n", 
d•
->
¤c_acc
->
Çme
);

1133 
	`årštf
(
å
, "Dependence…olyhedron\n");

1134 
	`¶uto_cÚ¡¿šts_com·ù_´št
(
å
, 
d•
->
dpŞytİe
);

1135 
	`årštf
(
å
, "\n");

1136 
	}
}

1139 
	$¶uto_d•s_´št
(
FILE
 *
å
, 
PlutoProg
 *
´og
)

1141 
i
;

1142 ià(
´og
->
nd•s
 =ğ0è
	`´štf
("** No dependences **\n\n");

1143 
i
=0; i<
´og
->
nd•s
; i++) {

1144 
	`¶uto_d•_´št
(
å
, 
´og
->
d•s
[
i
]);

1146 
	}
}

1149 
Stmt
 **
	$o¦_to_¶uto_¡mts
(cÚ¡ 
o¦_scİ_p
 
scİ
)

1151 
i
, 
j
, 
k
;

1152 
Stmt
 **
¡mts
;

1153 
Å¬
, 
nv¬
, 
n¡mts
, 
max_sched_rows
;

1154 
o¦_¡©em’t_p
 
scİ_¡mt
;

1156 
Å¬
 = 
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
;

1157 
n¡mts
 = 
	`o¦_¡©em’t_numb”
(
scİ
->
¡©em’t
);

1159 ià(
n¡mts
 =ğ0è 
NULL
;

1162 
nv¬
 = -1;

1163 
max_sched_rows
 = 0;

1164 
scİ_¡mt
 = 
scİ
->
¡©em’t
;

1165 
i
=0; i<
n¡mts
; i++) {

1166 
nv¬
 = 
	`PLMAX
Òv¬, 
	`o¦_¡©em’t_g‘_nb_™”©Üs
(
scİ_¡mt
));

1167 
max_sched_rows
 = 
	`PLMAX
(max_sched_rows, 
scİ_¡mt
->
sÿ‰”šg
->
nb_rows
);

1168 
scİ_¡mt
 = scİ_¡mt->
Ãxt
;

1171 
¡mts
 = (
Stmt
 **è
	`m®loc
(
n¡mts
*(Stmt *));

1173 
scİ_¡mt
 = 
scİ
->
¡©em’t
;

1175 
i
=0; i<
n¡mts
; i++) {

1176 
PlutoCÚ¡¿šts
 *
domaš
 =

1177 
	`o¦_»ÏtiÚ_to_¶uto_cÚ¡¿šts
(
scİ_¡mt
->
domaš
);

1178 
PlutoM©rix
 *
Œªs
 = 
	`o¦_sÿ‰”šg_to_¶uto_Œªs
(
scİ_¡mt
->
sÿ‰”šg
);

1180 
nb_™”
 = 
	`o¦_¡©em’t_g‘_nb_™”©Üs
(
scİ_¡mt
);

1182 
¡mts
[
i
] = 
	`¶uto_¡mt_®loc
(
nb_™”
, 
domaš
, 
Œªs
);

1185 
cu¼_sched_rows
 = 
¡mts
[
i
]->
Œªs
->
Äows
;

1186 
j
=
cu¼_sched_rows
; j<
max_sched_rows
; j++) {

1187 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_SCALAR
, 
j
);

1190 
	`¶uto_cÚ¡¿šts_ä“
(
domaš
);

1191 
	`¶uto_m©rix_ä“
(
Œªs
);

1193 
Stmt
 *
¡mt
 = 
¡mts
[
i
];

1195 
¡mt
->
id
 = 
i
;

1196 
¡mt
->
ty³
 = 
ORIG
;

1198 
	`as£¹
(
scİ_¡mt
->
domaš
->
nb_cŞumns
-1 =ğ
¡mt
->
dim
 + 
Å¬
 + 1);

1200 
j
=0; j<
¡mt
->
dim
; j++) {

1201 
¡mt
->
is_Üig_loİ
[
j
] = 
Œue
;

1205 
¡mt
->
te
 = 1;

1207 
o¦_body_p
 
¡mt_body
 = 
	`o¦_g’”ic_lookup
(
scİ_¡mt
->
ex‹nsiÚ
, 
OSL_URI_BODY
);

1209 
j
=0; j<
¡mt
->
dim
; j++) {

1210 
¡mt
->
™”©Üs
[
j
] = 
	`¡rdup
(
¡mt_body
->™”©Üs->
¡ršg
[j]);

1213 **
Çmes
 = 
	`m®loc
((
¡mt
->
domaš
->
ncŞs
-1)*(*));

1214 
k
=0; k<
¡mt
->
dim
; k++) {

1215 
Çmes
[
k
] = 
¡mt
->
™”©Üs
[k];

1217 
o¦_¡ršgs_p
 
o¦_scİ_·¿ms
 = 
NULL
;

1218 if(
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
){

1219 
o¦_scİ_·¿ms
 = (
o¦_¡ršgs_p
)
scİ
->
·¿m‘”s
->
d©a
;

1220 
k
=0; k<
Å¬
; k++) {

1221 
Çmes
[
¡mt
->
dim
+
k
] = 
o¦_scİ_·¿ms
->
¡ršg
[k];

1224 
	`¶uto_cÚ¡¿šts_£t_Çmes
(
¡mt
->
domaš
, 
Çmes
);

1225 
	`ä“
(
Çmes
);

1228 
¡mt
->
‹xt
 = 
	`o¦_¡ršgs_¥ršt
(
¡mt_body
->
ex´essiÚ
);

1229 
¡mt
->
‹xt
[
	`¡¾’
(stmt->text)-1] = '\0';

1233 
o¦_»ÏtiÚ_li¡_p
 
wli¡
 = 
	`o¦_acûss_li¡_f‹r_wr™e
(
scİ_¡mt
->
acûss
);

1234 
o¦_»ÏtiÚ_li¡_p
 
¾i¡
 = 
	`o¦_acûss_li¡_f‹r_»ad
(
scİ_¡mt
->
acûss
);

1236 
o¦_»ÏtiÚ_li¡_p
 
¾i¡_t
, 
wli¡_t
;

1237 
¾i¡_t
 = 
¾i¡
;

1238 
wli¡_t
 = 
wli¡
;

1240 
¡mt
->
nwr™es
 = 
	`o¦_»ÏtiÚ_li¡_couÁ
(
wli¡
);

1241 
¡mt
->
wr™es
 = (
PlutoAcûss
 **è
	`m®loc
(¡mt->
nwr™es
*(PlutoAccess *));

1243 
¡mt
->
Ä—ds
 = 
	`o¦_»ÏtiÚ_li¡_couÁ
(
¾i¡
);

1244 
¡mt
->
»ads
 = (
PlutoAcûss
 **è
	`m®loc
(¡mt->
Ä—ds
*(PlutoAccess *));

1246 
o¦_¬¿ys_p
 
¬¿ys
 = 
	`o¦_g’”ic_lookup
(
scİ
->
ex‹nsiÚ
, 
OSL_URI_ARRAYS
);

1248 
couÁ
 = 0;

1249 
wli¡
 !ğ
NULL
) {

1250 
PlutoM©rix
 *
wm©
 = 
	`o¦_acûss_»ÏtiÚ_to_¶uto_m©rix
(
wli¡
->
–t
);

1251 
¡mt
->
wr™es
[
couÁ
] = (
PlutoAcûss
 *è
	`m®loc
((PlutoAccess));

1252 
¡mt
->
wr™es
[
couÁ
]->
m©
 = 
wm©
;

1255 if(
¬¿ys
){

1256 
id
 = 
	`o¦_»ÏtiÚ_g‘_¬¿y_id
(
wli¡
->
–t
);

1257 
¡mt
->
wr™es
[
couÁ
]->
Çme
 = 
	`¡rdup
(
¬¿ys
->
Çmes
[
id
-1]);

1260 
¡mt
->
wr™es
[
couÁ
]->
Çme
 = 
NULL
;

1263 
couÁ
++;

1264 
wli¡
 = wli¡->
Ãxt
;

1267 
couÁ
 = 0;

1268 
¾i¡
 !ğ
NULL
) {

1270 
PlutoM©rix
 *
rm©
 = 
	`o¦_acûss_»ÏtiÚ_to_¶uto_m©rix
(
¾i¡
->
–t
);

1271 
¡mt
->
»ads
[
couÁ
] = (
PlutoAcûss
 *è
	`m®loc
((PlutoAccess));

1272 
¡mt
->
»ads
[
couÁ
]->
m©
 = 
rm©
;

1275 if(
¬¿ys
){

1276 
id
 = 
	`o¦_»ÏtiÚ_g‘_¬¿y_id
(
¾i¡
->
–t
);

1277 
¡mt
->
»ads
[
couÁ
]->
Çme
 = 
	`¡rdup
(
¬¿ys
->
Çmes
[
id
-1]);

1280 
¡mt
->
»ads
[
couÁ
]->
Çme
 = 
NULL
;

1283 
couÁ
++;

1284 
¾i¡
 =„li¡->
Ãxt
;

1287 
	`o¦_»ÏtiÚ_li¡_ä“
(
wli¡_t
);

1288 
	`o¦_»ÏtiÚ_li¡_ä“
(
¾i¡_t
);

1290 
scİ_¡mt
 = scİ_¡mt->
Ãxt
;

1293  
¡mts
;

1294 
	}
}

1296 
	$¶uto_acûss_´št
(
FILE
 *
å
, cÚ¡ 
PlutoAcûss
 *
acc
, cÚ¡ 
Stmt
 *
¡mt
)

1298 
i
, 
j
, 
Å¬
;

1300 ià(!
acc
) {

1301 
	`årštf
(
å
, "access is NULL\n");

1305 
Å¬
 = 
acc
->
m©
->
ncŞs
 - 
¡mt
->
dim
 - 1;

1307 
	`årštf
(
å
, "%s", 
acc
->
Çme
);

1308 
i
=0; i<
acc
->
m©
->
Äows
; i++) {

1309 
	`årštf
(
å
, "[");

1310 **
v¬s
 = 
	`m®loc
((
¡mt
->
dim
+
Å¬
)*(*));

1311 
j
=0; j<
¡mt
->
dim
; j++) {

1312 
v¬s
[
j
] = 
¡mt
->
™”©Üs
[j];

1314 
j
=0; j<
Å¬
; j++) {

1315 ià(
¡mt
->
domaš
->
Çmes
 && stmt->domaš->Çmes[¡mt->
dim
+
j
]) {

1316 
v¬s
[
¡mt
->
dim
+
j
] = stmt->
domaš
->
Çmes
[stmt->dim+j];

1318 
v¬s
[
¡mt
->
dim
+
j
] = "p?";

1321 
	`¶uto_affše_funùiÚ_´št
(
¡dout
, 
acc
->
m©
->
v®
[
i
],

1322 
¡mt
->
dim
+
Å¬
, 
v¬s
);

1323 
	`årštf
(
å
, "]");

1324 
	`ä“
(
v¬s
);

1326 
	`årštf
(
å
, "\n");

1327 
	}
}

1329 
	$¶uto_¡mt_´št
(
FILE
 *
å
, cÚ¡ 
Stmt
 *
¡mt
)

1331 
i
;

1333 
	`årštf
(
å
, "S%d \"%s\"\n",

1334 
¡mt
->
id
+1, stmt->
‹xt
);

1335 
	`årštf
(
å
, "ndims: %d; orig_depth: %d\n",

1336 
¡mt
->
dim
, stmt->
dim_Üig
);

1337 
	`årštf
(
å
, "Index set\n");

1338 
	`¶uto_cÚ¡¿šts_com·ù_´št
(
å
, 
¡mt
->
domaš
);

1339 
	`¶uto_¡mt_ŒªsfÜm©iÚ_´št
(
¡mt
);

1341 ià(
¡mt
->
Ä—ds
==0) {

1342 
	`årštf
(
å
, "No Read‡ccesses\n");

1344 
	`årštf
(
å
, "Read‡ccesses\n");

1345 
i
=0; i<
¡mt
->
Ä—ds
; i++) {

1346 
	`¶uto_acûss_´št
(
å
, 
¡mt
->
»ads
[
i
], stmt);

1350 ià(
¡mt
->
nwr™es
==0) {

1351 
	`årštf
(
å
, "No write‡ccess\n");

1353 
	`årštf
(
å
, "Write‡ccesses\n");

1354 
i
=0; i<
¡mt
->
nwr™es
; i++) {

1355 
	`¶uto_acûss_´št
(
å
, 
¡mt
->
wr™es
[
i
], stmt);

1359 
i
=0; i<
¡mt
->
dim
; i++) {

1360 
	`´štf
("Origš®†oİ: %d -> %s\n", 
i
, 
¡mt
->
is_Üig_loİ
[i]?"yes":"no");

1363 
	`årštf
(
å
, "\n");

1364 
	}
}

1383 
št64
 *
	$¶uto_check_su³ºode
(cÚ¡ 
Stmt
 *
¡mt
, 
pos
,

1384 *
te_size
)

1386 
lb_pos
, 
ub_pos
, 
r
, 
c
;

1387 
št64
 *
te_hyp
;

1389 
PlutoCÚ¡¿šts
 *
dom
;

1391 
dom
 = 
¡mt
->
domaš
;

1393 
lb_pos
 = -1;

1394 
ub_pos
 = -1;

1395 *
te_size
 = -1;

1397 
r
=0;„<
dom
->
Äows
;„++) {

1398 ià(
dom
->
v®
[
r
][
pos
] >= 1 &&

1399 
dom
->
v®
[
r
][dom->
ncŞs
-1] =ğdom->v®[r][
pos
]-1) {

1400 
ub_pos
 = 
r
;

1401 *
te_size
 = 
dom
->
v®
[
r
][
pos
];

1404 ià(
dom
->
v®
[
r
][
pos
] <= -1 &&

1405 
dom
->
v®
[
r
][dom->
ncŞs
-1] == 0) {

1406 
lb_pos
 = 
r
;

1410 ià(
ub_pos
 =ğ-1 || 
lb_pos
 =ğ-1è 
NULL
;

1412 
c
=0; c<
dom
->
ncŞs
-1; c++) {

1413 ià(
dom
->
v®
[
ub_pos
][
c
] !ğ-dom->v®[
lb_pos
][c]) ;

1415 ià(
c
<
dom
->
ncŞs
-1è 
NULL
;

1417 
te_hyp
 = 
	`m®loc
(
dom
->
ncŞs
*(
št64
));

1419 
c
=0; c<
dom
->
ncŞs
; c++) {

1420 ià(
c
 =ğ
pos
è
te_hyp
[c] = 0;

1421 
te_hyp
[
c
] = 
dom
->
v®
[
lb_pos
][c];

1424  
te_hyp
;

1425 
	}
}

1428 
	$is_skewed
(
št64
 *
func
, 
Ën
)

1430 
couÁ
, 
i
;

1432 
couÁ
 = 0;

1434 
i
=0; i<
Ën
; i++) {

1435 ià(
func
[
i
] !ğ0è
couÁ
++;

1438  
couÁ
 <= 1? 0: 1 ;

1439 
	}
}

1445 
	$¶uto_¡mt_´št_hy³½ÏÃ
(
FILE
 *
å
, cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
)

1447 
Å¬
, 
j
;

1449 
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

1451 **
v¬s
 = 
	`m®loc
((
¡mt
->
dim
 + 
Å¬
)*(*));

1453 
j
=0; j<
¡mt
->
dim
; j++) {

1454 
v¬s
[
j
] = 
	`¡rdup
(
¡mt
->
™”©Üs
[j]);

1456 
j
=0; j<
Å¬
; j++) {

1457 ià(
¡mt
->
domaš
->
Çmes
 && stmt->domaš->Çmes[¡mt->
dim
+
j
]) {

1458 
v¬s
[
¡mt
->
dim
+
j
] = stmt->
domaš
->
Çmes
[stmt->dim+j];

1460 
v¬s
[
¡mt
->
dim
+
j
] = "p?";

1464 
j
=0; j<
¡mt
->
dim
; j++) {

1468 
div
;

1469 
št64
 *
su³r_func
;

1470 
su³r_func
 = 
	`¶uto_check_su³ºode
(
¡mt
, 
j
, &
div
);

1471 ià(
su³r_func
) {

1472 *
tmp
;

1473 
tmp
 = 
	`¶uto_affše_funùiÚ_¥ršt
(
su³r_func
, 
¡mt
->
dim
+
Å¬
, 
v¬s
);

1474 
	`ä“
(
v¬s
[
j
]);

1475 
v¬s
[
j
] = 
tmp
;

1476 ià(
	`is_skewed
(
su³r_func
, 
¡mt
->
domaš
->
ncŞs
)) {

1477 
v¬s
[
j
] = 
	`»®loc
(v¬s[j], 1 + 
	`¡¾’
(v¬s[j]è+ 2 + 
	`log10
(
div
) + 1 + 1);

1478 
	`¥rštf
(
v¬s
[
j
], "(%s", 
tmp
 = 
	`¡rdup
(vars[j]));

1479 
	`ä“
(
tmp
);

1480 
	`¥rštf
(
v¬s
[
j
]+
	`¡¾’
(v¬s[j]), ")/%d", 
div
);

1482 
v¬s
[
j
] = 
	`»®loc
(v¬s[j], 
	`¡¾’
(v¬s[j]è+ 1 + 
	`log10
(
div
) + 1 + 1);

1483 
	`¥rštf
(
v¬s
[
j
]+
	`¡¾’
(v¬s[j]), "/%d", 
div
);

1485 
	`ä“
(
su³r_func
);

1489 
	`¶uto_affše_funùiÚ_´št
(
å
, 
¡mt
->
Œªs
->
v®
[
Ëv–
],

1490 
¡mt
->
dim
+
Å¬
, 
v¬s
);

1492 
j
=0; j<
¡mt
->
dim
; j++) {

1493 
	`ä“
(
v¬s
[
j
]);

1496 
	`ä“
(
v¬s
);

1497 
	}
}

1500 
	$¶uto_¡mts_´št
(
FILE
 *
å
, 
Stmt
 **
¡mts
, 
n¡mts
)

1502 
i
;

1504 
i
=0; i<
n¡mts
; i++) {

1505 
	`¶uto_¡mt_´št
(
å
, 
¡mts
[
i
]);

1507 
	}
}

1510 
	$¶uto_´og_´št
(
FILE
 *
å
, 
PlutoProg
 *
´og
)

1512 
i
;

1514 
	`årštf
(
å
, "nv¬ = %d,‚·¸ğ%d\n", 
´og
->
nv¬
,…rog->
Å¬
);

1515 
	`årštf
(
å
, "Parameters: ");

1517 
i
=0; i<
´og
->
Å¬
; i++) {

1518 
	`årštf
(
å
, "% ", 
´og
->
·¿ms
[
i
]);

1520 
	`årštf
(
å
, "\n");

1522 
	`¶uto_¡mts_´št
(
å
, 
´og
->
¡mts
,…rog->
n¡mts
);

1523 
	`¶uto_d•s_´št
(
å
, 
´og
);

1524 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

1525 
	}
}

1528 
	$¶uto_d•_ä“
(
D•
 *
d•
)

1530 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
dpŞytİe
);

1531 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
boundšg_pŞy
);

1532 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
d•§t_pŞy
);

1533 ià(
d•
->
dœvec
) {

1534 
	`ä“
(
d•
->
dœvec
);

1536 ià(
d•
->
dœvec
) {

1537 
	`ä“
(
d•
->
§tvec
);

1539 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
c¡
);

1540 
	`¶uto_cÚ¡¿šts_ä“
(
d•
->
boundšg_c¡
);

1541 
	`ä“
(
d•
);

1542 
	}
}

1548 
__i¦_give
 
i¦_¥aû
 *
	$£t_Çmes
(
__i¦_ke
 
i¦_¥aû
 *
¥aû
,

1549 
i¦_dim_ty³
 
ty³
, **
Çmes
)

1551 
i
;

1553 
i
 = 0; i < 
	`i¦_¥aû_dim
(
¥aû
, 
ty³
); ++i)

1554 
¥aû
 = 
	`i¦_¥aû_£t_dim_Çme
(¥aû, 
ty³
, 
i
, 
Çmes
[i]);

1556  
¥aû
;

1557 
	}
}

1564 
__i¦_give
 
i¦_£t
 *
	$o¦_»ÏtiÚ_to_i¦_£t
(
o¦_»ÏtiÚ_p
 
»ÏtiÚ
,

1565 
__i¦_ke
 
i¦_¥aû
 *
¥aû
)

1567 
i
, 
j
;

1568 
n_eq
 = 0, 
n_šeq
 = 0;

1569 
i¦_ùx
 *
ùx
;

1570 
i¦_m©
 *
eq
, *
šeq
;

1571 
i¦_basic_£t
 *
b£t
;

1573 
ùx
 = 
	`i¦_¥aû_g‘_ùx
(
¥aû
);

1575 
i
 = 0; i < 
»ÏtiÚ
->
nb_rows
; ++i)

1576 ià(
	`o¦_št_z”o
(
»ÏtiÚ
->
´ecisiÚ
,„–©iÚ->
m
[
i
][0]))

1577 
n_eq
++;

1579 
n_šeq
++;

1581 
eq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_eq
, 
»ÏtiÚ
->
nb_cŞumns
 - 1);

1582 
šeq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_šeq
, 
»ÏtiÚ
->
nb_cŞumns
 - 1);

1584 
n_eq
 = 
n_šeq
 = 0;

1585 
i
 = 0; i < 
»ÏtiÚ
->
nb_rows
; ++i) {

1586 
i¦_m©
 **
m
;

1587 
row
;

1589 ià(
	`o¦_št_z”o
(
»ÏtiÚ
->
´ecisiÚ
,„–©iÚ->
m
[
i
][0])) {

1590 
m
 = &
eq
;

1591 
row
 = 
n_eq
++;

1593 
m
 = &
šeq
;

1594 
row
 = 
n_šeq
++;

1597 
j
 = 0; j < 
»ÏtiÚ
->
nb_cŞumns
 - 1; ++j) {

1598 
t
 = 
	`o¦_št_g‘_si
(
»ÏtiÚ
->
´ecisiÚ
,„–©iÚ->
m
[
i
][1 + 
j
]);

1599 *
m
 = 
	`i¦_m©_£t_–em’t_si
(*m, 
row
, 
j
, 
t
);

1603 
b£t
 = 
	`i¦_basic_£t_äom_cÚ¡¿št_m©riûs
(
¥aû
, 
eq
, 
šeq
,

1604 
i¦_dim_£t
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

1605  
	`i¦_£t_äom_basic_£t
(
b£t
);

1606 
	}
}

1611 
__i¦_give
 
i¦_£t
 *
	$o¦_»ÏtiÚ_li¡_to_i¦_£t
(

1612 
o¦_»ÏtiÚ_p
 
li¡
, 
__i¦_ke
 
i¦_¥aû
 *
¥aû
)

1614 
i¦_£t
 *
£t
;

1616 
£t
 = 
	`i¦_£t_em±y
(
	`i¦_¥aû_cİy
(
¥aû
));

1617 ; 
li¡
;†i¡ =†i¡->
Ãxt
) {

1618 
i¦_£t
 *
£t_i
;

1619 
£t_i
 = 
	`o¦_»ÏtiÚ_to_i¦_£t
(
li¡
, 
	`i¦_¥aû_cİy
(
¥aû
));

1620 
£t
 = 
	`i¦_£t_uniÚ
(£t, 
£t_i
);

1623 
	`i¦_¥aû_ä“
(
¥aû
);

1624  
£t
;

1625 
	}
}

1630 
__i¦_give
 
i¦_m©
 *
	$exŒaù_equ®™›s_o¦
(
i¦_ùx
 *
ùx
,

1631 
o¦_»ÏtiÚ_p
 
»ÏtiÚ
)

1633 
i
, 
j
;

1634 
n_cŞ
, 
n_row
;

1635 
i¦_št
 
v
;

1636 
i¦_m©
 *
eq
;

1638 
n_cŞ
 = 
»ÏtiÚ
->
nb_cŞumns
;

1639 
n_row
 = 
»ÏtiÚ
->
nb_rows
;

1641 
	`i¦_št_š™
(
v
);

1642 
eq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_row
, 
n_cŞ
 - 1);

1644 
i
 = 0; i < 
n_row
; ++i) {

1645 
j
 = 0; j < 
n_cŞ
 - 1; ++j) {

1646 
row
 = 
	`o¦_»ÏtiÚ_g‘_row_id_fÜ_Áh_dim’siÚ
(
»ÏtiÚ
, 
i
+1);

1647 
t
 = 
	`o¦_št_g‘_si
(
»ÏtiÚ
->
´ecisiÚ
,„–©iÚ->
m
[
row
][1 + 
j
]);

1648 
	`i¦_št_£t_si
(
v
, 
t
);

1649 
eq
 = 
	`i¦_m©_£t_–em’t
Óq, 
i
, 
j
, 
v
);

1653 
	`i¦_št_ş—r
(
v
);

1655  
eq
;

1656 
	}
}

1663 
__i¦_give
 
i¦_m©
 *
	$exŒaù_equ®™›s_o¦_acûss
(
i¦_ùx
 *
ùx
,

1664 
o¦_»ÏtiÚ_p
 
»ÏtiÚ
)

1666 
i
, 
j
;

1667 
n_cŞ
, 
n_row
;

1668 
i¦_št
 
v
;

1669 
i¦_m©
 *
eq
;

1671 
n_row
 = 
»ÏtiÚ
->
nb_rows
==1?1:relation->nb_rows-1;

1672 
n_cŞ
 = 
»ÏtiÚ
->
nb_cŞumns
 - (»ÏtiÚ->
nb_rows
==1?1:2);

1674 
	`i¦_št_š™
(
v
);

1675 
eq
 = 
	`i¦_m©_®loc
(
ùx
, 
n_row
, 
n_cŞ
);

1677 if(
»ÏtiÚ
->
nb_rows
==1){

1678 
	`i¦_št_£t_si
(
v
, -1);

1679 
eq
 = 
	`i¦_m©_£t_–em’t
Óq, 0, 0, 
v
);

1680 
j
 = 1; j < 
n_cŞ
; ++j) {

1681 
	`i¦_št_£t_si
(
v
, 0);

1682 
eq
 = 
	`i¦_m©_£t_–em’t
Óq, 0, 
j
, 
v
);

1686 
i
 = 1; i < 
»ÏtiÚ
->
nb_rows
; ++i) {

1687 
j
 = 2; j < 
»ÏtiÚ
->
nb_cŞumns
; ++j) {

1688 
row
 = 
	`o¦_»ÏtiÚ_g‘_row_id_fÜ_Áh_dim’siÚ
(
»ÏtiÚ
, 
i
+1);

1689 
t
 = 
	`o¦_št_g‘_si
(
»ÏtiÚ
->
´ecisiÚ
,„–©iÚ->
m
[
row
][
j
]);

1690 
	`i¦_št_£t_si
(
v
, 
t
);

1691 
eq
 = 
	`i¦_m©_£t_–em’t
Óq, 
i
-1, 
j
-2, 
v
);

1696 
	`i¦_št_ş—r
(
v
);

1698  
eq
;

1699 
	}
}

1705 
__i¦_give
 
i¦_m­
 *
	$o¦_sÿ‰”šg_to_i¦_m­
(

1706 
o¦_»ÏtiÚ_p
 
sÿ‰”šg
, 
__i¦_ke
 
i¦_¥aû
 *
dim
)

1708 
n_cŞ
;

1709 
i¦_ùx
 *
ùx
;

1710 
i¦_m©
 *
eq
, *
šeq
;

1711 
i¦_basic_m­
 *
bm­
;

1713 
ùx
 = 
	`i¦_¥aû_g‘_ùx
(
dim
);

1714 
n_cŞ
 = 
sÿ‰”šg
->
nb_cŞumns
;

1716 
šeq
 = 
	`i¦_m©_®loc
(
ùx
, 0, 
n_cŞ
 - 1);

1717 
eq
 = 
	`exŒaù_equ®™›s_o¦
(
ùx
, 
sÿ‰”šg
);

1719 
bm­
 = 
	`i¦_basic_m­_äom_cÚ¡¿št_m©riûs
(
dim
, 
eq
, 
šeq
,

1720 
i¦_dim_out
, 
i¦_dim_š
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

1722  
	`i¦_m­_äom_basic_m­
(
bm­
);

1723 
	}
}

1738 
__i¦_give
 
i¦_uniÚ_m­
 *
	$o¦_acûss_li¡_to_i¦_uniÚ_m­
(

1739 
o¦_»ÏtiÚ_li¡_p
 
li¡
, 
__i¦_ke
 
i¦_£t
 *
dom
, **
¬¿ys
)

1741 
Ën
, 
n_cŞ
;

1742 
i¦_ùx
 *
ùx
;

1743 
i¦_¥aû
 *
dim
;

1744 
i¦_m©
 *
eq
, *
šeq
;

1745 
i¦_uniÚ_m­
 *
»s
;

1747 
ùx
 = 
	`i¦_£t_g‘_ùx
(
dom
);

1749 
dim
 = 
	`i¦_£t_g‘_¥aû
(
dom
);

1750 
dim
 = 
	`i¦_¥aû_drİ_dims
(dim, 
i¦_dim_£t
, 0, 
	`i¦_¥aû_dim
(dim, isl_dim_set));

1751 
»s
 = 
	`i¦_uniÚ_m­_em±y
(
dim
);

1753  ; 
li¡
;†i¡ =†i¡->
Ãxt
) {

1755 
n_cŞ
 = 
li¡
->
–t
->
nb_cŞumns
 - (li¡->–t->
nb_rows
==1?1:2);

1756 
Ën
 = 
li¡
->
–t
->
nb_rows
==1?1:list->elt->nb_rows-1;

1758 
i¦_basic_m­
 *
bm­
;

1759 
i¦_m­
 *
m­
;

1760 
¬r
 = 
	`o¦_»ÏtiÚ_g‘_¬¿y_id
(
li¡
->
–t
) - 1;

1762 
dim
 = 
	`i¦_£t_g‘_¥aû
(
dom
);

1763 
dim
 = 
	`i¦_¥aû_äom_domaš
(dim);

1764 
dim
 = 
	`i¦_¥aû_add_dims
(dim, 
i¦_dim_out
, 
Ën
);

1765 
dim
 = 
	`i¦_¥aû_£t_tu¶e_Çme
(dim, 
i¦_dim_out
, 
¬¿ys
[
¬r
]);

1767 
šeq
 = 
	`i¦_m©_®loc
(
ùx
, 0, 
n_cŞ
);

1768 
eq
 = 
	`exŒaù_equ®™›s_o¦_acûss
(
ùx
, 
li¡
->
–t
);

1770 
bm­
 = 
	`i¦_basic_m­_äom_cÚ¡¿št_m©riûs
(
dim
, 
eq
, 
šeq
,

1771 
i¦_dim_out
, 
i¦_dim_š
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

1772 
m­
 = 
	`i¦_m­_äom_basic_m­
(
bm­
);

1773 
m­
 = 
	`i¦_m­_š‹r£ù_domaš
(m­, 
	`i¦_£t_cİy
(
dom
));

1774 
»s
 = 
	`i¦_uniÚ_m­_uniÚ
Ôes, 
	`i¦_uniÚ_m­_äom_m­
(
m­
));

1777 
	`i¦_£t_ä“
(
dom
);

1779  
»s
;

1780 
	}
}

1786 
__i¦_give
 
i¦_m­
 *
	$o¦_basic_acûss_to_i¦_uniÚ_m­
(

1787 
o¦_»ÏtiÚ_p
 
acûss
, 
__i¦_ke
 
i¦_£t
 *
dom
,

1788 **
¬¿ys
)

1790 
Ën
, 
n_cŞ
;

1791 
i¦_ùx
 *
ùx
;

1792 
i¦_¥aû
 *
dim
;

1793 
i¦_m©
 *
eq
, *
šeq
;

1795 
ùx
 = 
	`i¦_£t_g‘_ùx
(
dom
);

1797 
n_cŞ
 = 
acûss
->
nb_cŞumns
 - (acûss->
nb_rows
==1?1:2);

1798 
Ën
 = 
acûss
->
nb_rows
==1?1:access->nb_rows-1;

1801 
i¦_basic_m­
 *
bm­
;

1802 
i¦_m­
 *
m­
;

1803 
¬r
 = 
	`o¦_»ÏtiÚ_g‘_¬¿y_id
(
acûss
) - 1;

1805 
dim
 = 
	`i¦_£t_g‘_¥aû
(
dom
);

1806 
dim
 = 
	`i¦_¥aû_äom_domaš
(dim);

1807 
dim
 = 
	`i¦_¥aû_add_dims
(dim, 
i¦_dim_out
, 
Ën
);

1808 
dim
 = 
	`i¦_¥aû_£t_tu¶e_Çme
(dim, 
i¦_dim_out
, 
¬¿ys
[
¬r
]);

1810 
šeq
 = 
	`i¦_m©_®loc
(
ùx
, 0, 
n_cŞ
);

1811 
eq
 = 
	`exŒaù_equ®™›s_o¦_acûss
(
ùx
, 
acûss
);

1813 
bm­
 = 
	`i¦_basic_m­_äom_cÚ¡¿št_m©riûs
(
dim
, 
eq
, 
šeq
,

1814 
i¦_dim_out
, 
i¦_dim_š
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

1815 
m­
 = 
	`i¦_m­_äom_basic_m­
(
bm­
);

1816 
m­
 = 
	`i¦_m­_š‹r£ù_domaš
(m­, 
dom
);

1818  
m­
;

1819 
	}
}

1828 
__i¦_give
 
i¦_m­
 *
	$¶uto_basic_acûss_to_i¦_uniÚ_m­
(

1829 
PlutoM©rix
 *
m©
, * 
acûss_Çme
, 
__i¦_ke
 
i¦_£t
 *
dom
)

1831 
Ën
, 
n_cŞ
;

1832 
i¦_ùx
 *
ùx
;

1833 
i¦_¥aû
 *
dim
;

1834 
i¦_m©
 *
eq
, *
šeq
;

1836 
ùx
 = 
	`i¦_£t_g‘_ùx
(
dom
);

1838 
dim
 = 
	`i¦_£t_g‘_¥aû
(
dom
);

1839 
dim
 = 
	`i¦_¥aû_drİ_dims
(dim, 
i¦_dim_£t
, 0, 
	`i¦_¥aû_dim
(dim, isl_dim_set));

1841 
n_cŞ
 = 
m©
->
ncŞs
;

1843 
i¦_basic_m­
 *
bm­
;

1844 
i¦_m­
 *
m­
;

1847 
Ën
 = 
m©
->
Äows
;

1849 
dim
 = 
	`i¦_£t_g‘_¥aû
(
dom
);

1850 
dim
 = 
	`i¦_¥aû_äom_domaš
(dim);

1851 
dim
 = 
	`i¦_¥aû_add_dims
(dim, 
i¦_dim_out
, 
Ën
);

1852 
dim
 = 
	`i¦_¥aû_£t_tu¶e_Çme
(dim, 
i¦_dim_out
, 
acûss_Çme
);

1854 
šeq
 = 
	`i¦_m©_®loc
(
ùx
, 0, 
Ën
 + 
n_cŞ
);

1855 
eq
 = 
	`¶uto_exŒaù_equ®™›s
(
ùx
, 
m©
);

1857 
bm­
 = 
	`i¦_basic_m­_äom_cÚ¡¿št_m©riûs
(
dim
, 
eq
, 
šeq
,

1858 
i¦_dim_out
, 
i¦_dim_š
, 
i¦_dim_div
, 
i¦_dim_·¿m
, 
i¦_dim_c¡
);

1859 
m­
 = 
	`i¦_m­_äom_basic_m­
(
bm­
);

1860 
m­
 = 
	`i¦_m­_š‹r£ù_domaš
(m­, 
dom
);

1862  
m­
;

1863 
	}
}

1876 
	s¶uto_exŒa_d•_šfo
 {

1877 
D•
 **
	md•s
;

1878 
Stmt
 **
	m¡mts
;

1879 
	mty³
;

1880 
	mšdex
;

1893 
	$basic_m­_exŒaù_d•
(
__i¦_ke
 
i¦_basic_m­
 *
bm­
, *
u£r
)

1895 
j
;

1896 
Stmt
 **
¡mts
;

1897 
D•
 *
d•
;

1898 
¶uto_exŒa_d•_šfo
 *
šfo
;

1900 
šfo
 = (
¶uto_exŒa_d•_šfo
 *)
u£r
;

1902 
¡mts
 = 
šfo
->stmts;

1904 
bm­
 = 
	`i¦_basic_m­_»move_divs
(bmap);

1906 
d•
 = 
šfo
->
d•s
[šfo->
šdex
];

1908 
d•
->
id
 = 
šfo
->
šdex
;

1910 
d•
->
dœvec
 = 
NULL
;

1911 
d•
->
ty³
 = 
šfo
->type;

1912 
d•
->
¤c
 = 
	`©oi
(
	`i¦_basic_m­_g‘_tu¶e_Çme
(
bm­
, 
i¦_dim_š
) + 2);

1915 
i¦_¥aû
 *
¥aû
 = 
	`i¦_basic_m­_g‘_¥aû
(
bm­
);

1916 ià(
	`i¦_¥aû_¿nge_is_w¿µšg
(
¥aû
)) {

1917 
bm­
 = 
	`i¦_basic_m­_¿nge_çùÜ_domaš
(
	`i¦_basic_m­_cİy
(bmap));

1918 
	`i¦_¥aû_ä“
(
¥aû
);

1919 
¥aû
 = 
	`i¦_basic_m­_g‘_¥aû
(
bm­
);

1921 
d•
->
de¡
 = 
	`©oi
(
	`i¦_¥aû_g‘_tu¶e_Çme
(
¥aû
, 
i¦_dim_out
) + 2);

1922 
d•
->
dpŞytİe
 = 
	`i¦_basic_m­_to_¶uto_cÚ¡¿šts
(
bm­
);

1923 
d•
->
boundšg_pŞy
 = 
	`¶uto_cÚ¡¿šts_dup
(d•->
dpŞytİe
);

1924 
	`i¦_¥aû_ä“
(
¥aû
);

1927 
	`as£¹
(
d•
->
dpŞytİe
->
ncŞs
 =ğ
¡mts
[d•->
¤c
]->
dim
 + stmts[d•->
de¡
]->dim

1928 + 
¡mts
[
d•
->
¤c
]->
domaš
->
ncŞs
 - stmts[d•->¤c]->
dim
);

1930 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
d•
->
dpŞytİe
,

1931 
¡mts
[
d•
->
¤c
]->
™”©Üs
, 0, 0, stmts[d•->¤c]->
dim
);

1934 **
dÇmes
 = 
	`m®loc
(
¡mts
[
d•
->
de¡
]->
dim
*(*));

1935 
j
=0; j<
¡mts
[
d•
->
de¡
]->
dim
; j++) {

1936 
dÇmes
[
j
] = 
	`m®loc
(
	`¡¾’
(
¡mts
[
d•
->
de¡
]->
™”©Üs
[j])+2);

1937 
	`¡rıy
(
dÇmes
[
j
], 
¡mts
[
d•
->
de¡
]->
™”©Üs
[j]);

1938 
	`¡rÿt
(
dÇmes
[
j
], "'");

1940 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
d•
->
dpŞytİe
,

1941 
dÇmes
, 
¡mts
[
d•
->
¤c
]->
dim
, 0, stmts[d•->
de¡
]->dim);

1942 
j
=0; j<
¡mts
[
d•
->
de¡
]->
dim
; j++) {

1943 
	`ä“
(
dÇmes
[
j
]);

1945 
	`ä“
(
dÇmes
);

1948 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
d•
->
dpŞytİe
,

1949 
¡mts
[
d•
->
de¡
]->
domaš
->
Çmes
,

1950 
¡mts
[
d•
->
¤c
]->
dim
 + stmts[d•->
de¡
]->dim,

1951 
¡mts
[
d•
->
de¡
]->
dim
,

1952 
¡mts
[
d•
->
de¡
]->
domaš
->
ncŞs
-¡mts[d•->de¡]->
dim
-1);

1958 ià(
İtiÚs
->
i¦d•acûsswi£
 &&

1959 (
¡mts
[
d•
->
¤c
]->
»ads
 !ğ
NULL
 && stmts[d•->
de¡
]->reads != NULL)) {

1961 
¤c_acc_num
, 
de¡_acc_num
;

1962 
¤c_ty³
, 
de¡_ty³
;

1963 cÚ¡ *
Çme
;

1964 
Çme
 = 
	`i¦_basic_m­_g‘_tu¶e_Çme
(
bm­
, 
i¦_dim_š
) + 2;

1965 *
Çme
 != '\0' && *(name++) != '_');

1966 ià(*
Çme
 != '\0'){

1967 
¤c_ty³
 = *
Çme
;

1968 
¤c_acc_num
 = 
	`©oi
(
Çme
+1);

1969 }
	`as£¹
(0);

1971 
Çme
 = 
	`i¦_basic_m­_g‘_tu¶e_Çme
(
bm­
, 
i¦_dim_out
) + 2;

1972 *
Çme
 != '\0' && *(name++) != '_');

1973 ià(*
Çme
 != '\0') {

1974 
de¡_ty³
 = *
Çme
;

1975 
de¡_acc_num
 = 
	`©oi
(
Çme
+1);

1976 }
	`as£¹
(0);

1978 
šfo
->
ty³
) {

1979 
OSL_DEPENDENCE_RAW
:

1980 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
wr™es
[
¤c_acc_num
];

1981 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
»ads
[
de¡_acc_num
];

1983 
OSL_DEPENDENCE_WAW
:

1984 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
wr™es
[
¤c_acc_num
];

1985 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
wr™es
[
de¡_acc_num
];

1992 
OSL_DEPENDENCE_WAR
:

1993 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
wr™es
[
de¡_acc_num
];

1994 ià(
¤c_ty³
 =ğ'w' && 
de¡_ty³
 == 'w') {

1996 
d•
->
ty³
 = 
OSL_DEPENDENCE_WAW
;

1998 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
wr™es
[
¤c_acc_num
];

2000 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
»ads
[
¤c_acc_num
];

2003 
OSL_DEPENDENCE_RAR
:

2004 
d•
->
¤c_acc
 = 
¡mts
[d•->
¤c
]->
»ads
[
¤c_acc_num
];

2005 
d•
->
de¡_acc
 = 
¡mts
[d•->
de¡
]->
»ads
[
de¡_acc_num
];

2008 
	`as£¹
(0);

2011 
d•
->
¤c_acc
 = 
NULL
;

2012 
d•
->
de¡_acc
 = 
NULL
;

2015 
šfo
->
šdex
++;

2016 
	`i¦_basic_m­_ä“
(
bm­
);

2018 
	}
}

2021 
	$m­_exŒaù_d•
(
__i¦_ke
 
i¦_m­
 *
m­
, *
u£r
)

2023 
r
;

2025 
r
 = 
	`i¦_m­_fÜ—ch_basic_m­
(
m­
, &
basic_m­_exŒaù_d•
, 
u£r
);

2026 
	`i¦_m­_ä“
(
m­
);

2027  
r
;

2028 
	}
}

2032 
	$exŒaù_d•s
(
D•
 **
d•s
, 
fœ¡
, 
Stmt
 **
¡mts
,

2033 
__i¦_k“p
 
i¦_uniÚ_m­
 *
um­
, 
ty³
)

2035 
¶uto_exŒa_d•_šfo
 
šfo
 = {
d•s
, 
¡mts
, 
ty³
, 
fœ¡
};

2037 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
um­
, &
m­_exŒaù_d•
, &
šfo
);

2039  
šfo
.
šdex
 - 
fœ¡
;

2040 
	}
}

2043 
o¦_Çmes_p
 
	$g‘_scİ_Çmes
(
o¦_scİ_p
 
scİ
){

2046 
o¦_Çmes_p
 
Çmes
 = 
	`o¦_scİ_Çmes
(
scİ
);

2049 if(
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
){

2050 
	`o¦_¡ršgs_ä“
(
Çmes
->
·¿m‘”s
);

2051 
Çmes
->
·¿m‘”s
 = 
	`o¦_¡ršgs_şÚe
((
o¦_¡ršgs_p
)
scİ
->·¿m‘”s->
d©a
);

2054 
o¦_¬¿ys_p
 
¬¿ys
 = 
	`o¦_g’”ic_lookup
(
scİ
->
ex‹nsiÚ
, 
OSL_URI_ARRAYS
);

2055 if(
¬¿ys
){

2056 
	`o¦_¡ršgs_ä“
(
Çmes
->
¬¿ys
);

2057 
Çmes
->
¬¿ys
 = 
	`o¦_¬¿ys_to_¡ršgs
(arrays);

2060  
Çmes
;

2061 
	}
}

2081 
	$compu‹_d•s
(
o¦_scİ_p
 
scİ
, 
PlutoProg
 *
´og
,

2082 
PlutoO±iÚs
 *
İtiÚs
)

2084 
i
, 
¿cc_num
, 
wacc_num
;

2085 
n¡mts
 = 
	`o¦_¡©em’t_numb”
(
scİ
->
¡©em’t
);

2086 
i¦_ùx
 *
ùx
;

2087 
i¦_¥aû
 *
dim
;

2088 
i¦_¥aû
 *
·¿m_¥aû
;

2089 
i¦_£t
 *
cÚ‹xt
;

2090 
i¦_uniÚ_m­
 *
em±y
;

2091 
i¦_uniÚ_m­
 *
wr™e
;

2092 
i¦_uniÚ_m­
 *
»ad
;

2093 
i¦_uniÚ_m­
 *
scheduË
;

2094 
i¦_uniÚ_m­
 *
d•_¿w
, *
d•_w¬
, *
d•_waw
, *
d•_¿r
, *
Œªs_d•_w¬
;

2095 
i¦_uniÚ_m­
 *
Œªs_d•_waw
;

2096 
o¦_¡©em’t_p
 
¡mt
;

2097 
o¦_¡ršgs_p
 
scİ_·¿ms
 = 
NULL
;

2099 ià(!
İtiÚs
->
s’t
) {

2100 
	`´štf
("[¶uto] compu‹_d• (i¦%s)\n", 
İtiÚs
->
Ï¡wr™”
? " with†astwriter":"");

2103 
ùx
 = 
	`i¦_ùx_®loc
();

2104 
	`as£¹
(
ùx
);

2106 
o¦_Çmes_p
 
Çmes
 = 
	`g‘_scİ_Çmes
(
scİ
);

2108 
dim
 = 
	`i¦_¥aû_£t_®loc
(
ùx
, 
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
, 0);

2109 ià(
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
){

2110 
scİ_·¿ms
 = (
o¦_¡ršgs_p
)
scİ
->
·¿m‘”s
->
d©a
;

2111 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_·¿m
, 
scİ_·¿ms
->
¡ršg
);

2113 
·¿m_¥aû
 = 
	`i¦_¥aû_·¿ms
(
	`i¦_¥aû_cİy
(
dim
));

2114 
cÚ‹xt
 = 
	`o¦_»ÏtiÚ_to_i¦_£t
(
scİ
->cÚ‹xt, 
·¿m_¥aû
);

2116 ià(!
İtiÚs
->
¿r
è
d•_¿r
 = 
	`i¦_uniÚ_m­_em±y
(
	`i¦_¥aû_cİy
(
dim
));

2117 
em±y
 = 
	`i¦_uniÚ_m­_em±y
(
	`i¦_¥aû_cİy
(
dim
));

2118 
wr™e
 = 
	`i¦_uniÚ_m­_em±y
(
	`i¦_¥aû_cİy
(
dim
));

2119 
»ad
 = 
	`i¦_uniÚ_m­_em±y
(
	`i¦_¥aû_cİy
(
dim
));

2120 
scheduË
 = 
	`i¦_uniÚ_m­_em±y
(
dim
);

2122 ià(!
İtiÚs
->
i¦d•acûsswi£
) {

2130 
i
 = 0, 
¡mt
 = 
scİ
->
¡©em’t
; i < 
n¡mts
; ++i, stmˆğ¡mt->
Ãxt
) {

2131 
i¦_£t
 *
dom
;

2132 
i¦_m­
 *
scheduË_i
;

2133 
i¦_uniÚ_m­
 *
»ad_i
;

2134 
i¦_uniÚ_m­
 *
wr™e_i
;

2135 
Çme
[20];

2137 
	`¢´štf
(
Çme
, Òame), "S_%d", 
i
);

2139 
n™”
 = 
	`o¦_¡©em’t_g‘_nb_™”©Üs
(
¡mt
);

2140 
dim
 = 
	`i¦_¥aû_£t_®loc
(
ùx
, 
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
, 
n™”
);

2141 if(
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
){

2142 
scİ_·¿ms
 = (
o¦_¡ršgs_p
)
scİ
->
·¿m‘”s
->
d©a
;

2143 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_·¿m
, 
scİ_·¿ms
->
¡ršg
);

2145 if(
n™”
){

2146 
o¦_body_p
 
¡mt_body
 = 
	`o¦_g’”ic_lookup
(
¡mt
->
ex‹nsiÚ
, 
OSL_URI_BODY
);

2147 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_£t
, 
¡mt_body
->
™”©Üs
->
¡ršg
);

2149 
dim
 = 
	`i¦_¥aû_£t_tu¶e_Çme
(dim, 
i¦_dim_£t
, 
Çme
);

2150 
dom
 = 
	`o¦_»ÏtiÚ_li¡_to_i¦_£t
(
¡mt
->
domaš
, 
dim
);

2151 
dom
 = 
	`i¦_£t_š‹r£ù_·¿ms
(dom, 
	`i¦_£t_cİy
(
cÚ‹xt
));

2153 
dim
 = 
	`i¦_¥aû_®loc
(
ùx
, 
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
, 
n™”
,

2154 2 * 
n™”
 + 1);

2155 if(
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
){

2156 
scİ_·¿ms
 = (
o¦_¡ršgs_p
)
scİ
->
·¿m‘”s
->
d©a
;

2157 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_·¿m
, 
scİ_·¿ms
->
¡ršg
);

2159 if(
n™”
){

2160 
o¦_body_p
 
¡mt_body
 = 
	`o¦_g’”ic_lookup
(
¡mt
->
ex‹nsiÚ
, 
OSL_URI_BODY
);

2161 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_š
, 
¡mt_body
->
™”©Üs
->
¡ršg
);

2163 
dim
 = 
	`i¦_¥aû_£t_tu¶e_Çme
(dim, 
i¦_dim_š
, 
Çme
);

2164 
scheduË_i
 = 
	`o¦_sÿ‰”šg_to_i¦_m­
(
¡mt
->
sÿ‰”šg
, 
dim
);

2166 
o¦_»ÏtiÚ_li¡_p
 
¾i¡
 = 
	`o¦_acûss_li¡_f‹r_»ad
(
¡mt
->
acûss
);

2167 
o¦_»ÏtiÚ_li¡_p
 
wli¡
 = 
	`o¦_acûss_li¡_f‹r_wr™e
(
¡mt
->
acûss
);

2169 
o¦_¬¿ys_p
 
¬¿ys
 = 
	`o¦_g’”ic_lookup
(
scİ
->
ex‹nsiÚ
, 
OSL_URI_ARRAYS
);

2170 if(
¬¿ys
){

2171 
	`o¦_¡ršgs_ä“
(
Çmes
->
¬¿ys
);

2172 
Çmes
->
¬¿ys
 = 
	`o¦_¬¿ys_to_¡ršgs
(arrays);

2175 
»ad_i
 = 
	`o¦_acûss_li¡_to_i¦_uniÚ_m­
(
¾i¡
, 
	`i¦_£t_cİy
(
dom
),

2176 
Çmes
->
¬¿ys
->
¡ršg
);

2177 
wr™e_i
 = 
	`o¦_acûss_li¡_to_i¦_uniÚ_m­
(
wli¡
, 
	`i¦_£t_cİy
(
dom
),

2178 
Çmes
->
¬¿ys
->
¡ršg
);

2180 
»ad
 = 
	`i¦_uniÚ_m­_uniÚ
Ô—d, 
»ad_i
);

2181 
wr™e
 = 
	`i¦_uniÚ_m­_uniÚ
(wr™e, 
wr™e_i
);

2182 
scheduË
 = 
	`i¦_uniÚ_m­_uniÚ
(schedule,

2183 
	`i¦_uniÚ_m­_äom_m­
(
scheduË_i
));

2185 
	`o¦_»ÏtiÚ_li¡_ä“
(
¾i¡
);

2186 
	`o¦_»ÏtiÚ_li¡_ä“
(
wli¡
);

2194 
i
 = 0, 
¡mt
 = 
scİ
->
¡©em’t
; i < 
n¡mts
; ++i, stmˆğ¡mt->
Ãxt
) {

2195 
i¦_£t
 *
dom
;

2197 
¿cc_num
 = 0;

2198 
wacc_num
 = 0;

2200 
o¦_»ÏtiÚ_li¡_p
 
acûss
 = 
¡mt
->access;

2201  ; 
acûss
;‡cûs ğacûss->
Ãxt
) {

2202 
i¦_m­
 *
»ad_pos
;

2203 
i¦_m­
 *
wr™e_pos
;

2204 
i¦_m­
 *
scheduË_i
;

2206 
Çme
[20];

2208 ià(
acûss
->
–t
->
ty³
 =ğ
OSL_TYPE_READ
) {

2209 
	`¢´štf
(
Çme
, Òame), "S_%d_r%d", 
i
, 
¿cc_num
);

2211 
	`¢´štf
(
Çme
, Òame), "S_%d_w%d", 
i
, 
wacc_num
);

2214 
n™”
 = 
	`o¦_¡©em’t_g‘_nb_™”©Üs
(
¡mt
);

2215 
dim
 = 
	`i¦_¥aû_£t_®loc
(
ùx
, 
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
, 
n™”
);

2216 if(
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
){

2217 
scİ_·¿ms
 = (
o¦_¡ršgs_p
)
scİ
->
·¿m‘”s
->
d©a
;

2218 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_·¿m
, 
scİ_·¿ms
->
¡ršg
);

2220 
	`o¦_¡ršgs_ä“
(
Çmes
->
·¿m‘”s
);

2221 
Çmes
->
·¿m‘”s
 = 
	`o¦_¡ršgs_şÚe
(
scİ_·¿ms
);

2223 if(
n™”
){

2224 
o¦_body_p
 
¡mt_body
 = 
	`o¦_g’”ic_lookup
(
¡mt
->
ex‹nsiÚ
, 
OSL_URI_BODY
);

2225 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_£t
, 
¡mt_body
->
™”©Üs
->
¡ršg
);

2227 
	`o¦_¡ršgs_ä“
(
Çmes
->
™”©Üs
);

2228 
Çmes
->
™”©Üs
 = 
	`o¦_¡ršgs_şÚe
(
¡mt_body
->iterators);

2230 
dim
 = 
	`i¦_¥aû_£t_tu¶e_Çme
(dim, 
i¦_dim_£t
, 
Çme
);

2231 
dom
 = 
	`o¦_»ÏtiÚ_li¡_to_i¦_£t
(
¡mt
->
domaš
, 
dim
);

2232 
dom
 = 
	`i¦_£t_š‹r£ù_·¿ms
(dom, 
	`i¦_£t_cİy
(
cÚ‹xt
));

2234 
dim
 = 
	`i¦_¥aû_®loc
(
ùx
, 
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
, 
n™”
,

2235 2 * 
n™”
 + 1);

2236 if(
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
){

2237 
scİ_·¿ms
 = (
o¦_¡ršgs_p
)
scİ
->
·¿m‘”s
->
d©a
;

2238 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_·¿m
, 
scİ_·¿ms
->
¡ršg
);

2240 if(
n™”
){

2241 
o¦_body_p
 
¡mt_body
 = 
	`o¦_g’”ic_lookup
(
¡mt
->
ex‹nsiÚ
, 
OSL_URI_BODY
);

2242 
dim
 = 
	`£t_Çmes
(dim, 
i¦_dim_š
, 
¡mt_body
->
™”©Üs
->
¡ršg
);

2244 
dim
 = 
	`i¦_¥aû_£t_tu¶e_Çme
(dim, 
i¦_dim_š
, 
Çme
);

2246 
scheduË_i
 = 
	`o¦_sÿ‰”šg_to_i¦_m­
(
¡mt
->
sÿ‰”šg
, 
dim
);

2248 
o¦_¬¿ys_p
 
¬¿ys
 = 
	`o¦_g’”ic_lookup
(
scİ
->
ex‹nsiÚ
, 
OSL_URI_ARRAYS
);

2249 if(
¬¿ys
){

2250 
	`o¦_¡ršgs_ä“
(
Çmes
->
¬¿ys
);

2251 
Çmes
->
¬¿ys
 = 
	`o¦_¬¿ys_to_¡ršgs
(arrays);

2254 ià(
acûss
->
–t
->
ty³
 =ğ
OSL_TYPE_READ
) {

2255 
»ad_pos
 = 
	`o¦_basic_acûss_to_i¦_uniÚ_m­
(
acûss
->
–t
,

2256 
dom
, 
Çmes
->
¬¿ys
->
¡ršg
);

2257 
»ad
 = 
	`i¦_uniÚ_m­_uniÚ
Ô—d, 
	`i¦_uniÚ_m­_äom_m­
(
»ad_pos
));

2259 
wr™e_pos
 = 
	`o¦_basic_acûss_to_i¦_uniÚ_m­
(
acûss
->
–t
,

2260 
dom
, 
Çmes
->
¬¿ys
->
¡ršg
);

2261 
wr™e
 = 
	`i¦_uniÚ_m­_uniÚ
(wr™e, 
	`i¦_uniÚ_m­_äom_m­
(
wr™e_pos
));

2264 
scheduË
 = 
	`i¦_uniÚ_m­_uniÚ
(schedule,

2265 
	`i¦_uniÚ_m­_äom_m­
(
scheduË_i
));

2267 ià(
acûss
->
–t
->
ty³
 =ğ
OSL_TYPE_READ
) {

2268 
¿cc_num
++;

2270 
wacc_num
++;

2279 ià(
İtiÚs
->
Ï¡wr™”
) {

2281 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
»ad
),

2282 
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2283 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2284 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2285 &
d•_¿w
, 
NULL
, NULL, NULL);

2288 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2289 
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2290 
	`i¦_uniÚ_m­_cİy
(
»ad
),

2291 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2292 &
d•_waw
, &
d•_w¬
, 
NULL
, NULL);

2294 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2295 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2296 
	`i¦_uniÚ_m­_cİy
(
»ad
),

2297 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2298 
NULL
, &
Œªs_d•_w¬
, NULL, NULL);

2299 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2300 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2301 
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2302 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2303 
NULL
, &
Œªs_d•_waw
, NULL, NULL);

2304 ià(
İtiÚs
->
¿r
) {

2306 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
»ad
),

2307 
	`i¦_uniÚ_m­_cİy
(
»ad
),

2308 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2309 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2310 &
d•_¿r
, 
NULL
, NULL, NULL);

2314 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
»ad
),

2315 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2316 
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2317 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2318 
NULL
, &
d•_¿w
, NULL, NULL);

2320 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2321 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2322 
	`i¦_uniÚ_m­_cİy
(
»ad
),

2323 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2324 
NULL
, &
d•_w¬
, NULL, NULL);

2326 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2327 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2328 
	`i¦_uniÚ_m­_cİy
(
wr™e
),

2329 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2330 
NULL
, &
d•_waw
, NULL, NULL);

2331 ià(
İtiÚs
->
¿r
) {

2333 
	`i¦_uniÚ_m­_compu‹_æow
(
	`i¦_uniÚ_m­_cİy
(
»ad
),

2334 
	`i¦_uniÚ_m­_cİy
(
em±y
),

2335 
	`i¦_uniÚ_m­_cİy
(
»ad
),

2336 
	`i¦_uniÚ_m­_cİy
(
scheduË
),

2337 
NULL
, &
d•_¿r
, NULL, NULL);

2341 ià(
İtiÚs
->
i¦d•cßËsû
) {

2342 
d•_¿w
 = 
	`i¦_uniÚ_m­_cßËsû
(dep_raw);

2343 
d•_w¬
 = 
	`i¦_uniÚ_m­_cßËsû
(dep_war);

2344 
d•_waw
 = 
	`i¦_uniÚ_m­_cßËsû
(dep_waw);

2345 
d•_¿r
 = 
	`i¦_uniÚ_m­_cßËsû
(dep_rar);

2348 
´og
->
nd•s
 = 0;

2349 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•_¿w
, &
i¦_m­_couÁ
, &
´og
->
nd•s
);

2350 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•_w¬
, &
i¦_m­_couÁ
, &
´og
->
nd•s
);

2351 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•_waw
, &
i¦_m­_couÁ
, &
´og
->
nd•s
);

2352 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•_¿r
, &
i¦_m­_couÁ
, &
´og
->
nd•s
);

2354 
´og
->
d•s
 = (
D•
 **)
	`m®loc
Õrog->
nd•s
 * (Dep *));

2355 
i
=0; i<
´og
->
nd•s
; i++) {

2356 
´og
->
d•s
[
i
] = 
	`¶uto_d•_®loc
();

2358 
´og
->
nd•s
 = 0;

2359 
´og
->
nd•s
 +ğ
	`exŒaù_d•s
Õrog->
d•s
,…rog->nd•s,…rog->
¡mts
, 
d•_¿w
, 
OSL_DEPENDENCE_RAW
);

2360 
´og
->
nd•s
 +ğ
	`exŒaù_d•s
Õrog->
d•s
,…rog->nd•s,…rog->
¡mts
, 
d•_w¬
, 
OSL_DEPENDENCE_WAR
);

2361 
´og
->
nd•s
 +ğ
	`exŒaù_d•s
Õrog->
d•s
,…rog->nd•s,…rog->
¡mts
, 
d•_waw
, 
OSL_DEPENDENCE_WAW
);

2362 
´og
->
nd•s
 +ğ
	`exŒaù_d•s
Õrog->
d•s
,…rog->nd•s,…rog->
¡mts
, 
d•_¿r
, 
OSL_DEPENDENCE_RAR
);

2364 ià(
İtiÚs
->
Ï¡wr™”
) {

2365 ià(
İtiÚs
->
i¦d•cßËsû
) {

2366 
Œªs_d•_w¬
 = 
	`i¦_uniÚ_m­_cßËsû
(trans_dep_war);

2367 
Œªs_d•_waw
 = 
	`i¦_uniÚ_m­_cßËsû
(trans_dep_waw);

2370 
´og
->
Á¿nsd•s
 = 0;

2371 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•_¿w
, &
i¦_m­_couÁ
, &
´og
->
Á¿nsd•s
);

2372 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
Œªs_d•_w¬
, &
i¦_m­_couÁ
, &
´og
->
Á¿nsd•s
);

2373 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
Œªs_d•_waw
, &
i¦_m­_couÁ
, &
´og
->
Á¿nsd•s
);

2374 
	`i¦_uniÚ_m­_fÜ—ch_m­
(
d•_¿r
, &
i¦_m­_couÁ
, &
´og
->
Á¿nsd•s
);

2376 ià(
´og
->
Á¿nsd•s
 >= 1) {

2377 
´og
->
Œªsd•s
 = (
D•
 **)
	`m®loc
Õrog->
Á¿nsd•s
 * (Dep *));

2378 
i
=0; i<
´og
->
Á¿nsd•s
; i++) {

2379 
´og
->
Œªsd•s
[
i
] = 
	`¶uto_d•_®loc
();

2381 
´og
->
Á¿nsd•s
 = 0;

2382 
´og
->
Á¿nsd•s
 +ğ
	`exŒaù_d•s
Õrog->
Œªsd•s
,…rog->Á¿nsd•s,…rog->
¡mts
, 
d•_¿w
, 
OSL_DEPENDENCE_RAW
);

2383 
´og
->
Á¿nsd•s
 +ğ
	`exŒaù_d•s
Õrog->
Œªsd•s
,…rog->Á¿nsd•s,…rog->
¡mts
, 
Œªs_d•_w¬
, 
OSL_DEPENDENCE_WAR
);

2384 
´og
->
Á¿nsd•s
 +ğ
	`exŒaù_d•s
Õrog->
Œªsd•s
,…rog->Á¿nsd•s,…rog->
¡mts
, 
Œªs_d•_waw
, 
OSL_DEPENDENCE_WAW
);

2385 
´og
->
Á¿nsd•s
 +ğ
	`exŒaù_d•s
Õrog->
Œªsd•s
,…rog->Á¿nsd•s,…rog->
¡mts
, 
d•_¿r
, 
OSL_DEPENDENCE_RAR
);

2388 
	`i¦_uniÚ_m­_ä“
(
Œªs_d•_w¬
);

2389 
	`i¦_uniÚ_m­_ä“
(
Œªs_d•_waw
);

2392 
	`i¦_uniÚ_m­_ä“
(
d•_¿w
);

2393 
	`i¦_uniÚ_m­_ä“
(
d•_w¬
);

2394 
	`i¦_uniÚ_m­_ä“
(
d•_waw
);

2395 
	`i¦_uniÚ_m­_ä“
(
d•_¿r
);

2397 
	`i¦_uniÚ_m­_ä“
(
em±y
);

2398 
	`i¦_uniÚ_m­_ä“
(
wr™e
);

2399 
	`i¦_uniÚ_m­_ä“
(
»ad
);

2400 
	`i¦_uniÚ_m­_ä“
(
scheduË
);

2401 
	`i¦_£t_ä“
(
cÚ‹xt
);

2403 if(
Çmes
è
	`o¦_Çmes_ä“
(names);

2405 
	`i¦_ùx_ä“
(
ùx
);

2406 
	}
}

2435 
PlutoM©rix
 *
	$g‘_id’t™y_scheduË_Ãw
(
dim
, 
Å¬
)

2437 
PlutoM©rix
 *
sm©
 = 
	`¶uto_m©rix_®loc
(2*
dim
+1, dim+
Å¬
+1);

2439 
i
, 
j
;

2440 
i
 =0; i<2*
dim
+1; i++)

2441 
j
=0; j<
dim
+1+
Å¬
; j++)

2442 
sm©
->
v®
[
i
][
j
] = 0;

2444 
i
=0; i<
dim
; i++)

2445 
sm©
->
v®
[
i
][i] = 1;

2447  
sm©
;

2449 
	}
}

2456 
PlutoProg
 *
	$scİ_to_¶uto_´og
(
o¦_scİ_p
 
scİ
, 
PlutoO±iÚs
 *
İtiÚs
)

2458 
i
, 
max_sched_rows
, 
Å¬
;

2460 
PlutoProg
 *
´og
 = 
	`¶uto_´og_®loc
();

2463 
Å¬
 = 
scİ
->
cÚ‹xt
->
nb_·¿m‘”s
;

2465 
o¦_¡ršgs_p
 
o¦_scİ_·¿ms
 = 
NULL
;

2466 ià(
Å¬
 >ğ1è
o¦_scİ_·¿ms
 = (
o¦_¡ršgs_p
)
scİ
->
·¿m‘”s
->
d©a
;

2468 
i
=0; i<
Å¬
; i++) {

2469 
	`¶uto_´og_add_·¿m
(
´og
, 
o¦_scİ_·¿ms
->
¡ršg
[
i
],…rog->
Å¬
);

2472 
	`¶uto_cÚ¡¿šts_ä“
(
´og
->
cÚ‹xt
);

2473 
´og
->
cÚ‹xt
 = 
	`o¦_»ÏtiÚ_to_¶uto_cÚ¡¿šts
(
scİ
->context);

2475 ià(
İtiÚs
->
codeg’_cÚ‹xt
 != -1) {

2476 
i
=0; i<
´og
->
Å¬
; i++) {

2477 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
´og
->
codeg’_cÚ‹xt
);

2478 
´og
->
codeg’_cÚ‹xt
->
v®
[
i
][i] = 1;

2479 
´og
->
codeg’_cÚ‹xt
->
v®
[
i
][´og->codeg’_cÚ‹xt->
ncŞs
-1] = -
İtiÚs
->codegen_context;

2482 
	`»ad_codeg’_cÚ‹xt_äom_fe
(
´og
->
codeg’_cÚ‹xt
);

2484 
´og
->
n¡mts
 = 
	`o¦_¡©em’t_numb”
(
scİ
->
¡©em’t
);

2485 
´og
->
İtiÚs
 = options;

2488 
o¦_¬¿ys_p
 
¬¿ys
 = 
	`o¦_g’”ic_lookup
(
scİ
->
ex‹nsiÚ
, 
OSL_URI_ARRAYS
);

2489 if(
¬¿ys
==
NULL
){

2490 
´og
->
num_d©a
 = 0;

2491 
	`årštf
(
¡d”r
, "warning:‡rraysƒxtension‚ot found\n");

2493 
´og
->
num_d©a
 = 
¬¿ys
->
nb_Çmes
;

2494 
´og
->
d©a_Çmes
 = (**è
	`m®loc
 (´og->
num_d©a
 * (*));

2495 
i
=0; i< 
´og
->
num_d©a
; i++) {

2496 
´og
->
d©a_Çmes
[
i
] = 
	`¡rdup
(
¬¿ys
->
Çmes
[i]);

2500 
o¦_¡©em’t_p
 
scİ_¡mt
 = 
scİ
->
¡©em’t
;

2502 
´og
->
nv¬
 = 
	`o¦_¡©em’t_g‘_nb_™”©Üs
(
scİ_¡mt
);

2503 
max_sched_rows
 = 0;

2504 
i
=0; i<
´og
->
n¡mts
; i++) {

2505 
¡mt_num_™”
 = 
	`o¦_¡©em’t_g‘_nb_™”©Üs
(
scİ_¡mt
);

2506 
´og
->
nv¬
 = 
	`PLMAX
Õrog->nv¬, 
¡mt_num_™”
);

2507 
max_sched_rows
 = 
	`PLMAX
(max_sched_rows, 
scİ_¡mt
->
sÿ‰”šg
->
nb_rows
);

2508 
scİ_¡mt
 = scİ_¡mt->
Ãxt
;

2511 
´og
->
¡mts
 = 
	`o¦_to_¶uto_¡mts
(
scİ
);

2512 
´og
->
scİ
 = scop;

2515 ià(
İtiÚs
->
i¦d•
) {

2516 
	`compu‹_d•s
(
scİ
, 
´og
, 
İtiÚs
);

2519 
ÿndl_İtiÚs_p
 
ÿndlO±iÚs
 = 
	`ÿndl_İtiÚs_m®loc
();

2520 ià(
İtiÚs
->
¿r
) {

2521 
ÿndlO±iÚs
->
¿r
 = 1;

2524 
ÿndlO±iÚs
->
Ï¡wr™”
 = 
İtiÚs
->lastwriter;

2525 
ÿndlO±iÚs
->
sÿÏr_´iv©iz©iÚ
 = 
İtiÚs
->
sÿÍriv
;

2530 
	`ÿndl_scİ_u¤_š™
(
scİ
);

2532 
o¦_d•’d’û_p
 
ÿndl_d•s
 = 
	`ÿndl_d•’d’û
(
scİ
, 
ÿndlO±iÚs
);

2533 
´og
->
d•s
 = 
	`d•s_»ad
(
ÿndl_d•s
,…rog);

2534 
´og
->
nd•s
 = 
	`o¦_nb_d•’d’ûs
(
ÿndl_d•s
);

2535 
	`ÿndl_İtiÚs_ä“
(
ÿndlO±iÚs
);

2536 
	`o¦_d•’d’û_ä“
(
ÿndl_d•s
);

2538 
	`ÿndl_scİ_u¤_ş—nup
(
scİ
);

2540 
´og
->
Œªsd•s
 = 
NULL
;

2541 
´og
->
Á¿nsd•s
 = 0;

2545 ià(
´og
->
n¡mts
 >= 1) {

2546 
i
=0; i<
max_sched_rows
; i++) {

2547 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,´og->
num_hy³½ÏÃs
,
H_UNKNOWN
);

2548 
´og
->
hPrİs
[´og->
num_hy³½ÏÃs
-1].
ty³
 =

2549 (
i
%2)? 
H_LOOP
: 
H_SCALAR
;

2554 
FILE
 *
lå
 = 
	`fİ’
(".linearized", "r");

2555 
FILE
 *
Æå
 = 
	`fİ’
(".nonlinearized", "r");

2556 
tmp¡r
[256];

2557 
lš—rized
[256];

2558 ià(
lå
 && 
Æå
) {

2559 
i
=0; i<
´og
->
n¡mts
; i++) {

2560 
	`»wšd
(
lå
);

2561 
	`»wšd
(
Æå
);

2562 !
	`ãof
(
lå
è&& !ãof(
Æå
)) {

2563 
	`fg‘s
(
tmp¡r
, 256, 
Æå
);

2564 
	`fg‘s
(
lš—rized
, 256, 
lå
);

2565 ià(
	`¡r¡r
(
tmp¡r
, 
´og
->
¡mts
[
i
]->
‹xt
)) {

2566 
´og
->
¡mts
[
i
]->
‹xt
 = (*è
	`»®loc
Õrog->¡mts[i]->‹xt, ()*(
	`¡¾’
(
lš—rized
)+1));

2567 
	`¡rıy
(
´og
->
¡mts
[
i
]->
‹xt
, 
lš—rized
);

2571 
	`fşo£
(
lå
);

2572 
	`fşo£
(
Æå
);

2575  
´og
;

2576 
	}
}

2582 
	$¶uto_´og_g‘_Ïrge¡_cÚ¡_š_domašs
(cÚ¡ 
PlutoProg
 *
´og
)

2584 
max
, 
i
, 
r
;

2586 
max
 = 0;

2587 
i
=0; i<
´og
->
n¡mts
; i++) {

2588 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
i
];

2589 
r
=0;„<
¡mt
->
domaš
->
Äows
;„++) {

2590 
max
 = 
	`PLMAX
(max,
¡mt
->
domaš
->
v®
[
r
][¡mt->domaš->
ncŞs
-1]);

2594  
max
-1;

2595 
	}
}

2598 
PlutoProg
 *
	$¶uto_´og_®loc
()

2600 
PlutoProg
 *
´og
 = (PlutoProg *è
	`m®loc
((PlutoProg));

2602 
´og
->
n¡mts
 = 0;

2603 
´og
->
¡mts
 = 
NULL
;

2604 
´og
->
Å¬
 = 0;

2605 
´og
->
nv¬
 = 0;

2606 
´og
->
·¿ms
 = 
NULL
;

2607 
´og
->
cÚ‹xt
 = 
	`¶uto_cÚ¡¿šts_®loc
(1,…rog->
Å¬
+1);

2608 
´og
->
codeg’_cÚ‹xt
 = 
	`¶uto_cÚ¡¿šts_®loc
(1,…rog->
Å¬
+1);

2609 
´og
->
d•s
 = 
NULL
;

2610 
´og
->
nd•s
 = 0;

2611 
´og
->
Œªsd•s
 = 
NULL
;

2612 
´og
->
Á¿nsd•s
 = 0;

2613 
´og
->
ddg
 = 
NULL
;

2614 
´og
->
hPrİs
 = 
NULL
;

2615 
´og
->
num_hy³½ÏÃs
 = 0;

2617 
´og
->
globc¡
 = 
NULL
;

2619  
´og
;

2620 
	}
}

2624 
	$¶uto_´og_ä“
(
PlutoProg
 *
´og
)

2626 
i
;

2629 
i
=0; i<
´og
->
nd•s
; i++) {

2630 
	`¶uto_d•_ä“
(
´og
->
d•s
[
i
]);

2632 
	`ä“
(
´og
->
d•s
);

2634 
i
=0; i<
´og
->
Á¿nsd•s
; i++) {

2635 
	`¶uto_d•_ä“
(
´og
->
Œªsd•s
[
i
]);

2637 
	`ä“
(
´og
->
Œªsd•s
);

2640 ià(
´og
->
ddg
 !ğ
NULL
) {

2641 
	`g¿ph_ä“
(
´og
->
ddg
);

2644 ià(
´og
->
hPrİs
 !ğ
NULL
) {

2645 
	`ä“
(
´og
->
hPrİs
);

2648 
i
=0; i<
´og
->
Å¬
; i++) {

2649 
	`ä“
(
´og
->
·¿ms
[
i
]);

2651 ià(
´og
->
Å¬
 >= 1) {

2652 
	`ä“
(
´og
->
·¿ms
);

2656 
i
=0; i<
´og
->
n¡mts
; i++) {

2657 
	`¶uto_¡mt_ä“
(
´og
->
¡mts
[
i
]);

2659 ià(
´og
->
n¡mts
 >= 1) {

2660 
	`ä“
(
´og
->
¡mts
);

2663 
	`¶uto_cÚ¡¿šts_ä“
(
´og
->
cÚ‹xt
);

2664 
	`¶uto_cÚ¡¿šts_ä“
(
´og
->
codeg’_cÚ‹xt
);

2666 
	`¶uto_cÚ¡¿šts_ä“
(
´og
->
globc¡
);

2668 
	`ä“
(
´og
);

2669 
	}
}

2672 
PlutoO±iÚs
 *
	$¶uto_İtiÚs_®loc
()

2674 
PlutoO±iÚs
 *
İtiÚs
;

2676 
İtiÚs
 = (
PlutoO±iÚs
 *è
	`m®loc
((PlutoOptions));

2679 
İtiÚs
->
æic
 = 0;

2680 
İtiÚs
->
te
 = 0;

2681 
İtiÚs
->
šŒ©eİt
 = 1;

2682 
İtiÚs
->
debug
 = 0;

2683 
İtiÚs
->
mÜedebug
 = 0;

2684 
İtiÚs
->
sÿncouÁ
 = 0;

2685 
İtiÚs
->
·¿Î–
 = 0;

2686 
İtiÚs
->
šÃ½¬
 = 0;

2687 
İtiÚs
->
id’t™y
 = 0;

2689 
İtiÚs
->
lbte
 = 0;

2690 
İtiÚs
->
·¹lbte
 = 0;

2692 
İtiÚs
->
iss
 = 0;

2693 
İtiÚs
->
uÄŞl
 = 0;

2696 
İtiÚs
->
uçùÜ
 = 8;

2699 
İtiÚs
->
¿r
 = 0;

2702 
İtiÚs
->
á
 = -1;

2703 
İtiÚs
->
É
 = -1;

2706 
İtiÚs
->
şoogf
 = -1;

2707 
İtiÚs
->
şoogl
 = -1;

2709 
İtiÚs
->
şoogsh
 = 0;

2711 
İtiÚs
->
şoogbackŒack
 = 1;

2713 
İtiÚs
->
muÉ¬
 = 0;

2714 
İtiÚs
->
l2te
 = 0;

2715 
İtiÚs
->
´eveùÜ
 = 1;

2716 
İtiÚs
->
fu£
 = 
TYPED_FUSE
;

2719 
İtiÚs
->
pŞyuÄŞl
 = 0;

2722 
İtiÚs
->
codeg’_cÚ‹xt
 = -1;

2724 
İtiÚs
->
cÛff_bound
 = -1;

2726 
İtiÚs
->
fÜû·¿Î–
 = 0;

2728 
İtiÚs
->
b“
 = 0;

2730 
İtiÚs
->
i¦d•
 = 0;

2731 
İtiÚs
->
i¦d•acûsswi£
 = 1;

2732 
İtiÚs
->
i¦d•cßËsû
 = 1;

2734 
İtiÚs
->
ÿndld•
 = 0;

2736 
İtiÚs
->
psŞve
 = 0;

2737 
İtiÚs
->
i¦sŞve
 = 1;

2739 
İtiÚs
->
»adscİ
 = 0;

2741 
İtiÚs
->
Ï¡wr™”
 = 0;

2743 
İtiÚs
->
nod•bound
 = 0;

2745 
İtiÚs
->
sÿÍriv
 = 0;

2747 
İtiÚs
->
s’t
 = 0;

2749 
İtiÚs
->
out_fe
 = 
NULL
;

2751 
İtiÚs
->
time
 = 0;

2753  
İtiÚs
;

2754 
	}
}

2758 
	$¶uto_´og_add_·¿m
(
PlutoProg
 *
´og
, cÚ¡ *
·¿m
, 
pos
)

2760 
i
, 
j
;

2762 
i
=0; i<
´og
->
n¡mts
; i++) {

2763 
Stmt
 *
¡mt
 = 
´og
->
¡mts
[
i
];

2764 
	`¶uto_cÚ¡¿šts_add_dim
(
¡mt
->
domaš
, stmt->domaš->
ncŞs
-1-
´og
->
Å¬
+
pos
, 
·¿m
);

2765 
	`¶uto_m©rix_add_cŞ
(
¡mt
->
Œªs
, stmt->Œªs->
ncŞs
-1-
´og
->
Å¬
+
pos
);

2767 
j
=0; j<
¡mt
->
nwr™es
; j++) {

2768 
	`¶uto_m©rix_add_cŞ
(
¡mt
->
wr™es
[
j
]->
m©
, stmt->
dim
+
pos
);

2770 
j
=0; j<
¡mt
->
Ä—ds
; j++) {

2771 
	`¶uto_m©rix_add_cŞ
(
¡mt
->
»ads
[
j
]->
m©
, stmt->
dim
+
pos
);

2774 
i
=0; i<
´og
->
nd•s
; i++) {

2775 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
d•s
[
i
]->
dpŞytİe
,

2776 
´og
->
d•s
[
i
]->
dpŞytİe
->
ncŞs
-1-´og->
Å¬
+
pos
, 
NULL
);

2778 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
cÚ‹xt
,…rog->cÚ‹xt->
ncŞs
-1-´og->
Å¬
+
pos
, 
·¿m
);

2779 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
codeg’_cÚ‹xt
,

2780 
´og
->
codeg’_cÚ‹xt
->
ncŞs
-1-´og->
Å¬
+
pos
, 
·¿m
);

2782 
´og
->
·¿ms
 = (**è
	`»®loc
Õrog->·¿ms, (*)*Õrog->
Å¬
+1));

2784 
i
=
´og
->
Å¬
-1; i>=
pos
; i--) {

2785 
´og
->
·¿ms
[
i
+1] =…rog->params[i];

2788 
´og
->
·¿ms
[
pos
] = 
	`¡rdup
(
·¿m
);

2789 
´og
->
Å¬
++;

2790 
	}
}

2793 
	$¶uto_İtiÚs_ä“
(
PlutoO±iÚs
 *
İtiÚs
)

2795 ià(
İtiÚs
->
out_fe
 !ğ
NULL
) {

2796 
	`ä“
(
İtiÚs
->
out_fe
);

2798 
	`ä“
(
İtiÚs
);

2799 
	}
}

2805 
	$¶uto_¡mt_add_dim
(
Stmt
 *
¡mt
, 
pos
, 
time_pos
, cÚ¡ *
™”
,

2806 
PlutoHypTy³
 
hyp_ty³
, 
PlutoProg
 *
´og
)

2808 
i
, 
Å¬
;

2810 
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

2812 
	`as£¹
(
pos
 <ğ
¡mt
->
dim
);

2813 
	`as£¹
(
time_pos
 <ğ
¡mt
->
Œªs
->
Äows
);

2814 
	`as£¹
(
¡mt
->
dim
 + 
Å¬
 + 1 =ğ¡mt->
domaš
->
ncŞs
);

2816 
	`¶uto_cÚ¡¿šts_add_dim
(
¡mt
->
domaš
, 
pos
, 
NULL
);

2817 
¡mt
->
dim
++;

2818 
¡mt
->
™”©Üs
 = (**è
	`»®loc
(¡mt->™”©Üs, stmt->
dim
*(*));

2819 
i
=
¡mt
->
dim
-2; i>=
pos
; i--) {

2820 
¡mt
->
™”©Üs
[
i
+1] = stmt->iterators[i];

2822 
¡mt
->
™”©Üs
[
pos
] = 
	`¡rdup
(
™”
);

2825 
	`as£¹
(
¡mt
->
Œªs
 !ğ
NULL
);

2826 
	`¶uto_m©rix_add_cŞ
(
¡mt
->
Œªs
, 
pos
);

2828 ià(
time_pos
 != -1) {

2829 
	`¶uto_m©rix_add_row
(
¡mt
->
Œªs
, 
time_pos
);

2830 
¡mt
->
Œªs
->
v®
[
time_pos
][
pos
] = 1;

2833 
¡mt
->
hyp_ty³s
 = 
	`»®loc
(stmt->hyp_types,

2834 ()*
¡mt
->
Œªs
->
Äows
);

2835 
i
=
¡mt
->
Œªs
->
Äows
-2; i>=
time_pos
; i--) {

2836 
¡mt
->
hyp_ty³s
[
i
+1] = stmt->hyp_types[i];

2838 
¡mt
->
hyp_ty³s
[
time_pos
] = 
hyp_ty³
;

2842 
¡mt
->
is_Üig_loİ
 = 
	`»®loc
(¡mt->is_Üig_loİ, (
boŞ
)*¡mt->
dim
);

2843 
i
=
¡mt
->
dim
-2; i>=
pos
; i--) {

2844 
¡mt
->
is_Üig_loİ
[
i
+1] = stmt->is_orig_loop[i];

2846 
¡mt
->
is_Üig_loİ
[
pos
] = 
Œue
;

2848 
i
=0; i<
¡mt
->
nwr™es
; i++) {

2849 
	`¶uto_m©rix_add_cŞ
(
¡mt
->
wr™es
[
i
]->
m©
, 
pos
);

2851 
i
=0; i<
¡mt
->
Ä—ds
; i++) {

2852 
	`¶uto_m©rix_add_cŞ
(
¡mt
->
»ads
[
i
]->
m©
, 
pos
);

2856 
i
=0; i<
´og
->
nd•s
; i++) {

2857 ià(
´og
->
d•s
[
i
]->
¤c
 =ğ
¡mt
->
id
) {

2858 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
d•s
[
i
]->
dpŞytİe
, 
pos
, 
NULL
);

2859 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
d•s
[
i
]->
boundšg_pŞy
, 
pos
, 
NULL
);

2861 ià(
´og
->
d•s
[
i
]->
de¡
 =ğ
¡mt
->
id
) {

2862 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
d•s
[
i
]->
dpŞytİe
,

2863 
´og
->
¡mts
[´og->
d•s
[
i
]->
¤c
]->
dim
+
pos
, 
NULL
);

2864 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
d•s
[
i
]->
boundšg_pŞy
,

2865 
´og
->
¡mts
[´og->
d•s
[
i
]->
¤c
]->
dim
+
pos
, 
NULL
);

2869 
i
=0; i<
´og
->
Á¿nsd•s
; i++) {

2870 
	`as£¹
(
´og
->
Œªsd•s
[
i
] !ğ
NULL
);

2871 ià(
´og
->
Œªsd•s
[
i
]->
¤c
 =ğ
¡mt
->
id
) {

2872 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
Œªsd•s
[
i
]->
dpŞytİe
, 
pos
, 
NULL
);

2873 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
Œªsd•s
[
i
]->
boundšg_pŞy
, 
pos
, 
NULL
);

2875 ià(
´og
->
Œªsd•s
[
i
]->
de¡
 =ğ
¡mt
->
id
) {

2876 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
Œªsd•s
[
i
]->
dpŞytİe
,

2877 
´og
->
¡mts
[´og->
Œªsd•s
[
i
]->
¤c
]->
dim
+
pos
, 
NULL
);

2878 
	`¶uto_cÚ¡¿šts_add_dim
(
´og
->
Œªsd•s
[
i
]->
boundšg_pŞy
,

2879 
´og
->
¡mts
[´og->
Œªsd•s
[
i
]->
¤c
]->
dim
+
pos
, 
NULL
);

2882 
	}
}

2886 
	$¶uto_¡mt_»move_dim
(
Stmt
 *
¡mt
, 
pos
, 
PlutoProg
 *
´og
)

2888 
i
, 
Å¬
;

2890 
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

2892 
	`as£¹
(
pos
 <ğ
¡mt
->
dim
);

2893 
	`as£¹
(
¡mt
->
dim
 + 
Å¬
 + 1 =ğ¡mt->
domaš
->
ncŞs
);

2895 
	`¶uto_cÚ¡¿šts_»move_dim
(
¡mt
->
domaš
, 
pos
);

2896 
¡mt
->
dim
--;

2898 ià(
¡mt
->
™”©Üs
 !ğ
NULL
) {

2899 
	`ä“
(
¡mt
->
™”©Üs
[
pos
]);

2900 
i
=
pos
; i<=
¡mt
->
dim
-1; i++) {

2901 
¡mt
->
™”©Üs
[
i
] = stmt->iterators[i+1];

2903 
¡mt
->
™”©Üs
 = (**è
	`»®loc
(stmt->iterators,

2904 
¡mt
->
dim
*(*));

2907 
	`¶uto_m©rix_»move_cŞ
(
¡mt
->
Œªs
, 
pos
);

2910 
i
=
pos
; i<=
¡mt
->
dim
-1; i++) {

2911 
¡mt
->
is_Üig_loİ
[
i
] = stmt->is_orig_loop[i+1];

2913 
¡mt
->
is_Üig_loİ
 = 
	`»®loc
(¡mt->is_Üig_loİ, (
boŞ
)*¡mt->
dim
);

2915 
i
=0; i<
¡mt
->
nwr™es
; i++) {

2916 
	`¶uto_m©rix_»move_cŞ
(
¡mt
->
wr™es
[
i
]->
m©
, 
pos
);

2919 
i
=0; i<
¡mt
->
Ä—ds
; i++) {

2920 
	`¶uto_m©rix_»move_cŞ
(
¡mt
->
»ads
[
i
]->
m©
, 
pos
);

2924 
i
=0; i<
´og
->
nd•s
; i++) {

2925 ià(
´og
->
d•s
[
i
]->
¤c
 =ğ
¡mt
->
id
) {

2926 
	`¶uto_cÚ¡¿šts_»move_dim
(
´og
->
d•s
[
i
]->
dpŞytİe
, 
pos
);

2928 ià(
´og
->
d•s
[
i
]->
de¡
 =ğ
¡mt
->
id
) {

2929 
	`¶uto_cÚ¡¿šts_»move_dim
(
´og
->
d•s
[
i
]->
dpŞytİe
,

2930 
´og
->
¡mts
[´og->
d•s
[
i
]->
¤c
]->
dim
+
pos
);

2934 
i
=0; i<
´og
->
Á¿nsd•s
; i++) {

2935 
	`as£¹
(
´og
->
Œªsd•s
[
i
] !ğ
NULL
);

2936 ià(
´og
->
Œªsd•s
[
i
]->
¤c
 =ğ
¡mt
->
id
) {

2937 
	`¶uto_cÚ¡¿šts_»move_dim
(
´og
->
Œªsd•s
[
i
]->
dpŞytİe
, 
pos
);

2939 ià(
´og
->
Œªsd•s
[
i
]->
de¡
 =ğ
¡mt
->
id
) {

2940 
	`¶uto_cÚ¡¿šts_»move_dim
(
´og
->
Œªsd•s
[
i
]->
dpŞytİe
,

2941 
´og
->
¡mts
[´og->
Œªsd•s
[
i
]->
¤c
]->
dim
+
pos
);

2944 
	}
}

2946 
	$¶uto_¡mt_add_hy³½ÏÃ
(
Stmt
 *
¡mt
, 
PlutoHypTy³
 
ty³
, 
pos
)

2948 
i
;

2950 
	`as£¹
(
pos
 <ğ
¡mt
->
Œªs
->
Äows
);

2952 
	`¶uto_m©rix_add_row
(
¡mt
->
Œªs
, 
pos
);

2954 
¡mt
->
hyp_ty³s
 = 
	`»®loc
(stmt->hyp_types,

2955 ()*
¡mt
->
Œªs
->
Äows
);

2956 
i
=
¡mt
->
Œªs
->
Äows
-2; i>=
pos
; i--) {

2957 
¡mt
->
hyp_ty³s
[
i
+1] = stmt->hyp_types[i];

2959 
¡mt
->
hyp_ty³s
[
pos
] = 
ty³
;

2961 ià(
¡mt
->
fœ¡_te_dim
 >ğ
pos
) stmt->first_tile_dim++;

2962 ià(
¡mt
->
Ï¡_te_dim
 >ğ
pos
) stmt->last_tile_dim++;

2963 
	}
}

2966 
	$¶uto_´og_add_hy³½ÏÃ
(
PlutoProg
 *
´og
, 
pos
, 
PlutoHypTy³
 
hyp_ty³
)

2968 
i
;

2970 
´og
->
num_hy³½ÏÃs
++;

2971 
´og
->
hPrİs
 = (
Hy³½ÏÃPrİ”t›s
 *è
	`»®loc
(prog->hProps,

2972 
´og
->
num_hy³½ÏÃs
*(
Hy³½ÏÃPrİ”t›s
));

2974 
i
=
´og
->
num_hy³½ÏÃs
-2; i>=
pos
; i--) {

2975 
´og
->
hPrİs
[
i
+1] =…rog->hProps[i];

2978 
´og
->
hPrİs
[
pos
].
uÄŞl
 = 
NO_UNROLL
;

2979 
´og
->
hPrİs
[
pos
].
´evec
 = 0;

2980 
´og
->
hPrİs
[
pos
].
bªd_num
 = -1;

2981 
´og
->
hPrİs
[
pos
].
d•_´İ
 = 
UNKNOWN
;

2982 
´og
->
hPrİs
[
pos
].
ty³
 = 
hyp_ty³
;

2983 
	}
}

2988 
Stmt
 *
	$¶uto_ü—‹_¡mt
(
dim
, cÚ¡ 
PlutoCÚ¡¿šts
 *
domaš
, cÚ¡ 
PlutoM©rix
 *
Œªs
,

2989 **
™”©Üs
, cÚ¡ *
‹xt
, 
PlutoStmtTy³
 
ty³
)

2991 
i
;

2993 
Stmt
 *
¡mt
 = 
	`¶uto_¡mt_®loc
(
dim
, 
domaš
, 
Œªs
);

2995 
¡mt
->
ty³
 =ype;

2997 
¡mt
->
‹xt
 = 
	`¡rdup
(text);

2999 
i
=0; i<
¡mt
->
dim
; i++) {

3000 
¡mt
->
™”©Üs
[
i
] = 
	`¡rdup
(iterators[i]);

3003 
	`¶uto_cÚ¡¿šts_£t_Çmes_¿nge
(
¡mt
->
domaš
, stmt->
™”©Üs
, 0, 0, stmt->
dim
);

3007  
¡mt
;

3008 
	}
}

3012 
	$¶uto_·d_¡mt_ŒªsfÜm©iÚs
(
PlutoProg
 *
´og
)

3014 
max_Äows
, 
i
, 
j
, 
n¡mts
;

3016 
n¡mts
 = 
´og
->nstmts;

3017 
Stmt
 **
¡mts
 = 
´og
->stmts;

3020 
max_Äows
 = 0;

3021 
i
=0; i<
n¡mts
; i++) {

3022 ià(
¡mts
[
i
]->
Œªs
 !ğ
NULL
) {

3023 
max_Äows
 = 
	`PLMAX
(max_Äows, 
¡mts
[
i
]->
Œªs
->
Äows
);

3027 ià(
max_Äows
 >= 1) {

3028 
i
=0; i<
n¡mts
; i++) {

3029 ià(
¡mts
[
i
]->
Œªs
 =ğ
NULL
) {

3030 
¡mts
[
i
]->
Œªs
 = 
	`¶uto_m©rix_®loc
(
max_Äows
,

3031 
¡mts
[
i
]->
dim
+
´og
->
Å¬
+1);

3032 
¡mts
[
i
]->
Œªs
->
Äows
 = 0;

3035 
cu¼_rows
 = 
¡mts
[
i
]->
Œªs
->
Äows
;

3038 
j
=
cu¼_rows
; j<
max_Äows
; j++) {

3039 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mts
[
i
], 
H_SCALAR
, stmts[i]->
Œªs
->
Äows
);

3043 
Şd_hyp_num
 = 
´og
->
num_hy³½ÏÃs
;

3044 
i
=
Şd_hyp_num
; i<
max_Äows
; i++) {

3046 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
,…rog->
num_hy³½ÏÃs
, 
H_SCALAR
);

3049 
	}
}

3053 
	$¶uto_add_giv’_¡mt
(
PlutoProg
 *
´og
, 
Stmt
 *
¡mt
)

3055 
´og
->
¡mts
 = (
Stmt
 **è
	`»®loc
Õrog->¡mts, (Õrog->
n¡mts
+1)*(Stmt *)));

3057 
¡mt
->
id
 = 
´og
->
n¡mts
;

3059 
´og
->
nv¬
 = 
	`PLMAX
Õrog->nv¬, 
¡mt
->
dim
);

3060 
´og
->
¡mts
[´og->
n¡mts
] = 
¡mt
;

3061 
´og
->
n¡mts
++;

3063 
	`¶uto_·d_¡mt_ŒªsfÜm©iÚs
(
´og
);

3064 
	}
}

3073 
	$¶uto_add_¡mt
(
PlutoProg
 *
´og
,

3074 cÚ¡ 
PlutoCÚ¡¿šts
 *
domaš
,

3075 cÚ¡ 
PlutoM©rix
 *
Œªs
,

3076 ** 
™”©Üs
,

3077 cÚ¡ *
‹xt
,

3078 
PlutoStmtTy³
 
ty³
)

3080 
n¡mts
;

3082 
	`as£¹
(
Œªs
 !ğ
NULL
);

3083 
	`as£¹
(
Œªs
->
ncŞs
 =ğ
domaš
->ncols);

3085 
n¡mts
 = 
´og
->nstmts;

3087 
´og
->
¡mts
 = (
Stmt
 **è
	`»®loc
Õrog->¡mts, ((
n¡mts
+1)*(Stmt *)));

3089 
Stmt
 *
¡mt
 = 
	`¶uto_ü—‹_¡mt
(
domaš
->
ncŞs
-
´og
->
Å¬
-1, domaš, 
Œªs
, 
™”©Üs
, 
‹xt
, 
ty³
);

3090 
¡mt
->
id
 = 
n¡mts
;

3092 
´og
->
nv¬
 = 
	`PLMAX
Õrog->nv¬, 
¡mt
->
dim
);

3094 
´og
->
¡mts
[
n¡mts
] = 
¡mt
;

3095 
´og
->
n¡mts
++;

3097 
	`¶uto_·d_¡mt_ŒªsfÜm©iÚs
(
´og
);

3098 
	}
}

3101 
D•
 *
	$¶uto_d•_®loc
()

3103 
D•
 *
d•
 = 
	`m®loc
((Dep));

3105 
d•
->
id
 = -1;

3106 
d•
->
§tvec
 = 
NULL
;

3107 
d•
->
dpŞytİe
 = 
NULL
;

3108 
d•
->
boundšg_pŞy
 = 
NULL
;

3109 
d•
->
d•§t_pŞy
 = 
NULL
;

3110 
d•
->
§tisf›d
 = 
çl£
;

3111 
d•
->
§tisçùiÚ_Ëv–
 = -1;

3112 
d•
->
dœvec
 = 
NULL
;

3113 
d•
->
¤c_acc
 = 
NULL
;

3114 
d•
->
de¡_acc
 = 
NULL
;

3115 
d•
->
c¡
 = 
NULL
;

3116 
d•
->
boundšg_c¡
 = 
NULL
;

3117 
d•
->
¤c_unique_dpŞytİe
 = 
NULL
;

3119  
d•
;

3120 
	}
}

3123 
D•
 *
	$¶uto_d•_dup
(
D•
 *
d
)

3125 
D•
 *
d•
 = 
	`m®loc
((Dep));

3127 
d•
->
id
 = 
d
->id;

3128 
d•
->
¤c
 = 
d
->src;

3129 
d•
->
de¡
 = 
d
->dest;

3130 
d•
->
¤c_acc
 = 
d
->src_acc;

3131 
d•
->
de¡_acc
 = 
d
->dest_acc;

3132 
d•
->
dpŞytİe
 = 
	`¶uto_cÚ¡¿šts_dup
(
d
->dpolytope);

3133 
d•
->
boundšg_pŞy
 = 
	`¶uto_cÚ¡¿šts_dup
(
d
->bounding_poly);

3135 
d•
->
¤c_unique_dpŞytİe
 =

3136 
d
->
¤c_unique_dpŞytİe
? 
	`¶uto_cÚ¡¿šts_dup
(

3137 
d
->
¤c_unique_dpŞytİe
):
NULL
;

3139 
d•
->
d•§t_pŞy
 = 
d
->depsat_poly?

3140 
	`¶uto_cÚ¡¿šts_dup
(
d
->
d•§t_pŞy
):
NULL
;

3141 
d•
->
§tvec
 = 
NULL
;

3142 
d•
->
ty³
 = 
d
->type;

3143 
d•
->
§tisf›d
 = 
d
->satisfied;

3144 
d•
->
§tisçùiÚ_Ëv–
 = 
d
->satisfaction_level;

3145 
d•
->
dœvec
 = 
NULL
;

3146 
d•
->
c¡
 = 
d
->c¡? 
	`¶uto_cÚ¡¿šts_dup
(d->c¡): 
NULL
;

3147 
d•
->
boundšg_c¡
 = 
d
->boundšg_c¡? 
	`¶uto_cÚ¡¿šts_dup
(d->boundšg_c¡): 
NULL
;

3149  
d•
;

3150 
	}
}

3156 
Stmt
 *
	$¶uto_¡mt_®loc
(
dim
,

3157 cÚ¡ 
PlutoCÚ¡¿šts
 *
domaš
,

3158 cÚ¡ 
PlutoM©rix
 *
Œªs
)

3160 
i
;

3163 
	`as£¹
(
Œªs
 !ğ
NULL
);

3165 
Stmt
 *
¡mt
 = (Stmˆ*è
	`m®loc
((Stmt));

3168 
¡mt
->
id
 = -1;

3169 
¡mt
->
dim
 = dim;

3170 
¡mt
->
dim_Üig
 = 
dim
;

3171 ià(
domaš
 !ğ
NULL
) {

3172 
¡mt
->
domaš
 = 
	`¶uto_cÚ¡¿šts_dup
(domain);

3174 
¡mt
->
domaš
 = 
NULL
;

3177 
¡mt
->
Œªs
 = 
	`¶uto_m©rix_dup
(trans);

3179 
¡mt
->
hyp_ty³s
 = 
	`m®loc
(¡mt->
Œªs
->
Äows
*());

3180 
i
=0; i<
¡mt
->
Œªs
->
Äows
; i++) {

3181 
¡mt
->
hyp_ty³s
[
i
] = 
H_LOOP
;

3184 
¡mt
->
‹xt
 = 
NULL
;

3185 
¡mt
->
te
 = 1;

3186 
¡mt
->
num_ted_loİs
 = 0;

3187 
¡mt
->
»ads
 = 
NULL
;

3188 
¡mt
->
wr™es
 = 
NULL
;

3189 
¡mt
->
Ä—ds
 = 0;

3190 
¡mt
->
nwr™es
 = 0;

3193 
¡mt
->
eviùed_hyp
 = 
NULL
;

3194 
¡mt
->
eviùed_hyp_pos
 = -1;

3196 
¡mt
->
fœ¡_te_dim
 = 0;

3197 
¡mt
->
Ï¡_te_dim
 = -1;

3199 
¡mt
->
ty³
 = 
STMT_UNKNOWN
;

3200 
¡mt
->
·»Á_compu‹_¡mt
 = 
NULL
;

3202 ià(
dim
 >= 1) {

3203 
¡mt
->
is_Üig_loİ
 = (
boŞ
 *è
	`m®loc
(
dim
*(bool));

3204 
¡mt
->
™”©Üs
 = (**è
	`m®loc
((*)*
dim
);

3205 
i
=0; i<
¡mt
->
dim
; i++) {

3206 
¡mt
->
™”©Üs
[
i
] = 
NULL
;

3209 
¡mt
->
is_Üig_loİ
 = 
NULL
;

3210 
¡mt
->
™”©Üs
 = 
NULL
;

3213  
¡mt
;

3214 
	}
}

3216 
PlutoAcûss
 *
	$¶uto_acûss_dup
(cÚ¡ 
PlutoAcûss
 *
acc
)

3218 
	`as£¹
(
acc
);

3220 
PlutoAcûss
 *
Çcc
 = 
	`m®loc
((PlutoAccess));

3221 
Çcc
->
m©
 = 
	`¶uto_m©rix_dup
(
acc
->mat);

3222 
Çcc
->
Çme
 = 
	`¡rdup
(
acc
->name);

3223 
Çcc
->
sym_id
 = 
acc
->sym_id;

3225  
Çcc
;

3226 
	}
}

3228 
	$¶uto_acûss_ä“
(
PlutoAcûss
 *
acc
)

3230 ià(
acc
) {

3231 
	`¶uto_m©rix_ä“
(
acc
->
m©
);

3232 
	`ä“
(
acc
->
Çme
);

3233 
	`ä“
(
acc
);

3235 
	}
}

3237 
	$¶uto_¡mt_ä“
(
Stmt
 *
¡mt
)

3239 
i
, 
j
;

3241 
	`¶uto_cÚ¡¿šts_ä“
(
¡mt
->
domaš
);

3243 
	`¶uto_m©rix_ä“
(
¡mt
->
Œªs
);

3245 
	`ä“
(
¡mt
->
hyp_ty³s
);

3247 ià(
¡mt
->
‹xt
 !ğ
NULL
) {

3248 
	`ä“
(
¡mt
->
‹xt
);

3251 
j
=0; j<
¡mt
->
dim
; j++) {

3252 ià(
¡mt
->
™”©Üs
[
j
] !ğ
NULL
) {

3253 
	`ä“
(
¡mt
->
™”©Üs
[
j
]);

3258 ià(
¡mt
->
™”©Üs
 !ğ
NULL
) {

3259 
	`ä“
(
¡mt
->
™”©Üs
);

3260 
	`ä“
(
¡mt
->
is_Üig_loİ
);

3263 
PlutoAcûss
 **
wr™es
 = 
¡mt
->writes;

3264 
PlutoAcûss
 **
»ads
 = 
¡mt
->reads;

3266 ià(
wr™es
 !ğ
NULL
) {

3267 
i
=0; i<
¡mt
->
nwr™es
; i++) {

3268 
	`¶uto_acûss_ä“
(
wr™es
[
i
]);

3270 
	`ä“
(
wr™es
);

3272 ià(
»ads
 !ğ
NULL
) {

3273 
i
=0; i<
¡mt
->
Ä—ds
; i++) {

3274 
	`¶uto_acûss_ä“
(
»ads
[
i
]);

3276 
	`ä“
(
»ads
);

3279 
	`ä“
(
¡mt
);

3280 
	}
}

3290 
PlutoM©rix
 *
	$g‘_®pha
(cÚ¡ 
Stmt
 *
¡mt
, cÚ¡ 
PlutoProg
 *
´og
)

3292 
r
, 
c
, 
i
;

3294 
PlutoM©rix
 *
a
;

3295 
a
 = 
	`¶uto_m©rix_®loc
(
¡mt
->
dim
, stmt->dim);

3297 
r
=0;

3298 
i
=0; i<
¡mt
->
Œªs
->
Äows
; i++) {

3299 ià(
¡mt
->
hyp_ty³s
[
i
] =ğ
H_LOOP
 ||

3300 
¡mt
->
hyp_ty³s
[
i
] =ğ
H_TILE_SPACE_LOOP
) {

3301 
c
=0; c<
¡mt
->
dim
; c++) {

3302 
a
->
v®
[
r
][
c
] = 
¡mt
->
Œªs
->v®[
i
][c];

3304 
r
++;

3305 ià(
r
==
¡mt
->
dim
) ;

3309 
	`as£¹
(
r
==
¡mt
->
dim
);

3311  
a
;

3312 
	}
}

3315 
	$¶uto_is_hy³½ÏÃ_sÿÏr
(cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
)

3317 
j
;

3319 
	`as£¹
(
Ëv–
 <ğ
¡mt
->
Œªs
->
Äows
-1);

3321 
j
=0; j<
¡mt
->
dim
; j++) {

3322 ià(
¡mt
->
Œªs
->
v®
[
Ëv–
][
j
] != 0)  0;

3326 
	}
}

3329 
	$¶uto_is_hy³½ÏÃ_loİ
(cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
)

3331  !
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
¡mt
, 
Ëv–
);

3332 
	}
}

3336 
PlutoM©rix
 *
	$¶uto_¡mt_g‘_»m­pšg
(cÚ¡ 
Stmt
 *
¡mt
, **
divs
)

3338 
i
, 
j
, 
k
, 
_lcm
, 
çùÜ1
, 
Å¬
;

3340 
PlutoM©rix
 *
»m­
, *
Œªs
;

3342 
Œªs
 = 
¡mt
->trans;

3343 
»m­
 = 
	`¶uto_m©rix_dup
(
Œªs
);

3345 
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

3347 *
divs
 = 
	`m®loc
(()*(
¡mt
->
dim
+
Å¬
+1));

3349 
i
=0; i<
»m­
->
Äows
; i++) {

3350 
	`¶uto_m©rix_Ãg©e_row
(
»m­
,„em­->
Äows
-1-
i
);

3351 
	`¶uto_m©rix_add_cŞ
(
»m­
, 0);

3352 
»m­
->
v®
[
Œªs
->
Äows
-1-
i
][0] = 1;

3356 
i
=0; i<
¡mt
->
dim
; i++) {

3357 
	`¶uto_m©rix_move_cŞ
(
»m­
,„em­->
Äows
+
i
, i);

3360 
	`as£¹
(
¡mt
->
dim
 <ğ
»m­
->
Äows
);

3362 
i
=0; i<
¡mt
->
dim
; i++) {

3364 ià(
»m­
->
v®
[
i
][i] == 0) {

3365 
k
=
i
+1; k<
»m­
->
Äows
; k++) {

3366 ià(
»m­
->
v®
[
k
][
i
] != 0) ;

3368 ià(
k
<
»m­
->
Äows
) {

3369 
	`¶uto_m©rix_š‹rchªge_rows
(
»m­
, 
i
, 
k
);

3373 
	`´štf
("Cª'ˆassocŸ‹ domaš i‹¿tÜ #%d w™him™”©Üs\n", 
i
+1);

3374 
	`¶uto_m©rix_´št
(
¡dout
, 
»m­
);

3375 
	`as£¹
(0);

3380 
	`as£¹
(
»m­
->
v®
[
i
][i] != 0);

3381 
k
=
i
+1; k<
»m­
->
Äows
; k++) {

3382 ià(
»m­
->
v®
[
k
][
i
] == 0) ;

3383 
_lcm
 = 
	`lcm
(
»m­
->
v®
[
k
][
i
],„emap->val[i][i]);

3384 
çùÜ1
 = 
_lcm
/
»m­
->
v®
[
k
][
i
];

3385 
j
=
i
; j<
»m­
->
ncŞs
; j++) {

3386 
»m­
->
v®
[
k
][
j
] =„em­->v®[k][j]*
çùÜ1


3387 - 
»m­
->
v®
[
i
][
j
]*(
_lcm
/remap->val[i][i]);

3398 
i
=
¡mt
->
dim
-1; i>=0; i--) {

3399 
	`as£¹
(
»m­
->
v®
[
i
][i] != 0);

3400 
k
=
i
-1; k>=0; k--) {

3401 ià(
»m­
->
v®
[
k
][
i
] == 0) ;

3402 
_lcm
 = 
	`lcm
(
»m­
->
v®
[
k
][
i
],„emap->val[i][i]);

3403 
çùÜ1
 = 
_lcm
/
»m­
->
v®
[
k
][
i
];

3404 
j
=0; j<
»m­
->
ncŞs
; j++) {

3405 
»m­
->
v®
[
k
][
j
] =„em­->v®[k][j]*(
çùÜ1
)

3406 - 
»m­
->
v®
[
i
][
j
]*(
_lcm
/remap->val[i][i]);

3411 
	`as£¹
(
»m­
->
Äows
 >ğ
¡mt
->
dim
);

3412 
i
=
»m­
->
Äows
-1; i>=
¡mt
->
dim
; i--) {

3413 
	`¶uto_m©rix_»move_row
(
»m­
,„em­->
Äows
-1);

3417 
i
=0; i<
¡mt
->
dim
; i++) {

3418 
	`as£¹
(
»m­
->
v®
[
i
][i] != 0);

3419 ià(
»m­
->
v®
[
i
][i] <= -1) {

3420 
	`¶uto_m©rix_Ãg©e_row
(
»m­
, 
i
);

3422 (*
divs
)[
i
] = 
	`abs
(
»m­
->
v®
[i][i]);

3426 
i
=0; i<
¡mt
->
dim
; i++) {

3427 
	`¶uto_m©rix_»move_cŞ
(
»m­
, 0);

3430 
i
=0; i<
¡mt
->
dim
; i++) {

3431 
	`¶uto_m©rix_Ãg©e_row
(
»m­
, 
i
);

3435 
i
=0; i<
Å¬
+1; i++) {

3436 
	`¶uto_m©rix_add_row
(
»m­
,„em­->
Äows
);

3437 
»m­
->
v®
[»m­->
Äows
-1][»m­->
ncŞs
-
Å¬
-1+
i
] = 1;

3438 (*
divs
)[
¡mt
->
dim
+
i
] = 1;

3444  
»m­
;

3445 
	}
}

3448 
	$¶uto_´og_·¿ms_´št
(cÚ¡ 
PlutoProg
 *
´og
)

3450 
i
;

3451 
i
=0; i<
´og
->
Å¬
; i++) {

3452 
	`´štf
("%s\n", 
´og
->
·¿ms
[
i
]);

3454 
	}
}

3458 
PlutoM©rix
 *
	$¶uto_g‘_Ãw_acûss_func
(cÚ¡ 
Stmt
 *
¡mt
,

3459 cÚ¡ 
PlutoM©rix
 *
acc
, **
divs
)

3461 
PlutoM©rix
 *
»m­
, *
Ãwacc
;

3462 
r
, 
c
, 
Å¬
, *
»m­_divs
;

3464 
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

3465 *
divs
 = 
	`m®loc
(()*
acc
->
Äows
);

3473 
»m­
 = 
	`¶uto_¡mt_g‘_»m­pšg
(
¡mt
, &
»m­_divs
);

3478 
_lcm
 = 1;

3479 
r
=0;„<
»m­
->
Äows
;„++) {

3480 
	`as£¹
(
»m­_divs
[
r
] != 0);

3481 
_lcm
 = 
	`lcm
(_lcm,
»m­_divs
[
r
]);

3483 
r
=0;„<
»m­
->
Äows
;„++) {

3484 
c
=0; c<
»m­
->
ncŞs
; c++) {

3485 
»m­
->
v®
[
r
][
c
] = (»m­->v®[r][c]*
_lcm
)/
»m­_divs
[r];

3489 
Ãwacc
 = 
	`¶uto_m©rix_´oduù
(
acc
, 
»m­
);

3496 
r
=0;„<
Ãwacc
->
Äows
;„++) {

3497 (*
divs
)[
r
] = 
_lcm
;

3503 
	`as£¹
(
Ãwacc
->
ncŞs
 = 
¡mt
->
Œªs
->
Äows
+
Å¬
+1);

3505 
	`¶uto_m©rix_ä“
(
»m­
);

3506 
	`ä“
(
»m­_divs
);

3508  
Ãwacc
;

3509 
	}
}

3513 
	$¶uto_£·¿‹_¡mts
(
PlutoProg
 *
´og
, 
Stmt
 **
¡mts
, 
num
, 
Ëv–
, 
off£t
)

3515 
i
, 
n¡mts
, 
k
;

3517 
n¡mts
 = 
´og
->nstmts;

3520 
i
=0; i<
n¡mts
; i++) {

3521 
	`¶uto_¡mt_add_hy³½ÏÃ
(
´og
->
¡mts
[
i
], 
H_SCALAR
, 
Ëv–
);

3524 
k
=0; k<
num
; k++) {

3525 
¡mts
[
k
]->
Œªs
->
v®
[
Ëv–
][¡mts[k]->Œªs->
ncŞs
-1] = 
off£t
+1+k;

3528 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
, 
Ëv–
, 
H_SCALAR
);

3529 
´og
->
hPrİs
[
Ëv–
].
d•_´İ
 = 
SEQ
;

3530 
	}
}

3535 
	$¶uto_£·¿‹_¡mt
(
PlutoProg
 *
´og
, cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
)

3537 
i
, 
n¡mts
;

3539 
n¡mts
 = 
´og
->nstmts;

3542 
i
=0; i<
n¡mts
; i++) {

3543 
	`¶uto_¡mt_add_hy³½ÏÃ
(
´og
->
¡mts
[
i
], 
H_SCALAR
, 
Ëv–
);

3546 
¡mt
->
Œªs
->
v®
[
Ëv–
][¡mt->Œªs->
ncŞs
-1] = 1;

3548 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
, 
Ëv–
, 
H_SCALAR
);

3549 
´og
->
hPrİs
[
Ëv–
].
d•_´İ
 = 
SEQ
;

3550 
	}
}

3552 
	$¶uto_¡mt_is_memb”_of
(
¡mt_id
, 
Stmt
 **
¦i¡
, 
Ën
)

3554 
i
;

3555 
i
=0; i<
Ën
; i++) {

3556 ià(
¡mt_id
 =ğ
¦i¡
[
i
]->
id
)  1;

3559 
	}
}

3562 
	$¶uto_¡mt_is_sub£t_of
(
Stmt
 **
s1
, 
n1
, Stmˆ**
s2
, 
n2
)

3564 
i
;

3566 
i
=0; i<
n1
; i++) {

3567 ià(!
	`¶uto_¡mt_is_memb”_of
(
s1
[
i
]->
id
, 
s2
, 
n2
))  0;

3571 
	}
}

3575 
	$add_if_Ãw_v¬
(
PlutoAcûss
 ***
accs
, *
num
, PlutoAcûs *
Ãw
)

3577 
i
;

3579 
i
=0; i<*
num
; i++) {

3580 ià(!
	`¡rcmp
((*
accs
)[
i
]->
Çme
, 
Ãw
->name)) {

3585 ià(
i
==*
num
) {

3586 *
accs
 = 
	`»®loc
(*accs, (*
num
+1)*(
PlutoAcûss
 *));

3587 (*
accs
)[*
num
] = 
Ãw
;

3588 (*
num
)++;

3590 
	}
}

3594 
PlutoAcûss
 **
	$¶uto_g‘_®l_waccs
(cÚ¡ 
PlutoProg
 *
´og
, *
num
)

3596 
i
;

3598 
PlutoAcûss
 **
accs
 = 
NULL
;

3599 *
num
 = 0;

3601 
i
=0; i<
´og
->
n¡mts
; i++) {

3602 
	`as£¹
(
´og
->
¡mts
[
i
]->
nwr™es
 == 1);

3603 
	`add_if_Ãw_v¬
(&
accs
, 
num
, 
´og
->
¡mts
[
i
]->
wr™es
[0]);

3605  
accs
;

3606 
	}
}

3609 
	$¶uto_g‘_max_šd_hyps_nÚ_sÿÏr
(cÚ¡ 
PlutoProg
 *
´og
)

3611 
max
, 
i
;

3613 
max
 = 0;

3615 
i
=0; i<
´og
->
n¡mts
; i++) {

3616 
max
 = 
	`PLMAX
(max, 
	`¶uto_¡mt_g‘_num_šd_hyps_nÚ_sÿÏr
(
´og
->
¡mts
[
i
]));

3619  
max
;

3620 
	}
}

3626 
	$¶uto_g‘_max_šd_hyps
(cÚ¡ 
PlutoProg
 *
´og
)

3628 
max
, 
i
;

3630 
max
 = 0;

3632 
i
=0; i<
´og
->
n¡mts
; i++) {

3633 
max
 = 
	`PLMAX
(max, 
	`¶uto_¡mt_g‘_num_šd_hyps
(
´og
->
¡mts
[
i
]));

3636  
max
;

3637 
	}
}

3639 
	$¶uto_¡mt_g‘_num_šd_hyps_nÚ_sÿÏr
(cÚ¡ 
Stmt
 *
¡mt
)

3641 
isŞs
, 
i
,
j
=0;

3643 
PlutoM©rix
 *
rime
 = 
	`¶uto_m©rix_dup
(
¡mt
->
Œªs
);

3646 
i
=
¡mt
->
dim_Üig
; i<¡mt->
Œªs
->
ncŞs
; i++) {

3647 
	`¶uto_m©rix_»move_cŞ
(
rime
, 
¡mt
->
dim_Üig
);

3649 
i
=0; i<
¡mt
->
Œªs
->
Äows
; i++) {

3650 ià(
¡mt
->
hyp_ty³s
[
i
]==
H_SCALAR
) {

3651 
	`¶uto_m©rix_»move_row
(
rime
, 
i
-
j
);

3652 
j
++;

3656 
isŞs
 = 
	`¶uto_m©rix_g‘_¿nk
(
rime
);

3657 
	`¶uto_m©rix_ä“
(
rime
);

3659  
isŞs
;

3660 
	}
}

3662 
	$¶uto_¡mt_g‘_num_šd_hyps
(cÚ¡ 
Stmt
 *
¡mt
)

3664 
isŞs
, 
i
;

3666 
PlutoM©rix
 *
rime
 = 
	`¶uto_m©rix_dup
(
¡mt
->
Œªs
);

3669 
i
=
¡mt
->
dim_Üig
; i<¡mt->
Œªs
->
ncŞs
; i++) {

3670 
	`¶uto_m©rix_»move_cŞ
(
rime
, 
¡mt
->
dim_Üig
);

3673 
isŞs
 = 
	`¶uto_m©rix_g‘_¿nk
(
rime
);

3674 
	`¶uto_m©rix_ä“
(
rime
);

3676  
isŞs
;

3677 
	}
}

3682 
	$¶uto_ŒªsfÜm©iÚs_fuÎ_¿nked
(
PlutoProg
 *
´og
)

3684 
i
;

3686 
i
=0; i<
´og
->
n¡mts
; i++) {

3687 ià(
	`¶uto_¡mt_g‘_num_šd_hyps
(
´og
->
¡mts
[
i
]è<…rog->¡mts[i]->
dim_Üig
) {

3693 
	}
}

3695 
o¦_»ÏtiÚ_p
 
	$g‘_id’t™y_scheduË
(
dim
, 
Å¬
)

3698 
i
, 
j
;

3699 
o¦_»ÏtiÚ_p
 
¾n
 = 
	`o¦_»ÏtiÚ_pm®loc
(
PLUTO_OSL_PRECISION
, 2*
dim
 + 1,

3700 
dim
+
Å¬
+1+1);

3703 
i
=0; i < 
¾n
->
nb_rows
; i++){

3704 
	`o¦_št_£t_si
(
¾n
->
´ecisiÚ
, &¾n->
m
[
i
][0], 0);

3705 
j
=0; j < 
¾n
->
nb_cŞumns
; j++){

3706 
	`o¦_št_£t_si
(
¾n
->
´ecisiÚ
, &¾n->
m
[
i
][
j
], 0);

3710 
i
=1; i < 
dim
 ; i++){

3711 
	`o¦_št_£t_si
(
¾n
->
´ecisiÚ
, &¾n->
m
[2*
i
-1][i], 1);

3714 
¾n
->
ty³
 = 
OSL_TYPE_SCATTERING
;

3715 
¾n
->
nb_·¿m‘”s
 = 
Å¬
;

3716 
¾n
->
nb_ouut_dims
 = 
dim
;

3717 
¾n
->
nb_šput_dims
 = 0;

3718 
¾n
->
nb_loÿl_dims
 = 0;

3720  
¾n
;

3721 
	}
}

3723 
	$»ad_codeg’_cÚ‹xt_äom_fe
(
PlutoCÚ¡¿šts
 *
codeg’_cÚ‹xt
)

3725 
FILE
 *
å
 = 
	`fİ’
("codegen.context", "r");

3727 ià(
å
) {

3728 
	`IF_DEBUG
(
	`´štf
("[Pluto] Reading from codegen.context\n"););

3729 
PlutoCÚ¡¿šts
 *
cc
 = 
	`¶uto_cÚ¡¿šts_»ad
(
å
);

3730 ià(
cc
 && cc->
ncŞs
 =ğ
codeg’_cÚ‹xt
->ncols) {

3731 
	`¶uto_cÚ¡¿šts_add
(
codeg’_cÚ‹xt
, 
cc
);

3734 
	`IF_DEBUG
(
	`´štf
("[WARNING] Failedo„ead from codegen.context\n"););

3738 
	}
}

3743 
Stmt
 *
	$¶uto_¡mt_dup
(cÚ¡ 
Stmt
 *
¡mt
)

3745 
i
;

3747 
Stmt
 *
n¡mt
 = 
	`¶uto_¡mt_®loc
(
¡mt
->
dim
, stmt->
domaš
, stmt->
Œªs
);

3749 
n¡mt
->
dim_Üig
 = 
¡mt
->dim_orig;

3750 
n¡mt
->
ty³
 = 
¡mt
->type;

3752 
n¡mt
->
id
 = 
¡mt
->id;

3754 
i
=0; i<
¡mt
->
dim
; i++) {

3755 
n¡mt
->
™”©Üs
[
i
] = 
	`¡rdup
(
¡mt
->iterators[i]);

3756 
n¡mt
->
is_Üig_loİ
[
i
] = 
¡mt
->is_orig_loop[i];

3758 ià(
¡mt
->
‹xt
è
n¡mt
->‹xˆğ
	`¡rdup
(stmt->text);

3760 
i
=0; i<
¡mt
->
Œªs
->
Äows
; i++) {

3761 
n¡mt
->
hyp_ty³s
[
i
] = 
¡mt
->hyp_types[i];

3764 
n¡mt
->
num_ted_loİs
 = 
¡mt
->num_tiled_loops;

3766 
n¡mt
->
Ä—ds
 = 
¡mt
->nreads;

3767 
n¡mt
->
nwr™es
 = 
¡mt
->nwrites;

3769 
n¡mt
->
»ads
 = 
	`m®loc
Ò¡mt->
Ä—ds
*(
PlutoAcûss
 *));

3770 
n¡mt
->
wr™es
 = 
	`m®loc
Ò¡mt->
nwr™es
*(
PlutoAcûss
 *));

3772 
i
=0; i<
¡mt
->
Ä—ds
; i++) {

3773 
n¡mt
->
»ads
[
i
] = 
	`¶uto_acûss_dup
(
¡mt
->reads[i]);

3776 
i
=0; i<
¡mt
->
nwr™es
; i++) {

3777 
n¡mt
->
wr™es
[
i
] = 
	`¶uto_acûss_dup
(
¡mt
->writes[i]);

3780  
n¡mt
;

3781 
	}
}

3783 
	$deüem’t_¡mt_id
(
PlutoProg
 *
´og
, 
id
)

3785 
i
;

3787 
´og
->
¡mts
[
id
]->id--;

3789 
i
=0; i<
´og
->
nd•s
; i++) {

3790 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

3791 ià(
d•
->
¤c
 =ğ
id
) {

3792 
d•
->
¤c
--;

3794 ià(
d•
->
de¡
 =ğ
id
) {

3795 
d•
->
de¡
--;

3798 
	}
}

3802 
	$¶uto_»move_¡mt
(
PlutoProg
 *
´og
, 
¡mt_id
)

3804 
i
;

3806 
	`¶uto_¡mt_ä“
(
´og
->
¡mts
[
¡mt_id
]);

3808 
i
=
¡mt_id
; i<
´og
->
n¡mts
-1; i++) {

3809 
´og
->
¡mts
[
i
] =…rog->stmts[i+1];

3810 
	`deüem’t_¡mt_id
(
´og
,…rog->
¡mts
[
i
]->
id
);

3813 
´og
->
n¡mts
--;

3815 
´og
->
¡mts
 = (
Stmt
 **è
	`»®loc
Õrog->¡mts, (Õrog->
n¡mts
)*(Stmt *)));

3817 
i
=0; i<
´og
->
n¡mts
; i++) {

3818 
´og
->
nv¬
 = 
	`PLMAX
Õrog->nv¬,…rog->
¡mts
[
i
]->
dim
);

3820 
	}
}

3822 
	$¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(cÚ¡ 
PlutoProg
 *
´og
)

3824 
n¡mts
, 
i
;

3826 
n¡mts
 = 
´og
->nstmts;

3828 
i
=0; i<
n¡mts
; i++) {

3829 
	`¶uto_¡mt_ŒªsfÜm©iÚ_´št
(
´og
->
¡mts
[
i
]);

3831 
	}
}

3833 
	$¶uto_ŒªsfÜm©iÚ_´št_Ëv–
(cÚ¡ 
PlutoProg
 *
´og
, 
Ëv–
)

3835 
n¡mts
, 
i
;

3837 
n¡mts
 = 
´og
->nstmts;

3839 
i
=0; i<
n¡mts
; i++) {

3840 
	`årštf
(
¡dout
, "h(S%dèğ", 
i
+1);

3841 
	`¶uto_¡mt_´št_hy³½ÏÃ
(
¡dout
, 
´og
->
¡mts
[
i
], 
Ëv–
);

3842 ià(
i
 < 
n¡mts
-1è
	`årštf
(
¡dout
, ", ");

3844 
	`´štf
("\n");

3845 
	}
}

3848 
	$¶uto_´št_hy³½ÏÃ_´İ”t›s
(cÚ¡ 
PlutoProg
 *
´og
)

3850 
j
, 
numH
;

3851 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
;

3853 
hPrİs
 = 
´og
->hProps;

3854 
numH
 = 
´og
->
num_hy³½ÏÃs
;

3856 ià(
numH
 == 0) {

3857 
	`årštf
(
¡dout
, "No hyperplanes\n");

3862 
j
=0; j<
numH
; j++) {

3863 
	`årštf
(
¡dout
, "t%d --> ", 
j
+1);

3864 
hPrİs
[
j
].
d•_´İ
) {

3865 
PARALLEL
:

3866 
	`årštf
(
¡dout
, "parallel ");

3868 
SEQ
:

3869 
	`årštf
(
¡dout
, "serial ");

3871 
PIPE_PARALLEL
:

3872 
	`årštf
(
¡dout
, "fwd_dep ");

3875 
	`årštf
(
¡dout
, "unknown ");

3878 
hPrİs
[
j
].
ty³
) {

3879 
H_LOOP
:

3880 
	`årštf
(
¡dout
, "loop ");

3882 
H_SCALAR
:

3883 
	`årštf
(
¡dout
, "scalar");

3885 
H_TILE_SPACE_LOOP
:

3886 
	`årštf
(
¡dout
, "tLoop ");

3889 
	`årštf
(
¡dout
, "unknown ");

3893 
	`årštf
(
¡dout
, " (bªd %d)", 
hPrİs
[
j
].
bªd_num
);

3894 
	`årštf
(
¡dout
, 
hPrİs
[
j
].
uÄŞl
? "ujam":"no-ujam");

3895 
	`årštf
(
¡dout
, "\n");

3897 
	`årštf
(
¡dout
, "\n");

3898 
	}
}

3902 
	$¶uto_ŒªsfÜm©iÚs_´št
(cÚ¡ 
PlutoProg
 *
´og
)

3904 
i
;

3906 
i
=0; i<
´og
->
n¡mts
; i++) {

3907 
	`´štf
("T_(S%dè\n", 
´og
->
¡mts
[
i
]->
id
+1);

3908 
	`¶uto_m©rix_´št
(
¡dout
, 
´og
->
¡mts
[
i
]->
Œªs
);

3910 
	}
}

3913 
	$¶uto_¡mt_ŒªsfÜm©iÚ_´št
(cÚ¡ 
Stmt
 *
¡mt
)

3915 
	`årštf
(
¡dout
, "T(S%d): ", 
¡mt
->
id
+1);

3916 
Ëv–
;

3917 
	`´štf
("(");

3918 
Ëv–
=0;†ev–<
¡mt
->
Œªs
->
Äows
;†evel++) {

3919 
	`¶uto_¡mt_´št_hy³½ÏÃ
(
¡dout
, 
¡mt
, 
Ëv–
);

3920 ià(
Ëv–
 <ğ
¡mt
->
Œªs
->
Äows
-2è
	`´štf
(", ");

3922 
	`´štf
(")\n");

3924 
	`´štf
("loopypes (");

3925 
Ëv–
=0;†ev–<
¡mt
->
Œªs
->
Äows
;†evel++) {

3926 ià(
Ëv–
 > 0è
	`´štf
(", ");

3927 ià(
¡mt
->
hyp_ty³s
[
Ëv–
] =ğ
H_SCALAR
è
	`´štf
("scalar");

3928 ià(
¡mt
->
hyp_ty³s
[
Ëv–
] =ğ
H_LOOP
è
	`´štf
("loop");

3929 ià(
¡mt
->
hyp_ty³s
[
Ëv–
] =ğ
H_TILE_SPACE_LOOP
è
	`´štf
("tloop");

3930 
	`´štf
("unknown");

3932 
	`´štf
(")\n\n");

3933 
	}
}

	@program.h

20 #iâdeà
_PROGRAM_H


22 
	~"¶uto.h
"

23 
	~"cÚ¡¿šts.h
"

25 
	~"şª/şª.h
"

26 
	~"ÿndl/ÿndl.h
"

28 
	~"o¦/scİ.h
"

30 
Stmt
 *
¶uto_¡mt_®loc
(
dim
, cÚ¡ 
PlutoCÚ¡¿šts
 *
domaš
, cÚ¡ 
PlutoM©rix
 *
m©
);

31 
¶uto_¡mt_ä“
(
Stmt
 *
¡mt
);

32 
Stmt
 *
¶uto_¡mt_dup
(cÚ¡ Stmˆ*
¤c
);

34 
¶uto_¡mts_´št
(
FILE
 *
å
, 
Stmt
 **, );

35 
¶uto_¡mt_´št
(
FILE
 *
å
, cÚ¡ 
Stmt
 *
¡mt
);

36 
¶uto_´og_´št
(
FILE
 *
å
, 
PlutoProg
 *
´og
);

38 
D•
 *
¶uto_d•_®loc
();

39 
¶uto_d•_´št
(
FILE
 *
å
, cÚ¡ 
D•
 *
d•
);

40 
¶uto_d•s_´št
(
FILE
 *, 
PlutoProg
 *
´og
);

42 
PlutoProg
 *
¶uto_´og_®loc
();

43 
¶uto_´og_ä“
(
PlutoProg
 *
´og
);

44 
PlutoProg
 *
scİ_to_¶uto_´og
(
o¦_scİ_p
 
scİ
, 
PlutoO±iÚs
 *
İtiÚs
);

46 
g‘_cÛff_uµ”_bound
(
PlutoProg
 *
´og
);

48 
¶uto_´og_add_·¿m
(
PlutoProg
 *
´og
, cÚ¡ *
·¿m
, 
pos
);

49 
¶uto_add_¡mt
(
PlutoProg
 *
´og
,

50 cÚ¡ 
PlutoCÚ¡¿šts
 *
domaš
,

51 cÚ¡ 
PlutoM©rix
 *
Œªs
,

52 ** 
™”©Üs
,

53 cÚ¡ *
‹xt
,

54 
PlutoStmtTy³
 
ty³


57 
¶uto_add_¡mt_to_’d
(
PlutoProg
 *
´og
,

58 cÚ¡ 
PlutoCÚ¡¿šts
 *
domaš
,

59 **
™”©Üs
,

60 cÚ¡ *
‹xt
,

61 
Ëv–
,

62 
PlutoStmtTy³
 
ty³


65 
¶uto_¡mt_add_dim
(
Stmt
 *
¡mt
, 
pos
, 
time_pos
, cÚ¡ *
™”
,

66 
PlutoHypTy³
 
ty³
, 
PlutoProg
 *
´og
);

67 
¶uto_¡mt_»move_dim
(
Stmt
 *
¡mt
, 
pos
, 
PlutoProg
 *
´og
);

68 
¶uto_´og_add_hy³½ÏÃ
(
PlutoProg
 *
´og
, 
pos
, 
PlutoHypTy³
 
ty³
);

70 
g‘_cÚ¡_bound_difã»nû
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
d•th
);

71 
PlutoM©rix
 *
g‘_®pha
(cÚ¡ 
Stmt
 *
¡mt
, cÚ¡ 
PlutoProg
 *
´og
);

72 
PlutoM©rix
 *
¶uto_¡mt_g‘_»m­pšg
(cÚ¡ 
Stmt
 *
¡mt
, **
¡rides
);

74 
g‘_·¿m‘ric_ex‹Á
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
pos
,

75 
Å¬
, cÚ¡ **
·¿ms
, **
ex‹Á
);

77 
g‘_·¿m‘ric_ex‹Á_cÚ¡
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
pos
,

78 
Å¬
, cÚ¡ **
·¿ms
, **
ex‹Á
);

80 *
g‘_·¿m‘ric_boundšg_box
(cÚ¡ 
PlutoCÚ¡¿šts
 *
c¡
, 
¡¬t
,

81 
num
, 
Å¬
, cÚ¡ **
·¿ms
);

83 
¶uto_£·¿‹_¡mt
(
PlutoProg
 *
´og
, cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
);

84 
¶uto_£·¿‹_¡mts
(
PlutoProg
 *
´og
, 
Stmt
 **
¡mts
, 
num
, 
Ëv–
, 
off£t
);

86 
¶uto_is_hy³½ÏÃ_sÿÏr
(cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
);

87 
¶uto_¡mt_is_memb”_of
(
¡mt_id
, 
Stmt
 **
¦i¡
, 
Ën
);

88 
PlutoAcûss
 **
¶uto_g‘_®l_waccs
(cÚ¡ 
PlutoProg
 *
´og
, *
num
);

89 
¶uto_¡mt_is_sub£t_of
(
Stmt
 **
s1
, 
n1
, Stmˆ**
s2
, 
n2
);

90 
¶uto_¡mt_add_hy³½ÏÃ
(
Stmt
 *
¡mt
, 
PlutoHypTy³
 
ty³
, 
pos
);

91 
PlutoM©rix
 *
¶uto_g‘_Ãw_acûss_func
(cÚ¡ 
Stmt
 *
¡mt
, cÚ¡ PlutoM©rix *
acc
, **
divs
);

94 
exŒaù_d•s
(
D•
 **
d•s
, 
fœ¡
, 
Stmt
 **
¡mts
,

95 
__i¦_k“p
 
i¦_uniÚ_m­
 *
um­
, 
ty³
);

96 
i¦_m­_couÁ
(
__i¦_ke
 
i¦_m­
 *
m­
, *
u£r
);

98 
¶uto_g‘_max_šd_hyps
(cÚ¡ 
PlutoProg
 *
´og
);

99 
¶uto_g‘_max_šd_hyps_nÚ_sÿÏr
(cÚ¡ 
PlutoProg
 *
´og
);

100 
¶uto_¡mt_g‘_num_šd_hyps
(cÚ¡ 
Stmt
 *
¡mt
);

101 
¶uto_¡mt_g‘_num_šd_hyps_nÚ_sÿÏr
(cÚ¡ 
Stmt
 *
¡mt
);

102 
¶uto_ŒªsfÜm©iÚs_fuÎ_¿nked
(
PlutoProg
 *
´og
);

103 
¶uto_·d_¡mt_ŒªsfÜm©iÚs
(
PlutoProg
 *
´og
);

105 
¶uto_pİuÏ‹_scİ
 (
o¦_scİ_p
 
scİ
, 
PlutoProg
 *
´og
,

106 
PlutoO±iÚs
 *
İtiÚs
);

108 
¶uto_acûss_´št
(
FILE
 *
å
, cÚ¡ 
PlutoAcûss
 *
acc
, cÚ¡ 
Stmt
 *
¡mt
);

109 
¶uto_ŒªsfÜm©iÚs_´št
(cÚ¡ 
PlutoProg
 *
´og
);

110 
¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(cÚ¡ 
PlutoProg
 *
´og
);

111 
¶uto_´št_hy³½ÏÃ_´İ”t›s
(cÚ¡ 
PlutoProg
 *
´og
);

112 
¶uto_¡mt_ŒªsfÜm©iÚ_´št
(cÚ¡ 
Stmt
 *
¡mt
);

113 
št64
 *
¶uto_check_su³ºode
(cÚ¡ 
Stmt
 *
¡mt
, 
pos
, *
te_size
);

114 
¶uto_¡mt_´št_hy³½ÏÃ
(
FILE
 *
å
, cÚ¡ 
Stmt
 *
¡mt
, 
Ëv–
);

115 
¶uto_ŒªsfÜm©iÚ_´št_Ëv–
(cÚ¡ 
PlutoProg
 *
´og
, 
Ëv–
);

117 
Stmt
 *
¶uto_¡mt_dup
(cÚ¡ Stmˆ*
¡mt
);

118 
PlutoAcûss
 *
¶uto_acûss_dup
(cÚ¡ PlutoAcûs *
acc
);

119 
¶uto_d•_ä“
(
D•
 *
d•
);

120 
D•
 *
¶uto_d•_dup
(D• *
d
);

121 
¶uto_»move_¡mt
(
PlutoProg
 *
´og
, 
¡mt_id
);

123 
¶uto_´og_g‘_Ïrge¡_cÚ¡_š_domašs
(cÚ¡ 
PlutoProg
 *
´og
);

	@test_libpluto.c

1 
	~"¶uto/lib¶uto.h
"

2 
	~"i¦/uniÚ_£t.h
"

3 
	~"i¦/uniÚ_m­.h
"

5 
PlutoO±iÚs
 *
	gİtiÚs
;

10 
	$‹¡2
()

12 
	`´štf
("\n\n*** TEST CASE 2 ***\n\n");

13 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

14 
i¦_uniÚ_£t
 *
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
,

16 
i¦_uniÚ_m­
 *
d•s
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
, "[p_0,…_1,…_2,…_3,…_4,…_5,…_7] -> { S_0[i0] -> S_1[o0, o1] : (exists (e0 = [(p_7)/8]: 8o1 = -p_5 +…_7 + 8192i0 - 8192o0‡nd 8e0 =…_7‡nd i0 >= 0‡nd o0 <=…_0‡nd 8192o0 >= -8p_3 -…_5 +…_7 + 8192i0‡nd 8192o0 <= -p_5 +…_7 + 8192i0‡nd…_2 >= 0‡nd o0 >= 1 + i0)); S_1[i0, i1] -> S_0[o0] : (exists (e0 = [(p_1)/8],ƒ1 = [(p_4)/8],ƒ2 = [(-p_1 +…_7)/8184]: 8192o0 =…_5 -…_7 + 8192i0 + 8i1‡nd 8e0 =…_1‡nd 8e1 =…_4‡nd 8184e2 = -p_1 +…_7‡nd i1 >= 0‡nd 8i1 <= 8192p_0 -…_5 +…_7 - 8192i0‡nd 8184i1 >= 1024 + 1024p_1 - 1023p_5 -…_7 - 8380416i0‡nd…_2 >= 0‡nd…_7 <= -1 +…_5‡nd 8i1 >= 1 + 8p_3 +…_4 -…_5 - 8192i0‡nd i1 <=…_3‡nd i0 >= 0‡nd 8i1 >= 8192 -…_5 +…_7))}");

18 
i¦_uniÚ_m­
 *
scheduË
 = 
	`¶uto_scheduË
(
domašs
, 
d•s
, 
NULL
, NULL, 
İtiÚs
);

20 ià(
scheduË
) {

21 
i¦_´š‹r
 *
´š‹r
 = 
	`i¦_´š‹r_to_fe
(
ùx
, 
¡dout
);

22 
	`i¦_´š‹r_´št_uniÚ_m­
(
´š‹r
, 
scheduË
);

23 
	`´štf
("\n");

24 
	`i¦_´š‹r_ä“
(
´š‹r
);

27 
domašs
 = 
	`i¦_uniÚ_£t_­¶y
(domašs, 
scheduË
);

29 
	`´štf
("No schedule\n");

33 
	`i¦_uniÚ_£t_ä“
(
domašs
);

34 
	`i¦_uniÚ_m­_ä“
(
d•s
);

36 
	`i¦_ùx_ä“
(
ùx
);

37 
	}
}

39 
	$‹¡1
()

41 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

42 
i¦_uniÚ_£t
 *
domašs
;

43 
i¦_uniÚ_m­
 *
d•s
;

45 
	`´štf
("\n\n*** TEST CASE 1 ***\n\n");

47 
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
,

49 
d•s
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
, "[n] -> {S_1[i0, 99] -> S_0[1 + i0] : i0 >= 0‡nd i0 <= 98; S_1[i0, i1] -> S_1[i0, 1 + i1] : i0 >= 0‡nd i0 <= 99‡nd i1 >= 0‡nd i1 <= 98; S_1[i0, 99] -> S_1[1 + i0, 0] : i0 >= 0‡nd i0 <= 98; S_0[i0] -> S_1[i0, 0] : i0 >= 0‡nd i0 <= 99; S_2[i0] -> S_1[1 + i0, 0] : i0 >= 0‡nd i0 <= 98; S_0[i0] -> S_2[i0] : i0 >= 0‡nd i0 <= 99; S_1[i0, 99] -> S_2[i0] : i0 >= 0‡nd i0 <= 99 }");

51 
i¦_uniÚ_m­
 *
scheduË
 = 
	`¶uto_scheduË
(
domašs
, 
d•s
, 
NULL
, NULL, 
İtiÚs
);

53 
i¦_´š‹r
 *
´š‹r
 = 
	`i¦_´š‹r_to_fe
(
ùx
, 
¡dout
);

54 
	`i¦_´š‹r_´št_uniÚ_m­
(
´š‹r
, 
scheduË
);

55 
	`´štf
("\n");

56 
	`i¦_´š‹r_ä“
(
´š‹r
);

59 
domašs
 = 
	`i¦_uniÚ_£t_­¶y
(domašs, 
scheduË
);

61 
	`i¦_uniÚ_£t_ä“
(
domašs
);

62 
	`i¦_uniÚ_m­_ä“
(
d•s
);

65 
	`i¦_ùx_ä“
(
ùx
);

66 
	}
}

71 
	$üash_Ãg©ive_d•_veùÜ
()

73 
	`´štf
("\n\n*** TEST CASE 4 ***\n\n");

75 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

77 
i¦_uniÚ_£t
 *
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
,

79 
i¦_uniÚ_m­
 *
d•s
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
,

86 
i¦_uniÚ_m­
 *
scheduË
 = 
	`¶uto_scheduË
(
domašs
, 
d•s
, 
NULL
, NULL, 
İtiÚs
);

88 
i¦_´š‹r
 *
´š‹r
 = 
	`i¦_´š‹r_to_fe
(
ùx
, 
¡dout
);

89 
	`i¦_´š‹r_´št_uniÚ_m­
(
´š‹r
, 
scheduË
);

90 
	`´štf
("\n");

93 
domašs
 = 
	`i¦_uniÚ_£t_­¶y
(domašs, 
scheduË
);

95 
	`i¦_uniÚ_£t_ä“
(
domašs
);

96 
	`i¦_uniÚ_m­_ä“
(
d•s
);

99 
	`i¦_ùx_ä“
(
ùx
);

101 
	}
}

109 
	$‹¡_dŸmÚd_tšg
()

111 
	`´štf
("\n\n*** TEST CASE 3 ***\n\n");

113 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

115 
i¦_uniÚ_£t
 *
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
,

117 
i¦_uniÚ_m­
 *
d•s
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
,

121 
i¦_uniÚ_m­
 *
scheduË
 = 
	`¶uto_scheduË
(
domašs
, 
d•s
, 
NULL
, NULL, 
İtiÚs
);

123 
i¦_´š‹r
 *
´š‹r
 = 
	`i¦_´š‹r_to_fe
(
ùx
, 
¡dout
);

124 
	`i¦_´š‹r_´št_uniÚ_m­
(
´š‹r
, 
scheduË
);

125 
	`´štf
("\n");

126 
	`i¦_´š‹r_ä“
(
´š‹r
);

129 
domašs
 = 
	`i¦_uniÚ_£t_­¶y
(domašs, 
scheduË
);

131 
	`i¦_uniÚ_£t_ä“
(
domašs
);

132 
	`i¦_uniÚ_m­_ä“
(
d•s
);

135 
	`i¦_ùx_ä“
(
ùx
);

136 
	}
}

139 
	$‹¡5
()

141 
	`´štf
("\n\n*** TEST CASE 5 ***\n\n");

142 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

143 
i¦_uniÚ_£t
 *
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
,

145 
i¦_uniÚ_m­
 *
d•s
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
,

150 
i¦_uniÚ_m­
 *
scheduË
 = 
	`¶uto_scheduË
(
domašs
, 
d•s
, 
NULL
, NULL, 
İtiÚs
);

152 
i¦_´š‹r
 *
´š‹r
 = 
	`i¦_´š‹r_to_fe
(
ùx
, 
¡dout
);

153 
	`i¦_´š‹r_´št_uniÚ_m­
(
´š‹r
, 
scheduË
);

154 
	`´štf
("\n");

155 
	`i¦_´š‹r_ä“
(
´š‹r
);

158 
domašs
 = 
	`i¦_uniÚ_£t_­¶y
(domašs, 
scheduË
);

160 
	`i¦_uniÚ_£t_ä“
(
domašs
);

161 
	`i¦_uniÚ_m­_ä“
(
d•s
);

164 
	`i¦_ùx_ä“
(
ùx
);

165 
	}
}

168 
	$‹¡6_dŸmÚd_tšg_w™h_sÿÏr_dim’siÚ
() {

169 
	`´štf
("\n\n*** TEST CASE 6\n\n");

170 
i¦_ùx
 *
ùx
 = 
	`i¦_ùx_®loc
();

171 
i¦_uniÚ_£t
 *
domašs
 = 
	`i¦_uniÚ_£t_»ad_äom_¡r
(
ùx
,

173 
i¦_uniÚ_m­
 *
d•s
 = 
	`i¦_uniÚ_m­_»ad_äom_¡r
(
ùx
,

178 
i¦_uniÚ_m­
 *
scheduË
 = 
	`¶uto_scheduË
(
domašs
, 
d•s
, 
NULL
, NULL, 
İtiÚs
);

180 
i¦_´š‹r
 *
´š‹r
 = 
	`i¦_´š‹r_to_fe
(
ùx
, 
¡dout
);

181 
	`i¦_´š‹r_´št_uniÚ_m­
(
´š‹r
, 
scheduË
);

182 
	`´štf
("\n");

183 
	`i¦_´š‹r_ä“
(
´š‹r
);

186 
domašs
 = 
	`i¦_uniÚ_£t_­¶y
(domašs, 
scheduË
);

188 
	`i¦_uniÚ_£t_ä“
(
domašs
);

189 
	`i¦_uniÚ_m­_ä“
(
d•s
);

192 
	`i¦_ùx_ä“
(
ùx
);

193 
	}
}

194 
	$maš
()

196 
İtiÚs
 = 
	`¶uto_İtiÚs_®loc
();

197 
İtiÚs
->
te
 = 1;

198 
İtiÚs
->
·¿Î–
 = 1;

199 
İtiÚs
->
debug
 = 0;

200 
İtiÚs
->
mÜedebug
 = 0;

201 
İtiÚs
->
i¦sŞve
 = 1;

202 
İtiÚs
->
·¹lbte
 = 1;

203 
İtiÚs
->
lbte
 = 1;

205 
	`‹¡1
();

206 
	`‹¡2
();

207 
	`‹¡_dŸmÚd_tšg
();

208 
	`üash_Ãg©ive_d•_veùÜ
();

209 
	`‹¡5
();

210 
	`‹¡6_dŸmÚd_tšg_w™h_sÿÏr_dim’siÚ
();

212 
	`¶uto_İtiÚs_ä“
(
İtiÚs
);

213 
	}
}

	@tile.c

22 
	~<¡dio.h
>

23 
	~<as£¹.h
>

24 
	~<¡ršg.h
>

26 
	~"¶uto.h
"

27 
	~"cÚ¡¿šts.h
"

28 
	~"po¡_ŒªsfÜm.h
"

29 
	~"´og¿m.h
"

30 
	~"ŒªsfÜms.h
"

33 
	$»ad_te_sizes
(*
te_sizes
, *
l2_te_size_¿tios
,

34 
num_te_dims
, 
Stmt
 **
¡mts
, 
n¡mts
, 
fœ¡Loİ
,

35 *
auto_te_size
)

37 
i
, 
j
, 
k
;

39 
FILE
 *
tsfe
 = 
	`fİ’
("tile.sizes", "r");

41 ià(!
tsfe
 && !
auto_te_size
)  0;

43 ià(!
auto_te_size
) {

44 
	`IF_DEBUG
(
	`´štf
("[¶uto] R—dšg %dsizes\n", 
num_te_dims
););

47 ià(
İtiÚs
->
á
 >ğ0 && o±iÚs->
É
 >= 0) {

48 
num_te_dims
 = 
İtiÚs
->
É
 - o±iÚs->
á
 + 1;

51 ià(
auto_te_size
) {

52 
i
=0, 
k
=0; i < 
num_te_dims
; i++) {

53 
j
=0; j<
n¡mts
; j++) {

54 ià(
	`¶uto_is_hy³½ÏÃ_loİ
(
¡mts
[
j
], 
fœ¡Loİ
+
i
)) ;

56 
loİ
 = (
j
<
n¡mts
);

57 ià(
loİ
) {

58 
te_sizes
[
i
] = 
auto_te_size
[
k
++];

61 
te_sizes
[
i
] = 42;

64 } ià(
tsfe
) {

65 
i
=0, 
k
=0; i < 
num_te_dims
 && !
	`ãof
(
tsfe
); i++) {

66 
j
=0; j<
n¡mts
; j++) {

67 ià(
	`¶uto_is_hy³½ÏÃ_loİ
(
¡mts
[
j
], 
fœ¡Loİ
+
i
)) ;

69 
loİ
 = (
j
<
n¡mts
);

70 ià(
loİ
) {

71 
	`fsÿnf
(
tsfe
, "%d", &
te_sizes
[
i
]);

74 
te_sizes
[
i
] = 42;

80 ià(!
tsfe
)  0;

82 ià(
i
 < 
num_te_dims
) {

83 
	`´štf
("WARNING:‚otƒnoughile sizes…rovided\n");

84 
	`fşo£
(
tsfe
);

89 
i
=0;

90 
i
 < 
num_te_dims
 && !
	`ãof
(
tsfe
)) {

91 
	`fsÿnf
(
tsfe
, "%d", &
l2_te_size_¿tios
[
i
++]);

94 ià(
i
 < 
num_te_dims
) {

95 ià(
İtiÚs
->
l2te
è
	`´štf
("WARNING:‚otƒnough L2ile sizes…rovided; using default\n");

96 
i
=0; i<
num_te_dims
; i++) {

97 
l2_te_size_¿tios
[
i
] = 8;

101 
	`fşo£
(
tsfe
);

103 
	}
}

108 
	$¶uto_dŸmÚd_te_»scheduË
(
PlutoProg
 *
´og
)

110 
i
, 
j
, 
tmp
, 
»tv®
;

112 
»tv®
 = 0;

114 
i
=0; i<
´og
->
n¡mts
; i++){

115 ià(
´og
->
¡mts
[
i
]->
eviùed_hyp
) {

116 
eviùed_hyp_pos
 = 
´og
->
¡mts
[
i
]->evicted_hyp_pos;

117 
æ
 = 
´og
->
¡mts
[
i
]->
dim
 -…rog->¡mts[i]->
dim_Üig
;

118 
PlutoM©rix
 *
eviùed_hyp
 = 
´og
->
¡mts
[
i
]->evicted_hyp;

119 
	`as£¹
(
æ
 + 
eviùed_hyp
->
ncŞs
 =ğ
´og
->
¡mts
[
i
]->
Œªs
->ncols);

120 
j
=0; j<
eviùed_hyp
->
ncŞs
;j++) {

121 
tmp
 = 
eviùed_hyp
->
v®
[0][
j
];

122 
eviùed_hyp
->
v®
[0][
j
] = 
´og
->
¡mts
[
i
]->
Œªs
->v®[
æ
+
eviùed_hyp_pos
][fl+j];

123 
´og
->
¡mts
[
i
]->
Œªs
->
v®
[
æ
+
eviùed_hyp_pos
][æ+
j
] = 
tmp
;

125 
»tv®
 = 1;

129  
»tv®
;

131 
	}
}

136 
	$¶uto_te_bªd
(
PlutoProg
 *
´og
, 
Bªd
 *
bªd
, *
te_sizes
)

138 
j
, 
s
;

139 
d•th
, 
Å¬
;

141 
Å¬
 = 
´og
->npar;

143 
fœ¡D
 = 
bªd
->
loİ
->
d•th
;

144 
Ï¡D
 = 
bªd
->
loİ
->
d•th
+bªd->
width
-1;

146 
num_domaš_su³ºodes
[
bªd
->
loİ
->
n¡mts
];

148 
s
=0; s<
bªd
->
loİ
->
n¡mts
; s++) {

149 
num_domaš_su³ºodes
[
s
] = 0;

152 
d•th
=
fœ¡D
; d•th<=
Ï¡D
; depth++) {

153 
s
=0; s<
bªd
->
loİ
->
n¡mts
; s++) {

154 
Stmt
 *
¡mt
 = 
bªd
->
loİ
->
¡mts
[
s
];

159 
™”
[6];

160 
	`¥rštf
(
™”
, "zT%d", 
¡mt
->
dim
);

162 
hyp_ty³
 = (
¡mt
->
hyp_ty³s
[
d•th
 + d•th - 
fœ¡D
] =ğ
H_SCALAR
)? H_SCALAR:

163 
H_TILE_SPACE_LOOP
;

167 ià(
hyp_ty³
 !ğ
H_SCALAR
) {

168 
	`as£¹
(
te_sizes
[
d•th
-
fœ¡D
] >= 1);

171 
	`¶uto_¡mt_add_dim
(
¡mt
, 
num_domaš_su³ºodes
[
s
], 
d•th
, 
™”
, 
hyp_ty³
, 
´og
);

175 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
¡mt
->
domaš
);

177 
j
=
num_domaš_su³ºodes
[
s
]+1; j<
¡mt
->
dim
+
Å¬
; j++) {

178 
¡mt
->
domaš
->
v®
[¡mt->domaš->
Äows
-1][
j
] =

179 
¡mt
->
Œªs
->
v®
[
fœ¡D
+(
d•th
-fœ¡D)+1+(d•th-fœ¡D)][
j
];

182 
¡mt
->
domaš
->
v®
[¡mt->domaš->
Äows
-1][
num_domaš_su³ºodes
[
s
]] =

183 -
te_sizes
[
d•th
-
fœ¡D
];

185 
¡mt
->
domaš
->
v®
[¡mt->domaš->
Äows
-1][¡mt->domaš->
ncŞs
-1] =

186 
¡mt
->
Œªs
->
v®
[(
d•th
-
fœ¡D
)+1+d•th][¡mt->
dim
+
´og
->
Å¬
];

188 
PlutoCÚ¡¿šts
 *
lb
 = 
	`¶uto_cÚ¡¿šts_£Ëù_row
(
¡mt
->
domaš
,

189 
¡mt
->
domaš
->
Äows
-1);

190 
	`¶uto_upd©e_d•s
(
¡mt
, 
lb
, 
´og
);

191 
	`¶uto_cÚ¡¿šts_ä“
(
lb
);

194 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
¡mt
->
domaš
);

195 
j
=
num_domaš_su³ºodes
[
s
]+1; j<
¡mt
->
dim
+
Å¬
; j++) {

196 
¡mt
->
domaš
->
v®
[¡mt->domaš->
Äows
-1][
j
] =

197 -
¡mt
->
Œªs
->
v®
[
fœ¡D
+(
d•th
-fœ¡D)+1+(d•th-fœ¡D)][
j
];

200 
¡mt
->
domaš
->
v®
[¡mt->domaš->
Äows
-1][
num_domaš_su³ºodes
[
s
]]

201 ğ
te_sizes
[
d•th
-
fœ¡D
];

203 
¡mt
->
domaš
->
v®
[¡mt->domaš->
Äows
-1][¡mt->domaš->
ncŞs
-1] =

204 -
¡mt
->
Œªs
->
v®
[(
d•th
-
fœ¡D
)+1+d•th][¡mt->
dim
+
´og
->
Å¬
]

205 +
te_sizes
[
d•th
-
fœ¡D
]-1;

207 
PlutoCÚ¡¿šts
 *
ub
 = 
	`¶uto_cÚ¡¿šts_£Ëù_row
(
¡mt
->
domaš
,

208 
¡mt
->
domaš
->
Äows
-1);

209 
	`¶uto_upd©e_d•s
(
¡mt
, 
ub
, 
´og
);

210 
	`¶uto_cÚ¡¿šts_ä“
(
ub
);

212 
num_domaš_su³ºodes
[
s
]++;

225 
	`¶uto_¡mt_add_hy³½ÏÃ
(
¡mt
, 
H_SCALAR
, 
d•th
);

226 
j
=0; j<
¡mt
->
dim
+
Å¬
+1; j++) {

227 
¡mt
->
Œªs
->
v®
[
d•th
][
j
] =

228 
¡mt
->
Œªs
->
v®
[
fœ¡D
+(
d•th
-fœ¡D)+1+(d•th-fœ¡D)][
j
];

231 
¡mt
->
num_ted_loİs
++;

232 
¡mt
->
fœ¡_te_dim
 = 
fœ¡D
 ;

233 
¡mt
->
Ï¡_te_dim
 = 
Ï¡D
;

236 
	}
}

247 
	$¶uto_te
(
PlutoProg
 *
´og
, *
auto_te_size
)

249 
nbªds
, 
i
, 
j
, 
n_ibªds
, 
num_ted_Ëv–s
, 
Æoİs
;

250 
Bªd
 **
bªds
, **
ibªds
;

251 
bªds
 = 
	`¶uto_g‘_ou‹rmo¡_³rmubË_bªds
(
´og
, &
nbªds
);

252 
ibªds
 = 
	`¶uto_g‘_šÃrmo¡_³rmubË_bªds
(
´og
, &
n_ibªds
);

253 
	`IF_DEBUG
(
	`´štf
("[pluto_tile] Outermostilable bands\n"););

254 
	`IF_DEBUG
(
	`¶uto_bªds_´št
(
bªds
, 
nbªds
););

255 
	`IF_DEBUG
(
	`´štf
("[pluto_tile] Innermostilable bands\n"););

256 
	`IF_DEBUG
(
	`¶uto_bªds_´št
(
ibªds
, 
n_ibªds
););

258 
num_ted_Ëv–s
 = 0;

264 
Ploİ
 **
loİs
 = 
	`¶uto_g‘_·¿Î–_loİs
(
´og
, &
Æoİs
);

265 
i
=0; i<
Æoİs
; i++) {

266 ià(
	`¶uto_loİ_is_šÃrmo¡
(
loİs
[
i
], 
´og
)) {

267 
j
=0; j<
nbªds
; j++) {

268 ià(
	`is_loİ_domš©ed
(
loİs
[
i
], 
bªds
[
j
]->
loİ
, 
´og
)) ;

270 ià(
j
==
nbªds
) {

271 
bªds
 = 
	`»®loc
(bªds, (
nbªds
+1)*(
Bªd
 *));

272 
bªds
[
nbªds
++] = 
	`¶uto_bªd_®loc
(
loİs
[
i
], 1);

276 
	`¶uto_loİs_ä“
(
loİs
, 
Æoİs
);

279 ià(
İtiÚs
->
É
 >ğ0 && o±iÚs->
á
 >= 0) {

282 
	`as£¹
(
İtiÚs
->
á
 <ğ
´og
->
num_hy³½ÏÃs
-1);

283 
	`as£¹
(
İtiÚs
->
É
 <ğ
´og
->
num_hy³½ÏÃs
-1);

284 
	`as£¹
(
İtiÚs
->
á
 <ğİtiÚs->
É
);

287 
	`¶uto_te_sÿ‰”šg_dims
(
´og
, 
bªds
, 
nbªds
, 0, 
auto_te_size
);

288 
num_ted_Ëv–s
++;

290 ià(
İtiÚs
->
l2te
) {

291 
	`¶uto_te_sÿ‰”šg_dims
(
´og
, 
bªds
, 
nbªds
, 1, 
auto_te_size
);

292 
num_ted_Ëv–s
++;

296 
	`¶uto_te_sÿ‰”šg_dims
(
´og
, 
bªds
, 
nbªds
, 0, 
auto_te_size
);

297 
num_ted_Ëv–s
++;

298 ià(
İtiÚs
->
l2te
) {

300 
	`¶uto_te_sÿ‰”šg_dims
(
´og
, 
bªds
, 
nbªds
, 1, 
auto_te_size
);

301 
num_ted_Ëv–s
++;

307 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

308 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

310 ià(!
İtiÚs
->
s’t
) {

311 
	`årštf
(
¡dout
, "[Pluto] Afteriling:\n");

312 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

316 ià(
İtiÚs
->
lbte
) {

317 
»tv®
;

318 
»tv®
 = 
	`¶uto_dŸmÚd_te_»scheduË
(
´og
);

320 ià(
»tv®
) {

321 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

322 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

323 ià(!
İtiÚs
->
s’t
) {

324 
	`´štf
("[Pluto] After intra_tile„eschedule\n");

325 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

330 ià(
İtiÚs
->
šŒ©eİt
) {

331 
»tv®
 = 0;

332 
i
=0; i<
nbªds
; i++) {

333 
»tv®
 |ğ
	`¶uto_šŒa_te_İtimize_bªd
(
bªds
[
i
], 
num_ted_Ëv–s
, 
´og
);

335 ià(
»tv®
) {

336 
	`¶uto_compu‹_d•_dœeùiÚs
(
´og
);

337 
	`¶uto_compu‹_d•_§tisçùiÚ
(
´og
);

338 ià(!
İtiÚs
->
s’t
) {

339 
	`´štf
("[Pluto] After intra-tile optimize\n");

340 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

348 ià(
İtiÚs
->
´eveùÜ
) {

349 
»tv®
 = 0;

350 
i
=0; i<
nbªds
; i++) {

351 
num_tšg_Ëv–s
 = 
İtiÚs
->
te
 + o±iÚs->
l2te
;

352 
»tv®
 |ğ
	`¶uto_´e_veùÜize_bªd
(
bªds
[
i
], 
num_tšg_Ëv–s
, 
´og
);

354 ià(
»tv®
è
	`¶uto_d‘eù_ŒªsfÜm©iÚ_´İ”t›s
(
´og
);

355 ià(
»tv®
 && !
İtiÚs
->
s’t
) {

356 
	`´štf
("[Pluto] After…re-vectorize:\n");

357 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

358 
	`¶uto_´št_hy³½ÏÃ_´İ”t›s
(
´og
);

363 ià(
İtiÚs
->
·¿Î–
) {

364 
»tv®
 = 
	`¶uto_ü—‹_te_scheduË
(
´og
, 
bªds
, 
nbªds
);

365 ià(
»tv®
 && !
İtiÚs
->
s’t
) {

366 
	`´štf
("[Pluto] Afterile scheduling:\n");

367 
	`¶uto_ŒªsfÜm©iÚs_´‘ty_´št
(
´og
);

370 
	`¶uto_bªds_ä“
(
bªds
, 
nbªds
);

371 
	`¶uto_bªds_ä“
(
ibªds
, 
n_ibªds
);

372 
	}
}

375 
	$¶uto_te_sÿ‰”šg_dims
(
PlutoProg
 *
´og
, 
Bªd
 **
bªds
, 
nbªds
, 
l2
,

376 *
auto_te_size
)

378 
i
, 
j
, 
b
;

379 
d•th
;

380 
te_sizes
[
´og
->
num_hy³½ÏÃs
];

381 
l2_te_size_¿tios
[
´og
->
num_hy³½ÏÃs
];

383 
Stmt
 **
¡mts
 = 
´og
->stmts;

385 
j
=0; j<
´og
->
num_hy³½ÏÃs
; j++) {

386 
te_sizes
[
j
] = 
DEFAULT_L1_TILE_SIZE
;

392 
l2_te_size_¿tios
[
j
] = 8;

395 
b
=0; b<
nbªds
; b++) {

396 
	`»ad_te_sizes
(
te_sizes
, 
l2_te_size_¿tios
, 
bªds
[
b
]->
width
,

397 
bªds
[
b
]->
loİ
->
¡mts
, bªds[b]->loİ->
n¡mts
, bªds[b]->loİ->
d•th
,

398 
auto_te_size
);

400 ià(
l2
) {

401 
	`¶uto_te_bªd
(
´og
, 
bªds
[
b
], 
l2_te_size_¿tios
);

403 
	`¶uto_te_bªd
(
´og
, 
bªds
[
b
], 
te_sizes
);

407 
max
 = 0, 
cu¼
;

408 
i
=0; i<
´og
->
n¡mts
; i++) {

409 
max
 = 
	`PLMAX
(
¡mts
[
i
]->
Œªs
->
Äows
, max);

411 
i
=0; i<
´og
->
n¡mts
; i++) {

412 
cu¼
 = 
¡mts
[
i
]->
Œªs
->
Äows
;

413 
j
=
cu¼
; j < 
max
; j++) {

414 
	`¶uto_sšk_ŒªsfÜm©iÚ
(
¡mts
[
i
], stmts[i]->
Œªs
->
Äows
, 
´og
);

419 
cu¼
 = 
´og
->
num_hy³½ÏÃs
;

420 
d•th
=
cu¼
; d•th<
max
; depth++) {

421 
	`¶uto_´og_add_hy³½ÏÃ
(
´og
, 
d•th
, 
H_UNKNOWN
);

424 
	`¶uto_d‘eù_hy³½ÏÃ_ty³s
(
´og
);

425 
	`¶uto_d‘eù_hy³½ÏÃ_ty³s_¡mtwi£
(
´og
);

429 
	}
}

437 
boŞ
 
	$¶uto_ü—‹_te_scheduË_bªd
(
PlutoProg
 *
´og
, 
Bªd
 *
bªd
)

439 
i
, 
j
, 
k
, 
d•th
;

442 ià(
	`¶uto_loİ_is_·¿Î–
(
´og
, 
bªd
->
loİ
)è 
çl£
;

445 
loİ_d•ths
[
bªd
->
width
];

448 
Æoİs
;

450 
loİ_d•ths
[0] = 
bªd
->
loİ
->
d•th
;

451 
Æoİs
 = 1;

452 
d•th
=
bªd
->
loİ
->depth+1;

453 
d•th
 < 
bªd
->
loİ
->d•th + bªd->
width
; depth++) {

454 
j
=0; j<
bªd
->
loİ
->
n¡mts
; j++) {

455 ià(
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
bªd
->
loİ
->
¡mts
[
j
], 
d•th
))

458 ià(
j
==
bªd
->
loİ
->
n¡mts
) {

460 
loİ_d•ths
[
Æoİs
++] = 
d•th
;

464 ià(
Æoİs
 <= 1) {

467  
çl£
;

471 
n_dims
;

475 ià(
´og
->
İtiÚs
->
muÉ¬
) {

477 
n_dims
 = 
Æoİs
-1;

480 
n_dims
 = 1;

485 
fœ¡
 = 
bªd
->
loİ
->
d•th
;

487 ià(!
İtiÚs
->
šÃ½¬
) {

489 
i
=0; i<
bªd
->
loİ
->
n¡mts
; i++) {

490 
Stmt
 *
¡mt
 = 
bªd
->
loİ
->
¡mts
[
i
];

491 
k
=1; k<=
n_dims
; k++) {

492 
j
=0; j<
¡mt
->
Œªs
->
ncŞs
; j++) {

493 
¡mt
->
Œªs
->
v®
[
fœ¡
][
j
] +=

494 
¡mt
->
Œªs
->
v®
[
loİ_d•ths
[
k
]][
j
];

500 
	`IF_DEBUG
(
	`´štf
("[pluto_create_tile_schedule] Createdile schedule for "););

501 
	`IF_DEBUG
(
	`´štf
("t%dØt%d\n", 
fœ¡
+1, 
loİ_d•ths
[
n_dims
]+1));

507 
i
=0; i<
´og
->
nd•s
; i++) {

508 
D•
 *
d•
 = 
´og
->
d•s
[
i
];

510 ià(
	`IS_RAR
(
d•
->
ty³
)) ;

511 ià(
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
¤c
]->
id
,

512 
bªd
->
loİ
->
¡mts
, bªd->loİ->
n¡mts
)

513 && 
	`¶uto_¡mt_is_memb”_of
(
´og
->
¡mts
[
d•
->
de¡
]->
id
,

514 
bªd
->
loİ
->
¡mts
, bªd->loİ->
n¡mts
)) {

515 
k
=1; k<=
n_dims
; k++) {

516 
d•
->
§tvec
[
fœ¡
] |ğd•->§tvec[
loİ_d•ths
[
k
]];

517 
d•
->
§tvec
[
loİ_d•ths
[
k
]] = 0;

523  
Œue
;

524 
	}
}

527 
boŞ
 
	$¶uto_ü—‹_te_scheduË
(
PlutoProg
 *
´og
, 
Bªd
 **
bªds
, 
nbªds
)

529 
i
;

530 
boŞ
 
»tv®
 = 0;

532 
	`IF_DEBUG
(
	`´štf
("creatingile schedule for bands: \n"););

533 
	`IF_DEBUG
(
	`¶uto_bªds_´št
(
bªds
, 
nbªds
););

535 
i
=0; i<
nbªds
; i++) {

536 
»tv®
 |ğ
	`¶uto_ü—‹_te_scheduË_bªd
(
´og
, 
bªds
[
i
]);

539  
»tv®
;

540 
	}
}

544 
	$g‘IÂ”mo¡TabËBªd
(
PlutoProg
 *
´og
, *
bªdS¹
, *
bªdEnd
)

546 
loİ
, 
j
, 
Ï¡loİ
;

548 
Hy³½ÏÃPrİ”t›s
 *
hPrİs
 = 
´og
->hProps;

550 
Ï¡loİ
 = 
	`g‘D“³¡NÚSÿÏrLoİ
(
´og
);

552 ià(
hPrİs
[
Ï¡loİ
].
d•_´İ
 =ğ
SEQ
) {

553 *
bªdS¹
 = *
bªdEnd
 = 
Ï¡loİ
;

557 
loİ
=
´og
->
num_hy³½ÏÃs
-1;†oop>=0;†oop--) {

558 ià(
hPrİs
[
loİ
].
ty³
 =ğ
H_SCALAR
) ;

559 ià(
hPrİs
[
loİ
].
d•_´İ
 =ğ
PIPE_PARALLEL


560 || 
hPrİs
[
loİ
].
d•_´İ
 =ğ
PARALLEL
) {

561 
j
=
loİ
-1;

562 
j
 >= 0

563 && (
hPrİs
[
j
].
d•_´İ
 =ğ
PIPE_PARALLEL


564 || 
hPrİs
[
j
].
d•_´İ
 =ğ
PARALLEL
)

565 && 
hPrİs
[
j
].
bªd_num
 =ğhPrİs[
loİ
].band_num

566 && 
hPrİs
[
j
].
ty³
 =ğ
H_LOOP
) {

567 
j
--;

570 ià(
j
<=
loİ
-2) {

571 *
bªdEnd
 = 
loİ
;

572 *
bªdS¹
 = 
j
+1;

577 *
bªdS¹
 = *
bªdEnd
 = 
Ï¡loİ
;

578 
	}
}

	@transforms.c

22 
	~"´og¿m.h
"

23 
	~"¶uto.h
"

24 
	~"cÚ¡¿šts.h
"

25 
	~"ŒªsfÜms.h
"

27 
	~"as£¹.h
"

30 
	$¶uto_sšk_¡©em’t
(
Stmt
 *
¡mt
, 
d•th
, 
v®
, 
PlutoProg
 *
´og
)

32 
	`as£¹
(
¡mt
->
dim
 =ğ¡mt->
domaš
->
ncŞs
-
´og
->
Å¬
-1);

34 
™”
[5];

35 
	`¥rštf
(
™”
, "d%d", 
¡mt
->
dim
);

37 
	`¶uto_¡mt_add_dim
(
¡mt
, 
d•th
, -1, 
™”
, 
H_SCALAR
, 
´og
);

39 
	`¶uto_cÚ¡¿šts_£t_v¬
(
¡mt
->
domaš
, 
d•th
, 
v®
);

40 
¡mt
->
is_Üig_loİ
[
d•th
] = 
çl£
;

41 
	}
}

45 
	$¶uto_¡rmše
(
Stmt
 *
¡mt
, 
dim
, 
çùÜ
, *
su³ºode
, 
PlutoProg
 *
´og
)

47 
	`¶uto_¡mt_add_dim
(
¡mt
, 0, 
dim
, 
su³ºode
, 
H_TILE_SPACE_LOOP
, 
´og
);

49 
PlutoCÚ¡¿šts
 *
domaš
 = 
¡mt
->domain;

51 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
domaš
);

52 
domaš
->
v®
[domaš->
Äows
-1][0] = -
çùÜ
;

53 
	`as£¹
(
¡mt
->
Œªs
->
ncŞs
 =ğ
domaš
->ncols);

54 
i
;

55 
i
=1; i<
¡mt
->
Œªs
->
ncŞs
-1; i++) {

56 
domaš
->
v®
[domaš->
Äows
-1][
i
] = 
¡mt
->
Œªs
->v®[
dim
+1][i];

59 
	`¶uto_cÚ¡¿šts_add_šequ®™y
(
domaš
);

60 
domaš
->
v®
[domaš->
Äows
-1][0] = 
çùÜ
;

61 
	`as£¹
(
¡mt
->
Œªs
->
ncŞs
 =ğ
domaš
->ncols);

62 
i
=1; i<
¡mt
->
Œªs
->
ncŞs
-1; i++) {

63 
domaš
->
v®
[domaš->
Äows
-1][
i
] = -
¡mt
->
Œªs
->v®[
dim
+1][i];

65 
domaš
->
v®
[domaš->
Äows
-1][
¡mt
->
Œªs
->
ncŞs
] +ğ
çùÜ
;

67 
	}
}

70 
	$¶uto_¡mt_loİ_š‹rchªge
(
Stmt
 *
¡mt
, 
Ëv–1
, 
Ëv–2
,

71 
PlutoProg
 *
´og
)

73 
j
, 
tmp
;

75 
j
=0; j<
¡mt
->
Œªs
->
ncŞs
; j++) {

76 
tmp
 = 
¡mt
->
Œªs
->
v®
[
Ëv–1
][
j
];

77 
¡mt
->
Œªs
->
v®
[
Ëv–1
][
j
] = stmt->Œªs->v®[
Ëv–2
][j];

78 
¡mt
->
Œªs
->
v®
[
Ëv–2
][
j
] = 
tmp
;

80 
	}
}

83 
	$¶uto_š‹rchªge
(
PlutoProg
 *
´og
, 
Ëv–1
, 
Ëv–2
)

85 
k
;

86 
Hy³½ÏÃPrİ”t›s
 
hTmp
;

88 
Stmt
 **
¡mts
 = 
´og
->stmts;

89 
n¡mts
 = 
´og
->nstmts;

91 
k
=0; k<
n¡mts
; k++) {

92 
	`¶uto_¡mt_loİ_š‹rchªge
(
¡mts
[
k
], 
Ëv–1
, 
Ëv–2
, 
´og
);

95 
hTmp
 = 
´og
->
hPrİs
[
Ëv–1
];

96 
´og
->
hPrİs
[
Ëv–1
] =…rog->hPrİs[
Ëv–2
];

97 
´og
->
hPrİs
[
Ëv–2
] = 
hTmp
;

98 
	}
}

101 
	$¶uto_sšk_ŒªsfÜm©iÚ
(
Stmt
 *
¡mt
, 
pos
, 
PlutoProg
 *
´og
)

103 
i
, 
Å¬
;

105 
Å¬
 = 
¡mt
->
domaš
->
ncŞs
 - stmt->
dim
 - 1;

107 
	`as£¹
(
pos
 <ğ
¡mt
->
Œªs
->
Äows
);

108 
	`as£¹
(
¡mt
->
dim
 + 
Å¬
 + 1 =ğ¡mt->
domaš
->
ncŞs
);

111 
	`as£¹
(
¡mt
->
Œªs
 !ğ
NULL
);

113 
	`¶uto_m©rix_add_row
(
¡mt
->
Œªs
, 
pos
);

115 
¡mt
->
hyp_ty³s
 = 
	`»®loc
(stmt->hyp_types,

116 ()*
¡mt
->
Œªs
->
Äows
);

117 
i
=
¡mt
->
Œªs
->
Äows
-2; i>=
pos
; i--) {

118 
¡mt
->
hyp_ty³s
[
i
+1] = stmt->hyp_types[i];

120 
¡mt
->
hyp_ty³s
[
pos
] = 
H_SCALAR
;

121 
	}
}

125 
	$¶uto_make_šÃrmo¡_loİ
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
)

127 
i
, 
d
, 
Ï¡_d•th
;

129 
Ï¡_d•th
 = 
´og
->
num_hy³½ÏÃs
-1;

130 
i
=0; i<
loİ
->
n¡mts
; i++) {

131 
Stmt
 *
¡mt
 = 
loİ
->
¡mts
[
i
];

132 
d
=
loİ
->
d•th
; d<
¡mt
->
Œªs
->
Äows
; d++) {

133 ià(
	`¶uto_is_hy³½ÏÃ_sÿÏr
(
¡mt
, 
d
)) {

137 
Ï¡_d•th
 = 
	`PLMIN
Öa¡_d•th, 
d
-1);

140 
i
=0; i<
loİ
->
n¡mts
; i++) {

141 
Stmt
 *
¡mt
 = 
loİ
->
¡mts
[
i
];

142 
d
=
loİ
->
d•th
; d<
Ï¡_d•th
; d++) {

143 
	`¶uto_¡mt_loİ_š‹rchªge
(
¡mt
, 
d
, d+1, 
´og
);

146 
	}
}

	@transforms.h

20 #iâdeà
_TRANSFORMS_H_


21 
	#_TRANSFORMS_H_


	)

23 
	~"¶uto.h
"

25 
¶uto_sšk_¡©em’t
(
Stmt
 *
¡mt
, 
d•th
, 
v®
, 
PlutoProg
 *
´og
);

26 
¶uto_¡rmše
(
Stmt
 *
¡mt
, 
dim
, 
çùÜ
, *
su³ºode
, 
PlutoProg
 *
´og
);

27 
¶uto_te_sÿ‰”šg_dims
(
PlutoProg
 *
´og
, 
Bªd
 **
bªds
, 
nbªds
, 
l2
, *
auto_ts
);

28 
¶uto_»scheduË_te
(
PlutoProg
 *
´og
);

29 
¶uto_š‹rchªge
(
PlutoProg
 *
´og
, 
Ëv–1
, 
Ëv–2
);

30 
¶uto_sšk_ŒªsfÜm©iÚ
(
Stmt
 *
¡mt
, 
pos
, 
PlutoProg
 *
´og
);

31 
¶uto_make_šÃrmo¡_loİ
(
Ploİ
 *
loİ
, 
PlutoProg
 *
´og
);

32 
¶uto_¡mt_loİ_š‹rchªge
(
Stmt
 *
¡mt
, 
Ëv–1
, 
Ëv–2
,

33 
PlutoProg
 *
´og
);

	@unit_tests.c

27 
	~<¡dio.h
>

28 
	~<as£¹.h
>

30 
	~"cÚ¡¿šts.h
"

31 
	~"´og¿m.h
"

34 
	$‹¡_¿nk
()

36 !
	`ãof
(
¡dš
)) {

37 
PlutoM©rix
 *
m©
 = 
	`¶uto_m©rix_šput
(
¡dš
);

38 
	`´štf
("Rªk oàm©rix i %d\n", 
	`¶uto_m©rix_g‘_¿nk
(
m©
));

39 
	`¶uto_m©rix_ä“
(
m©
);

41 
	}
}

	@version.h

1 
	#PLUTO_VERSION
 "0.11.4-110-g7d529f0"

	)

	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


88 
	#as£¹
(
ex´
) \

89 ((
ex´
) \

90 ? 
	`__ASSERT_VOID_CAST
 (0) \

91 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

93 #ifdef 
__USE_GNU


94 
	#as£¹_³¼Ü
(
”ºum
) \

95 (!(
”ºum
) \

96 ? 
	`__ASSERT_VOID_CAST
 (0) \

97 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

105 #ià
defšed
 
__ılu¥lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

106 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

108 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

109 
	#__ASSERT_FUNCTION
 
__func__


	)

111 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

118 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


119 #undeà
¡©ic_as£¹


120 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__exùy³
 (
i§Êum
);

111 
__exùy³
 (
i§Íha
);

112 
__exùy³
 (
isúŒl
);

113 
__exùy³
 (
isdig™
);

114 
__exùy³
 (
i¦ow”
);

115 
__exùy³
 (
isg¿ph
);

116 
__exùy³
 (
i¥ršt
);

117 
__exùy³
 (
i¥unù
);

118 
__exùy³
 (
is¥aû
);

119 
__exùy³
 (
isuµ”
);

120 
__exùy³
 (
isxdig™
);

124 
	$tŞow”
 (
__c
è
__THROW
;

127 
	$touµ”
 (
__c
è
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__exùy³
 (
isbÏnk
);

138 
__END_NAMESPACE_C99


141 #ifdeà
__USE_GNU


143 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

146 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


150 
	$i§scii
 (
__c
è
__THROW
;

154 
	$tßscii
 (
__c
è
__THROW
;

158 
	`__exùy³
 (
_touµ”
);

159 
	`__exùy³
 (
_tŞow”
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

164 (
__ex‹nsiÚ__
 \

165 ({ 
__»s
; \

166 ià( (
c
) > 1) \

168 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

174 
__»s
 = 
f
 
¬gs
; \

177 
__»s
 = (
a
)[(è(
c
)]; \

178 
__»s
; 
	}
}))

	)

180 #ià!
defšed
 
__NO_CTYPE


181 #ifdeà
__isùy³_f


182 
	$__isùy³_f
 (
®num
)

183 
	$__isùy³_f
 (
®pha
)

184 
	$__isùy³_f
 (
úŒl
)

185 
	$__isùy³_f
 (
dig™
)

186 
	$__isùy³_f
 (
low”
)

187 
	$__isùy³_f
 (
g¿ph
)

188 
	$__isùy³_f
 (
´št
)

189 
	$__isùy³_f
 (
punù
)

190 
	$__isùy³_f
 (
¥aû
)

191 
	$__isùy³_f
 (
uµ”
)

192 
	$__isùy³_f
 (
xdig™
)

193 #ifdeà
__USE_ISOC99


194 
	$__isùy³_f
 (
bÏnk
)

196 #–ià
defšed
 
__isùy³


197 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

198 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

199 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

200 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

201 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

202 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

203 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

204 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

205 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

206 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

207 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

208 #ifdeà
__USE_ISOC99


209 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

213 #ifdeà
__USE_EXTERN_INLINES


214 
__ex‹º_šlše
 

215 
	`__NTH
 (
	$tŞow”
 (
__c
))

217  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

218 
	}
}

220 
__ex‹º_šlše
 

221 
__NTH
 (
	$touµ”
 (
__c
))

223  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

224 
	}
}

227 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


228 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

229 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

232 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


233 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

234 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

236 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

237 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

243 #ifdeà
__USE_XOPEN2K8


257 
	~<xloÿË.h
>

261 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

262 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

264 
	#__exùy³_l
(
Çme
) \

265 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

271 
__exùy³_l
 (
i§Êum_l
);

272 
__exùy³_l
 (
i§Íha_l
);

273 
__exùy³_l
 (
isúŒl_l
);

274 
__exùy³_l
 (
isdig™_l
);

275 
__exùy³_l
 (
i¦ow”_l
);

276 
__exùy³_l
 (
isg¿ph_l
);

277 
__exùy³_l
 (
i¥ršt_l
);

278 
__exùy³_l
 (
i¥unù_l
);

279 
__exùy³_l
 (
is¥aû_l
);

280 
__exùy³_l
 (
isuµ”_l
);

281 
__exùy³_l
 (
isxdig™_l
);

283 
__exùy³_l
 (
isbÏnk_l
);

287 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

288 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

291 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

294 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


295 
	#__tŞow”_l
(
c
, 
loÿË
) \

296 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

297 
	#__touµ”_l
(
c
, 
loÿË
) \

298 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

299 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

300 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

304 #iâdeà
__NO_CTYPE


305 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

306 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

307 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

308 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

309 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

310 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

311 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

312 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

313 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

314 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

315 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

317 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

319 #ifdeà
__USE_MISC


320 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

321 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

324 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

325 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

326 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

327 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

328 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

329 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

330 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

331 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

332 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

333 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

334 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

336 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

338 #ifdeà
__USE_MISC


339 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

340 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/getopt.h

19 #iâdeà
_GETOPT_H


21 #iâdeà
__Ãed_g‘İt


22 
	#_GETOPT_H
 1

	)

32 #ià!
defšed
 
__GNU_LIBRARY__


33 
	~<ùy³.h
>

36 #iâdeà
__THROW


37 #iâdeà
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

40 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__ılu¥lus


57 *
İrg
;

71 
İtšd
;

76 
İ‹¼
;

80 
İtİt
;

82 #iâdeà
__Ãed_g‘İt


104 
	sİtiÚ


106 cÚ¡ *
	gÇme
;

109 
	ghas_¬g
;

110 *
	gæag
;

111 
	gv®
;

116 
	#no_¬gum’t
 0

	)

117 
	#»quœed_¬gum’t
 1

	)

118 
	#İtiÚ®_¬gum’t
 2

	)

146 #ifdeà
__GNU_LIBRARY__


150 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

151 
__THROW
;

153 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

154 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


158 #ifdeà
__REDIRECT


159 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

160 cÚ¡ *
__shÜtİts
),

161 
__posix_g‘İt
);

163 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

164 cÚ¡ *
__shÜtİts
è
__THROW
;

165 
	#g‘İt
 
__posix_g‘İt


	)

169 
g‘İt
 ();

172 #iâdeà
__Ãed_g‘İt


173 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

174 cÚ¡ *
__shÜtİts
,

175 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

176 
__THROW
;

177 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

178 cÚ¡ *
__shÜtİts
,

179 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

180 
__THROW
;

184 #ifdef 
__ılu¥lus


189 #undeà
__Ãed_g‘İt


	@/usr/include/libgen.h

18 #iâdeà
_LIBGEN_H


19 
	#_LIBGEN_H
 1

	)

21 
	~<ã©u»s.h
>

23 
__BEGIN_DECLS


26 *
	$dœÇme
 (*
__·th
è
__THROW
;

34 *
	$__xpg_ba£Çme
 (*
__·th
è
__THROW
;

35 
	#ba£Çme
 
__xpg_ba£Çme


	)

37 
__END_DECLS


	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	~<ã©u»s.h
>

31 
	#MB_LEN_MAX
 16

	)

36 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

41 #iâdeà
_LIMITS_H


42 
	#_LIMITS_H
 1

	)

44 
	~<b™s/wÜdsize.h
>

53 
	#CHAR_BIT
 8

	)

56 
	#SCHAR_MIN
 (-128)

	)

57 
	#SCHAR_MAX
 127

	)

60 
	#UCHAR_MAX
 255

	)

63 #ifdeà
__CHAR_UNSIGNED__


64 
	#CHAR_MIN
 0

	)

65 
	#CHAR_MAX
 
UCHAR_MAX


	)

67 
	#CHAR_MIN
 
SCHAR_MIN


	)

68 
	#CHAR_MAX
 
SCHAR_MAX


	)

72 
	#SHRT_MIN
 (-32768)

	)

73 
	#SHRT_MAX
 32767

	)

76 
	#USHRT_MAX
 65535

	)

79 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

80 
	#INT_MAX
 2147483647

	)

83 
	#UINT_MAX
 4294967295U

	)

86 #ià
__WORDSIZE
 == 64

87 
	#LONG_MAX
 9223372036854775807L

	)

89 
	#LONG_MAX
 2147483647L

	)

91 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

94 #ià
__WORDSIZE
 == 64

95 
	#ULONG_MAX
 18446744073709551615UL

	)

97 
	#ULONG_MAX
 4294967295UL

	)

100 #ifdeà
__USE_ISOC99


103 
	#LLONG_MAX
 9223372036854775807LL

	)

104 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

107 
	#ULLONG_MAX
 18446744073709551615ULL

	)

121 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


123 #šşude_Ãxˆ<
lim™s
.
h
>

129 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


130 #iâdeà
LLONG_MIN


131 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

133 #iâdeà
LLONG_MAX


134 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

136 #iâdeà
ULLONG_MAX


137 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

141 #ifdef 
__USE_POSIX


143 
	~<b™s/posix1_lim.h
>

146 #ifdef 
__USE_POSIX2


147 
	~<b™s/posix2_lim.h
>

150 #ifdef 
__USE_XOPEN


151 
	~<b™s/xİ’_lim.h
>

	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/m©h-veùÜ.h
>

35 
	~<b™s/huge_v®.h
>

36 #ifdeà
__USE_ISOC99


37 
	~<b™s/huge_v®f.h
>

38 
	~<b™s/huge_v®l.h
>

41 
	~<b™s/šf.h
>

44 
	~<b™s/Çn.h
>

48 
	~<b™s/m©hdef.h
>

55 
	#__SIMD_DECL
(
funùiÚ
è
	`__CONCAT
 (
__DECL_SIMD_
, funùiÚ)

	)

57 
	#__MATHCALL_VEC
(
funùiÚ
, 
suffix
, 
¬gs
) \

58 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

59 
	`__MATHCALL
 (
funùiÚ
, 
suffix
, 
¬gs
)

	)

61 
	#__MATHDECL_VEC
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

62 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

63 
	`__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
)

	)

65 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

66 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

67 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

68 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

69 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

70 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

71 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

72 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

73 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

74 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

75 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

76 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

78 
	#_MdoubË_
 

	)

79 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

80 
	#__MATH_DECLARING_DOUBLE
 1

	)

81 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

82 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

83 
	~<b™s/m©hÿÎs.h
>

84 #undeà
_MdoubË_


85 #undeà
_MdoubË_BEGIN_NAMESPACE


86 #undeà
_MdoubË_END_NAMESPACE


87 #undeà
__MATH_PRECNAME


88 #undeà
__MATH_DECLARING_DOUBLE


90 #ifdeà
__USE_ISOC99


96 #iâdeà
_Mæßt_


97 
	#_Mæßt_
 

	)

99 
	#_MdoubË_
 
_Mæßt_


	)

100 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

101 
	#__MATH_DECLARING_DOUBLE
 0

	)

102 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

103 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

104 
	~<b™s/m©hÿÎs.h
>

105 #undeà
_MdoubË_


106 #undeà
_MdoubË_BEGIN_NAMESPACE


107 #undeà
_MdoubË_END_NAMESPACE


108 #undeà
__MATH_PRECNAME


109 #undeà
__MATH_DECLARING_DOUBLE


111 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

112 || 
defšed
 
__LDBL_COMPAT
 \

113 || 
defšed
 
_LIBC_TEST


114 #ifdeà
__LDBL_COMPAT


116 #ifdeà
__USE_ISOC99


117 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

118 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

119 #ifdeà
__REDIRECT_NTH


120 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

121 
__Ædbl_Ãx‰ow¬df
)

122 
	`__©Œibu‹__
 ((
__cÚ¡__
));

123 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

124 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

125 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

126 (
__x
, 
__y
),

127 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

131 #undeà
__MATHDECL_1


132 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

133 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

134 
¬gs
, 
®Ÿs
)

	)

135 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

136 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

142 #iâdeà
_MlÚg_doubË_


143 
	#_MlÚg_doubË_
 

	)

145 
	#_MdoubË_
 
_MlÚg_doubË_


	)

146 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

147 
	#__MATH_DECLARING_DOUBLE
 0

	)

148 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

149 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

150 
	#__MATH_DECLARE_LDOUBLE
 1

	)

151 
	~<b™s/m©hÿÎs.h
>

152 #undeà
_MdoubË_


153 #undeà
_MdoubË_BEGIN_NAMESPACE


154 #undeà
_MdoubË_END_NAMESPACE


155 #undeà
__MATH_PRECNAME


156 #undeà
__MATH_DECLARING_DOUBLE


161 #undeà
__MATHDECL_1


162 #undeà
__MATHDECL


163 #undeà
__MATHCALL


166 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


168 
signgam
;

173 #ifdeà
__USE_ISOC99


211 
FP_NAN
 =

212 
	#FP_NAN
 0

	)

213 
FP_NAN
,

214 
FP_INFINITE
 =

215 
	#FP_INFINITE
 1

	)

216 
FP_INFINITE
,

217 
FP_ZERO
 =

218 
	#FP_ZERO
 2

	)

219 
FP_ZERO
,

220 
FP_SUBNORMAL
 =

221 
	#FP_SUBNORMAL
 3

	)

222 
FP_SUBNORMAL
,

223 
FP_NORMAL
 =

224 
	#FP_NORMAL
 4

	)

225 
FP_NORMAL


233 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__
 \

234 && !
defšed
 
__OPTIMIZE_SIZE__


235 
	#åşassify
(
x
è
	`__butš_åşassify
 (
FP_NAN
, 
FP_INFINITE
, \

236 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

237 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


238 
	#åşassify
(
x
) \

239 ( (
x
è=ğ (è? 
	`__åşassifyf
 (xè: 
	`__åşassify
 (x))

	)

241 
	#åşassify
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__åşassifyf
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__åşassify
 (
x
è: 
	`__åşassifyl
 (x))

	)

249 #ià
	`__GNUC_PREREQ
 (4,0)

250 
	#signb™
(
x
) \

251 ( (
x
) ==  () \

252 ? 
	`__butš_signb™f
 (
x
) \

253 :  (
x
) ==  () \

254 ? 
	`__butš_signb™
 (
x
è: 
	`__butš_signb™l
 (x))

	)

256 #ifdeà
__NO_LONG_DOUBLE_MATH


257 
	#signb™
(
x
) \

258 ( (
x
è=ğ (è? 
	`__signb™f
 (xè: 
	`__signb™
 (x))

	)

260 
	#signb™
(
x
) \

261 ( (
x
) ==  () \

262 ? 
	`__signb™f
 (
x
) \

263 :  (
x
) ==  () \

264 ? 
	`__signb™
 (
x
è: 
	`__signb™l
 (x))

	)

269 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


270 
	#isfš™e
(
x
è
	`__butš_isfš™e
 (x)

	)

271 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


272 
	#isfš™e
(
x
) \

273 ( (
x
è=ğ (è? 
	`__fš™ef
 (xè: 
	`__fš™e
 (x))

	)

275 
	#isfš™e
(
x
) \

276 ( (
x
) ==  () \

277 ? 
	`__fš™ef
 (
x
) \

278 :  (
x
) ==  () \

279 ? 
	`__fš™e
 (
x
è: 
	`__fš™–
 (x))

	)

283 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


284 
	#i¢Üm®
(
x
è
	`__butš_i¢Üm®
 (x)

	)

286 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

291 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


292 
	#i¢ª
(
x
è
	`__butš_i¢ª
 (x)

	)

293 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


294 
	#i¢ª
(
x
) \

295 ( (
x
è=ğ (è? 
	`__i¢ªf
 (xè: 
	`__i¢ª
 (x))

	)

297 
	#i¢ª
(
x
) \

298 ( (
x
) ==  () \

299 ? 
	`__i¢ªf
 (
x
) \

300 :  (
x
) ==  () \

301 ? 
	`__i¢ª
 (
x
è: 
	`__i¢ªl
 (x))

	)

305 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


306 
	#isšf
(
x
è
	`__butš_isšf_sign
 (x)

	)

307 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


308 
	#isšf
(
x
) \

309 ( (
x
è=ğ (è? 
	`__isšff
 (xè: 
	`__isšf
 (x))

	)

311 
	#isšf
(
x
) \

312 ( (
x
) ==  () \

313 ? 
	`__isšff
 (
x
) \

314 :  (
x
) ==  () \

315 ? 
	`__isšf
 (
x
è: 
	`__isšæ
 (x))

	)

319 
	#MATH_ERRNO
 1

	)

320 
	#MATH_ERREXCEPT
 2

	)

325 #iâdeà
__FAST_MATH__


326 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

331 #ifdeà
__USE_GNU


333 #ifdeà
__NO_LONG_DOUBLE_MATH


334 
	#issigÇlšg
(
x
) \

335 ( (
x
è=ğ (è? 
	`__issigÇlšgf
 (xè: 
	`__issigÇlšg
 (x))

	)

337 
	#issigÇlšg
(
x
) \

338 ( (
x
) ==  () \

339 ? 
	`__issigÇlšgf
 (
x
) \

340 :  (
x
) ==  () \

341 ? 
	`__issigÇlšg
 (
x
è: 
	`__issigÇlšgl
 (x))

	)

345 #ifdef 
__USE_MISC


349 
_IEEE_
 = -1,

350 
_SVID_
,

351 
_XOPEN_
,

352 
_POSIX_
,

353 
_ISOC_


354 } 
	t_LIB_VERSION_TYPE
;

359 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

363 #ifdeà
__USE_MISC


369 #ifdeà
__ılu¥lus


370 
__exû±iÚ


372 
exû±iÚ


375 
ty³
;

376 *
Çme
;

377 
¬g1
;

378 
¬g2
;

379 
»tv®
;

380 
	}
};

382 #ifdeà
__ılu¥lus


383 
	$m©h”r
 (
__exû±iÚ
 *
__exc
è
	`throw
 ();

385 
	`m©h”r
 (
exû±iÚ
 *
__exc
);

388 
	#X_TLOSS
 1.41484755040568800000e+16

	)

391 
	#DOMAIN
 1

	)

392 
	#SING
 2

	)

393 
	#OVERFLOW
 3

	)

394 
	#UNDERFLOW
 4

	)

395 
	#TLOSS
 5

	)

396 
	#PLOSS
 6

	)

399 
	#HUGE
 3.40282347e+38F

	)

403 #ifdeà
__USE_XOPEN


405 
	#MAXFLOAT
 3.40282347e+38F

	)

412 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


413 
	#M_E
 2.7182818284590452354

	)

414 
	#M_LOG2E
 1.4426950408889634074

	)

415 
	#M_LOG10E
 0.43429448190325182765

	)

416 
	#M_LN2
 0.69314718055994530942

	)

417 
	#M_LN10
 2.30258509299404568402

	)

418 
	#M_PI
 3.14159265358979323846

	)

419 
	#M_PI_2
 1.57079632679489661923

	)

420 
	#M_PI_4
 0.78539816339744830962

	)

421 
	#M_1_PI
 0.31830988618379067154

	)

422 
	#M_2_PI
 0.63661977236758134308

	)

423 
	#M_2_SQRTPI
 1.12837916709551257390

	)

424 
	#M_SQRT2
 1.41421356237309504880

	)

425 
	#M_SQRT1_2
 0.70710678118654752440

	)

431 #ifdeà
__USE_GNU


432 
	#M_El
 2.718281828459045235360287471352662498L

	)

433 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

434 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

435 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

436 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

437 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

438 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

439 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

440 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

441 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

442 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

443 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

444 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

451 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


452 
	#__NO_MATH_INLINES
 1

	)

455 #ià
defšed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

462 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

463 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

464 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

465 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

466 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

467 
	#isunÜd”ed
(
u
, 
v
è
	`__butš_isunÜd”ed
(u, v)

	)

471 #ifdeà
__USE_EXTERN_INLINES


472 
	~<b™s/m©hšlše.h
>

477 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

478 
	~<b™s/m©h-fš™e.h
>

481 #ifdeà
__USE_ISOC99


485 #iâdeà
isg»©”


486 
	#isg»©”
(
x
, 
y
) \

487 (
__ex‹nsiÚ__
 \

488 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

489 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; 
	}
}))

	)

493 #iâdeà
isg»©”equ®


494 
	#isg»©”equ®
(
x
, 
y
) \

495 (
__ex‹nsiÚ__
 \

496 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

497 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

501 #iâdeà
i¦ess


502 
	#i¦ess
(
x
, 
y
) \

503 (
__ex‹nsiÚ__
 \

504 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

505 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

509 #iâdeà
i¦es£qu®


510 
	#i¦es£qu®
(
x
, 
y
) \

511 (
__ex‹nsiÚ__
 \

512 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

513 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

517 #iâdeà
i¦essg»©”


518 
	#i¦essg»©”
(
x
, 
y
) \

519 (
__ex‹nsiÚ__
 \

520 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

521 !
	`isunÜd”ed
 (
__x
, 
__y
è&& (__x < __y || __y < __x); }))

	)

525 #iâdeà
isunÜd”ed


526 
	#isunÜd”ed
(
u
, 
v
) \

527 (
__ex‹nsiÚ__
 \

528 ({ 
	`__ty³of__
(
u
è
__u
 = (u); __ty³of__(
v
è
__v
 = (v); \

529 
	`åşassify
 (
__u
è=ğ
FP_NAN
 || fpşassify (
__v
è=ğFP_NAN; }))

	)

534 
	g__END_DECLS


	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_MISC


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ifdeà
__USE_POSIX


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ifdeà
__USE_POSIX


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ifdeà
__USE_POSIX2


872 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

878 
	`pşo£
 (
FILE
 *
__¡»am
);

882 #ifdef 
__USE_POSIX


884 *
	$ù”mid
 (*
__s
è
__THROW
;

888 #ifdeà
__USE_XOPEN


890 *
	`cu£rid
 (*
__s
);

894 #ifdef 
__USE_GNU


895 
ob¡ack
;

898 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

899 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

900 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

901 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

902 cÚ¡ *
__»¡riù
 
__fÜm©
,

903 
_G_va_li¡
 
__¬gs
)

904 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

908 #ifdeà
__USE_POSIX


912 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

916 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

919 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

922 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


926 
	#__Ãed_g‘İt


	)

927 
	~<g‘İt.h
>

932 #ifdeà
__USE_EXTERN_INLINES


933 
	~<b™s/¡dio.h
>

935 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


936 
	~<b™s/¡dio2.h
>

938 #ifdeà
__LDBL_COMPAT


939 
	~<b™s/¡dio-ldbl.h
>

942 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_MISC


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ifdeà
__USE_ISOC99


155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifdeà
__USE_MISC


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ifdeà
__USE_ISOC99


206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ifdeà
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__ex‹nsiÚ__
 
__a
;

423 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

424 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

425 
	$”ªd48_r
 (
__xsubi
[3],

426 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

427 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

431 *
__»¡riù
 
__»suÉ
)

432 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

433 
	$Äªd48_r
 (
__xsubi
[3],

434 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

435 *
__»¡riù
 
__»suÉ
)

436 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

439 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

442 
	$j¿nd48_r
 (
__xsubi
[3],

443 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

444 *
__»¡riù
 
__»suÉ
)

445 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

448 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$lcÚg48_r
 (
__·¿m
[7],

455 
d¿nd48_d©a
 *
__bufãr
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

462 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


463 
	#__m®loc_ªd_ÿÎoc_defšed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

468 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

469 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

483 
	$ä“
 (*
__±r
è
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$cä“
 (*
__±r
è
__THROW
;

491 #ifdeà
__USE_MISC


492 
	~<®loÿ.h
>

495 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

496 || 
defšed
 
__USE_MISC


498 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

501 #ifdeà
__USE_XOPEN2K


503 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

507 #ifdeà
__USE_ISOC11


509 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

510 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

519 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

521 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


523 #ifdeà
__ılu¥lus


524 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


549 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

551 
__END_NAMESPACE_STD


553 #ifdeà
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

565 
__END_NAMESPACE_STD


567 #ifdeà
__USE_GNU


570 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

571 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ifdeà
__USE_XOPEN2K


584 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 \

600 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ifdeà
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

758 #ifdeà
__USE_EXTERN_INLINES


759 
	~<b™s/¡dlib-b£¬ch.h
>

764 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

765 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

766 #ifdeà
__USE_GNU


767 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

768 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

769 
	`__nÚnuÎ
 ((1, 4));

774 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

775 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
__END_NAMESPACE_STD


778 #ifdeà
__USE_ISOC99


779 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

780 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

784 
__BEGIN_NAMESPACE_STD


788 
div_t
 
	$div
 (
__num”
, 
__d’om
)

789 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

790 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

791 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

792 
__END_NAMESPACE_STD


794 #ifdeà
__USE_ISOC99


795 
__BEGIN_NAMESPACE_C99


796 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

797 
__d’om
)

798 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

799 
__END_NAMESPACE_C99


803 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

804 || 
defšed
 
__USE_MISC


811 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

812 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

817 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

818 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

823 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

824 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

827 #ifdeà
__USE_MISC


829 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

830 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

831 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

832 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

833 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

834 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

835 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

836 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

841 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

842 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

843 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

845 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

846 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

852 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

853 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

854 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

855 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

859 
__BEGIN_NAMESPACE_STD


862 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

865 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

866 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

869 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

873 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

874 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

876 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

877 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

878 
__THROW
;

879 
__END_NAMESPACE_STD


882 #ifdeà
__USE_MISC


887 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


898 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

899 *cÚ¡ *
__»¡riù
 
__tok’s
,

900 **
__»¡riù
 
__v®u•
)

901 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

905 #ifdeà
__USE_XOPEN


907 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

913 #ifdeà
__USE_XOPEN2KXSI


915 
	$posix_İ’±
 (
__oæag
è
__wur
;

918 #ifdeà
__USE_XOPEN


923 
	$g¿Á±
 (
__fd
è
__THROW
;

927 
	$uÆock±
 (
__fd
è
__THROW
;

932 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

935 #ifdeà
__USE_GNU


939 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

940 
__THROW
 
	`__nÚnuÎ
 ((2));

943 
	`g‘±
 ();

946 #ifdeà
__USE_MISC


950 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

951 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	~<b™s/¡dlib-æßt.h
>

957 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


958 
	~<b™s/¡dlib.h
>

960 #ifdeà
__LDBL_COMPAT


961 
	~<b™s/¡dlib-ldbl.h
>

965 #undeà
__Ãed_m®loc_ªd_ÿÎoc


967 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

35 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


54 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

65 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

69 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

74 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

77 #ifdeà
__OPTIMIZE__


78 
__ex‹º_®ways_šlše
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


81  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

84 
__ex‹º_®ways_šlše
 const *

85 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


87  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifdeà
__USE_GNU


100 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

106 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

128 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

129 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

133 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

137 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

141 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

150 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

151 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
 
	`__nÚnuÎ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifdeà
__USE_XOPEN2K8


159 
	~<xloÿË.h
>

162 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

163 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

165 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

166 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

169 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


171 *
	$¡rdup
 (cÚ¡ *
__s
)

172 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

178 #ià
defšed
 
__USE_XOPEN2K8


179 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

180 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

183 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


185 
	#¡rdu·
(
s
) \

186 (
__ex‹nsiÚ__
 \

188 cÚ¡ *
__Şd
 = (
s
); \

189 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

190 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

191 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

192 
	}
}))

	)

195 
	#¡ºdu·
(
s
, 
n
) \

196 (
__ex‹nsiÚ__
 \

198 cÚ¡ *
__Şd
 = (
s
); \

199 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

200 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

201 
__Ãw
[
__Ën
] = '\0'; \

202 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

203 }))

	)

206 
	g__BEGIN_NAMESPACE_STD


208 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


211 *
¡rchr
 (*
__s
, 
__c
)

212 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

213 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

214 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

216 #ifdeà
__OPTIMIZE__


217 
__ex‹º_®ways_šlše
 *

218 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


220  
__butš_¡rchr
 (
__s
, 
__c
);

223 
__ex‹º_®ways_šlše
 const *

224 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


226  
__butš_¡rchr
 (
__s
, 
__c
);

231 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

232 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

235 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


238 *
	`¡¼chr
 (*
__s
, 
__c
)

239 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

240 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

243 #ifdeà
__OPTIMIZE__


244 
__ex‹º_®ways_šlše
 *

245 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


247  
	`__butš_¡¼chr
 (
__s
, 
__c
);

250 
__ex‹º_®ways_šlše
 const *

251 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


253  
	`__butš_¡¼chr
 (
__s
, 
__c
);

256 
	}
}

258 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

259 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

261 
__END_NAMESPACE_STD


263 #ifdeà
__USE_GNU


266 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


267 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

268 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

269 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

272 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

273 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

277 
__BEGIN_NAMESPACE_STD


280 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

281 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

284 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

285 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

287 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


290 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

291 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

292 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

293 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

295 #ifdeà
__OPTIMIZE__


296 
__ex‹º_®ways_šlše
 *

297 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


299  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

302 
__ex‹º_®ways_šlše
 const *

303 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


305  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

308 
	}
}

310 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

311 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

314 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


317 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

318 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

319 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

320 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

322 #ifdeà
__OPTIMIZE__


323 
__ex‹º_®ways_šlše
 *

324 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


326  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

329 
__ex‹º_®ways_šlše
 const *

330 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


332  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

335 
	}
}

337 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

338 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

343 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

344 
__THROW
 
	`__nÚnuÎ
 ((2));

345 
__END_NAMESPACE_STD


349 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

350 cÚ¡ *
__»¡riù
 
__d–im
,

351 **
__»¡riù
 
__§ve_±r
)

352 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

353 #ifdeà
__USE_POSIX


354 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

355 **
__»¡riù
 
__§ve_±r
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

359 #ifdeà
__USE_GNU


361 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


362 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

363 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

364 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

365 cÚ¡ *
__ÃedË
)

366 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

368 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

369 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

373 #ifdeà
__USE_GNU


377 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

378 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

379 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

383 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

384 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

385 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

386 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

387 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

388 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

392 
__BEGIN_NAMESPACE_STD


394 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

395 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

396 
__END_NAMESPACE_STD


398 #ifdef 
__USE_XOPEN2K8


401 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

402 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

406 
__BEGIN_NAMESPACE_STD


408 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

409 
__END_NAMESPACE_STD


410 #ifdeà
__USE_XOPEN2K


418 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


421 #ifdeà
__REDIRECT_NTH


422 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

423 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

424 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

426 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

427 
__THROW
 
	`__nÚnuÎ
 ((2));

428 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

433 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

434 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

438 #ifdeà
__USE_XOPEN2K8


440 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

446 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

448 #ifdeà
__USE_MISC


450 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

451 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

457 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

458 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

461 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


464 *
	`šdex
 (*
__s
, 
__c
)

465 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

466 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

467 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

469 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


470 
__ex‹º_®ways_šlše
 *

471 
	`šdex
 (*
__s
, 
__c
è
__THROW


473  
	`__butš_šdex
 (
__s
, 
__c
);

476 
__ex‹º_®ways_šlše
 const *

477 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


479  
	`__butš_šdex
 (
__s
, 
__c
);

482 
	}
}

484 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

485 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

489 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


492 *
	`ršdex
 (*
__s
, 
__c
)

493 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

494 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

495 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

497 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


498 
__ex‹º_®ways_šlše
 *

499 
	`ršdex
 (*
__s
, 
__c
è
__THROW


501  
	`__butš_ršdex
 (
__s
, 
__c
);

504 
__ex‹º_®ways_šlše
 const *

505 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


507  
	`__butš_ršdex
 (
__s
, 
__c
);

510 
	}
}

512 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

513 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

518 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

522 #ifdef 
__USE_GNU


523 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

524 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

525 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

529 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

530 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

533 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

534 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

537 #ifdef 
__USE_GNU


540 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

541 
__loÿË_t
 
__loc
)

542 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

544 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

545 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

546 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

549 #ifdef 
__USE_MISC


552 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

553 cÚ¡ *
__»¡riù
 
__d–im
)

554 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdef 
__USE_XOPEN2K8


559 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

562 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

563 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

564 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

565 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

569 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

570 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

571 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

572 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

573 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

577 #ifdef 
__USE_GNU


579 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

580 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

583 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

586 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

588 #iâdeà
ba£Çme


593 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


594 "C++" *
	$ba£Çme
 (*
__f’ame
)

595 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

596 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

597 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

599 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

605 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

606 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

607 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


627 
	~<b™s/¡ršg.h
>

630 
	~<b™s/¡ršg2.h
>

633 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


635 
	~<b™s/¡ršg3.h
>

639 #ià
defšed
 
__USE_GNU
 && defšed 
__OPTIMIZE__
 \

640 && 
defšed
 
__ex‹º_®ways_šlše
 && 
	$__GNUC_PREREQ
 (3,2)

641 #ià!
defšed
 
_FORCE_INLINES
 && !defšed 
_HAVE_STRING_ARCH_mempıy


643 #undeà
mempıy


644 #undeà
__mempıy


645 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy_šlše
 (de¡, src,‚)

	)

646 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy_šlše
 (de¡, src,‚)

	)

648 
__ex‹º_®ways_šlše
 *

649 
	$__mempıy_šlše
 (*
__»¡riù
 
__de¡
,

650 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

652  (*è
	`memıy
 (
__de¡
, 
__¤c
, 
__n
) + __n;

653 
	}
}

658 
	g__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifdeà
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #–ià
defšed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #–ià
defšed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

111 
	#_XOPEN_CRYPT
 1

	)

115 
	#_XOPEN_ENH_I18N
 1

	)

118 
	#_XOPEN_LEGACY
 1

	)

205 
	~<b™s/posix_İt.h
>

208 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


209 
	~<b™s/’vœÚm’ts.h
>

213 
	#STDIN_FILENO
 0

	)

214 
	#STDOUT_FILENO
 1

	)

215 
	#STDERR_FILENO
 2

	)

220 
	~<b™s/ty³s.h
>

222 #iâdef 
__ssize_t_defšed


223 
__ssize_t
 
	tssize_t
;

224 
	#__ssize_t_defšed


	)

227 
	#__Ãed_size_t


	)

228 
	#__Ãed_NULL


	)

229 
	~<¡ddef.h
>

231 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


234 #iâdeà
__gid_t_defšed


235 
__gid_t
 
	tgid_t
;

236 
	#__gid_t_defšed


	)

239 #iâdeà
__uid_t_defšed


240 
__uid_t
 
	tuid_t
;

241 
	#__uid_t_defšed


	)

244 #iâdeà
__off_t_defšed


245 #iâdeà
__USE_FILE_OFFSET64


246 
__off_t
 
	toff_t
;

248 
__off64_t
 
	toff_t
;

250 
	#__off_t_defšed


	)

252 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


253 
__off64_t
 
	toff64_t
;

254 
	#__off64_t_defšed


	)

257 #iâdeà
__u£cÚds_t_defšed


258 
__u£cÚds_t
 
	tu£cÚds_t
;

259 
	#__u£cÚds_t_defšed


	)

262 #iâdeà
__pid_t_defšed


263 
__pid_t
 
	tpid_t
;

264 
	#__pid_t_defšed


	)

268 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


269 #iâdeà
__šŒ_t_defšed


270 
__šŒ_t
 
	tšŒ_t
;

271 
	#__šŒ_t_defšed


	)

275 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


276 #iâdeà
__sockËn_t_defšed


277 
__sockËn_t
 
	tsockËn_t
;

278 
	#__sockËn_t_defšed


	)

284 
	#R_OK
 4

	)

285 
	#W_OK
 2

	)

286 
	#X_OK
 1

	)

287 
	#F_OK
 0

	)

290 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

292 #ifdeà
__USE_GNU


295 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

296 
__THROW
 
	`__nÚnuÎ
 ((1));

299 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

300 
__THROW
 
	`__nÚnuÎ
 ((1));

303 #ifdeà
__USE_ATFILE


307 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

308 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

313 #iâdef 
_STDIO_H


314 
	#SEEK_SET
 0

	)

315 
	#SEEK_CUR
 1

	)

316 
	#SEEK_END
 2

	)

317 #ifdeà
__USE_GNU


318 
	#SEEK_DATA
 3

	)

319 
	#SEEK_HOLE
 4

	)

323 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


325 
	#L_SET
 
SEEK_SET


	)

326 
	#L_INCR
 
SEEK_CUR


	)

327 
	#L_XTND
 
SEEK_END


	)

336 #iâdeà
__USE_FILE_OFFSET64


337 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

339 #ifdeà
__REDIRECT_NTH


340 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

341 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

342 
l£ek64
);

344 
	#l£ek
 
l£ek64


	)

347 #ifdeà
__USE_LARGEFILE64


348 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

349 
__THROW
;

356 
	`şo£
 (
__fd
);

363 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

369 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

371 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


372 #iâdeà
__USE_FILE_OFFSET64


379 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

380 
__off_t
 
__off£t
è
__wur
;

387 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

388 
__off_t
 
__off£t
è
__wur
;

390 #ifdeà
__REDIRECT


391 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

392 
__off64_t
 
__off£t
),

393 
´—d64
è
__wur
;

394 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

395 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

396 
pwr™e64
è
__wur
;

398 
	#´—d
 
´—d64


	)

399 
	#pwr™e
 
pwr™e64


	)

403 #ifdeà
__USE_LARGEFILE64


407 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

408 
__off64_t
 
__off£t
è
__wur
;

411 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

412 
__off64_t
 
__off£t
è
__wur
;

420 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

422 #ifdeà
__USE_GNU


425 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

435 
	$®¬m
 (
__£cÚds
è
__THROW
;

447 
	`¦“p
 (
__£cÚds
);

449 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

450 || 
defšed
 
__USE_MISC


455 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

456 
__THROW
;

463 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

472 
	`·u£
 ();

476 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

477 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

479 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


481 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

486 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

487 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

491 #ifdeà
__USE_ATFILE


494 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

495 
__gid_t
 
__group
, 
__æag
)

496 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

500 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

502 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


504 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

514 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

516 #ifdef 
__USE_GNU


520 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

523 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

524 || 
defšed
 
__USE_MISC


528 *
	$g‘wd
 (*
__buf
)

529 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

534 
	$dup
 (
__fd
è
__THROW
 
__wur
;

537 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

539 #ifdeà
__USE_GNU


542 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

546 **
__’vœÚ
;

547 #ifdeà
__USE_GNU


548 **
’vœÚ
;

554 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

555 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdeà
__USE_XOPEN2K8


560 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

561 
__THROW
 
	`__nÚnuÎ
 ((2));

566 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

567 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

571 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

572 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

576 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

581 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

582 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

588 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

590 #ifdeà
__USE_GNU


593 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

594 *cÚ¡ 
__’vp
[])

595 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

599 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


601 
	$niû
 (
__šc
è
__THROW
 
__wur
;

606 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

612 
	~<b™s/cÚâame.h
>

615 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

616 
__THROW
 
	`__nÚnuÎ
 ((1));

619 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

622 
	$syscÚf
 (
__Çme
è
__THROW
;

624 #ifdef 
__USE_POSIX2


626 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

631 
__pid_t
 
	$g‘pid
 (è
__THROW
;

634 
__pid_t
 
	$g‘µid
 (è
__THROW
;

637 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

640 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

641 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


642 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

649 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

651 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


663 
	$£g½
 (è
__THROW
;

670 
__pid_t
 
	$£tsid
 (è
__THROW
;

672 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


674 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

678 
__uid_t
 
	$g‘uid
 (è
__THROW
;

681 
__uid_t
 
	$g‘euid
 (è
__THROW
;

684 
__gid_t
 
	$g‘gid
 (è
__THROW
;

687 
__gid_t
 
	$g‘egid
 (è
__THROW
;

692 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

694 #ifdef 
__USE_GNU


696 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

703 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

705 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


708 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

711 #ifdeà
__USE_XOPEN2K


713 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

720 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

722 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


725 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

728 #ifdeà
__USE_XOPEN2K


730 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

733 #ifdeà
__USE_GNU


736 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

737 
__THROW
;

741 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

742 
__THROW
;

746 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

747 
__THROW
 
__wur
;

751 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

752 
__THROW
 
__wur
;

759 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

761 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

762 || 
defšed
 
__USE_MISC


767 
__pid_t
 
	$vfÜk
 (è
__THROW
;

773 *
	$‰yÇme
 (
__fd
è
__THROW
;

777 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

778 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

782 
	$i§‰y
 (
__fd
è
__THROW
;

784 #ià
defšed
 
__USE_MISC
 \

785 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_UNIX98
)

788 
	$‰y¦Ù
 (è
__THROW
;

793 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

794 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

796 #ifdeà
__USE_ATFILE


799 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

800 cÚ¡ *
__to
, 
__æags
)

801 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

804 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


806 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

807 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

812 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

813 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

814 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

817 #ifdeà
__USE_ATFILE


819 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

820 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

823 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

824 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

825 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

829 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

831 #ifdeà
__USE_ATFILE


833 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

834 
__THROW
 
	`__nÚnuÎ
 ((2));

838 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

842 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

845 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

852 *
	`g‘logš
 ();

853 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


860 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

863 #ifdef 
__USE_MISC


865 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

869 #ifdef 
__USE_POSIX2


873 
	#__Ãed_g‘İt


	)

874 
	~<g‘İt.h
>

878 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


882 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

886 #ià
defšed
 
__USE_MISC


889 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

890 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

894 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

900 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

901 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

902 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

903 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

909 
	$vhªgup
 (è
__THROW
;

912 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

920 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

921 
size_t
 
__off£t
, 
__sÿË
)

922 
__THROW
 
	`__nÚnuÎ
 ((1));

928 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

932 *
	$g‘u£rsh–l
 (è
__THROW
;

933 
	$’du£rsh–l
 (è
__THROW
;

934 
	$£tu£rsh–l
 (è
__THROW
;

940 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

944 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

947 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

951 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

959 
	`fsync
 (
__fd
);

962 #ifdeà
__USE_GNU


965 
	$syncfs
 (
__fd
è
__THROW
;

969 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


972 
	`g‘ho¡id
 ();

975 
	$sync
 (è
__THROW
;

978 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


981 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

986 
	$g‘dbËsize
 (è
__THROW
;

992 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


995 #iâdeà
__USE_FILE_OFFSET64


996 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

997 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

999 #ifdeà
__REDIRECT_NTH


1000 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

1001 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1002 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1004 
	#Œunÿ‹
 
Œunÿ‹64


	)

1007 #ifdeà
__USE_LARGEFILE64


1008 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1009 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1014 #ià
defšed
 
__USE_POSIX199309
 \

1015 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1018 #iâdeà
__USE_FILE_OFFSET64


1019 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1021 #ifdeà
__REDIRECT_NTH


1022 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1023 
árunÿ‹64
è
__wur
;

1025 
	#árunÿ‹
 
árunÿ‹64


	)

1028 #ifdeà
__USE_LARGEFILE64


1029 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1035 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1036 || 
defšed
 
__USE_MISC


1040 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1046 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1050 #ifdeà
__USE_MISC


1061 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1066 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1078 
	#F_ULOCK
 0

	)

1079 
	#F_LOCK
 1

	)

1080 
	#F_TLOCK
 2

	)

1081 
	#F_TEST
 3

	)

1083 #iâdeà
__USE_FILE_OFFSET64


1084 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1086 #ifdeà
__REDIRECT


1087 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1088 
lockf64
è
__wur
;

1090 
	#lockf
 
lockf64


	)

1093 #ifdeà
__USE_LARGEFILE64


1094 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1099 #ifdeà
__USE_GNU


1104 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1105 (
__ex‹nsiÚ__
 \

1106 ({ 
__»suÉ
; \

1107 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1108 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1109 
__»suÉ
; 
	}
}))

	)

1112 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1115 
fd©async
 (
__fdes
);

1121 #ifdef 
__USE_XOPEN


1123 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1124 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1128 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1129 
__THROW
 
	`__nÚnuÎ
 ((1));

1136 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1137 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1143 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1145 *
	$ù”mid
 (*
__s
è
__THROW
;

1150 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1151 
	~<b™s/uni¡d.h
>

1154 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_MISC
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

74 
	#htŞe64
(
x
è(x)

	)

75 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

76 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #undeà
__USE_ISOC11


98 #undeà
__USE_ISOC99


99 #undeà
__USE_ISOC95


100 #undeà
__USE_ISOCXX11


101 #undeà
__USE_POSIX


102 #undeà
__USE_POSIX2


103 #undeà
__USE_POSIX199309


104 #undeà
__USE_POSIX199506


105 #undeà
__USE_XOPEN


106 #undeà
__USE_XOPEN_EXTENDED


107 #undeà
__USE_UNIX98


108 #undeà
__USE_XOPEN2K


109 #undeà
__USE_XOPEN2KXSI


110 #undeà
__USE_XOPEN2K8


111 #undeà
__USE_XOPEN2K8XSI


112 #undeà
__USE_LARGEFILE


113 #undeà
__USE_LARGEFILE64


114 #undeà
__USE_FILE_OFFSET64


115 #undeà
__USE_MISC


116 #undeà
__USE_ATFILE


117 #undeà
__USE_GNU


118 #undeà
__USE_REENTRANT


119 #undeà
__USE_FORTIFY_LEVEL


120 #undeà
__KERNEL_STRICT_NAMES


124 #iâdeà
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

146 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

147 && !
defšed
 
	g_DEFAULT_SOURCE


152 #undeà
_DEFAULT_SOURCE


153 
	#_DEFAULT_SOURCE
 1

	)

157 #ifdeà
_GNU_SOURCE


158 #undeà
_ISOC95_SOURCE


159 
	#_ISOC95_SOURCE
 1

	)

160 #undeà
_ISOC99_SOURCE


161 
	#_ISOC99_SOURCE
 1

	)

162 #undeà
_ISOC11_SOURCE


163 
	#_ISOC11_SOURCE
 1

	)

164 #undeà
_POSIX_SOURCE


165 
	#_POSIX_SOURCE
 1

	)

166 #undeà
_POSIX_C_SOURCE


167 
	#_POSIX_C_SOURCE
 200809L

	)

168 #undeà
_XOPEN_SOURCE


169 
	#_XOPEN_SOURCE
 700

	)

170 #undeà
_XOPEN_SOURCE_EXTENDED


171 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

172 #undeà
_LARGEFILE64_SOURCE


173 
	#_LARGEFILE64_SOURCE
 1

	)

174 #undeà
_DEFAULT_SOURCE


175 
	#_DEFAULT_SOURCE
 1

	)

176 #undeà
_ATFILE_SOURCE


177 
	#_ATFILE_SOURCE
 1

	)

182 #ià(
defšed
 
_DEFAULT_SOURCE
 \

183 || (!
defšed
 
	g__STRICT_ANSI__
 \

184 && !
defšed
 
	g_ISOC99_SOURCE
 \

185 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

186 && !
defšed
 
	g_XOPEN_SOURCE
))

187 #undeà
_DEFAULT_SOURCE


188 
	#_DEFAULT_SOURCE
 1

	)

192 #ià(
defšed
 
_ISOC11_SOURCE
 \

193 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

194 
	#__USE_ISOC11
 1

	)

198 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

199 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

200 
	#__USE_ISOC99
 1

	)

204 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

205 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

206 
	#__USE_ISOC95
 1

	)

213 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

214 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

215 
	#__USE_ISOCXX11
 1

	)

221 #ifdeà
_DEFAULT_SOURCE


222 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


223 
	#__USE_POSIX_IMPLICITLY
 1

	)

225 #undeà
_POSIX_SOURCE


226 
	#_POSIX_SOURCE
 1

	)

227 #undeà
_POSIX_C_SOURCE


228 
	#_POSIX_C_SOURCE
 200809L

	)

230 #ià((!
defšed
 
__STRICT_ANSI__
 \

231 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

232 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

233 
	#_POSIX_SOURCE
 1

	)

234 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

235 
	#_POSIX_C_SOURCE
 2

	)

236 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

237 
	#_POSIX_C_SOURCE
 199506L

	)

238 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

239 
	#_POSIX_C_SOURCE
 200112L

	)

241 
	#_POSIX_C_SOURCE
 200809L

	)

243 
	#__USE_POSIX_IMPLICITLY
 1

	)

246 #ià(
defšed
 
_POSIX_SOURCE
 \

247 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

248 || 
defšed
 
_XOPEN_SOURCE
)

249 
	#__USE_POSIX
 1

	)

252 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


253 
	#__USE_POSIX2
 1

	)

256 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

257 
	#__USE_POSIX199309
 1

	)

260 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

261 
	#__USE_POSIX199506
 1

	)

264 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

265 
	#__USE_XOPEN2K
 1

	)

266 #undeà
__USE_ISOC95


267 
	#__USE_ISOC95
 1

	)

268 #undeà
__USE_ISOC99


269 
	#__USE_ISOC99
 1

	)

272 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

273 
	#__USE_XOPEN2K8
 1

	)

274 #undeà
_ATFILE_SOURCE


275 
	#_ATFILE_SOURCE
 1

	)

278 #ifdef 
_XOPEN_SOURCE


279 
	#__USE_XOPEN
 1

	)

280 #ià(
_XOPEN_SOURCE
 - 0) >= 500

281 
	#__USE_XOPEN_EXTENDED
 1

	)

282 
	#__USE_UNIX98
 1

	)

283 #undeà
_LARGEFILE_SOURCE


284 
	#_LARGEFILE_SOURCE
 1

	)

285 #ià(
_XOPEN_SOURCE
 - 0) >= 600

286 #ià(
_XOPEN_SOURCE
 - 0) >= 700

287 
	#__USE_XOPEN2K8
 1

	)

288 
	#__USE_XOPEN2K8XSI
 1

	)

290 
	#__USE_XOPEN2K
 1

	)

291 
	#__USE_XOPEN2KXSI
 1

	)

292 #undeà
__USE_ISOC95


293 
	#__USE_ISOC95
 1

	)

294 #undeà
__USE_ISOC99


295 
	#__USE_ISOC99
 1

	)

298 #ifdeà
_XOPEN_SOURCE_EXTENDED


299 
	#__USE_XOPEN_EXTENDED
 1

	)

304 #ifdeà
_LARGEFILE_SOURCE


305 
	#__USE_LARGEFILE
 1

	)

308 #ifdeà
_LARGEFILE64_SOURCE


309 
	#__USE_LARGEFILE64
 1

	)

312 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

313 
	#__USE_FILE_OFFSET64
 1

	)

316 #ià
defšed
 
_DEFAULT_SOURCE


317 
	#__USE_MISC
 1

	)

320 #ifdef 
_ATFILE_SOURCE


321 
	#__USE_ATFILE
 1

	)

324 #ifdef 
_GNU_SOURCE


325 
	#__USE_GNU
 1

	)

328 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


329 
	#__USE_REENTRANT
 1

	)

332 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

333 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

334 #ià
_FORTIFY_SOURCE
 > 1

335 
	#__USE_FORTIFY_LEVEL
 2

	)

337 
	#__USE_FORTIFY_LEVEL
 1

	)

340 
	#__USE_FORTIFY_LEVEL
 0

	)

345 
	~<¡dc-´edef.h
>

353 #undeà
__GNU_LIBRARY__


354 
	#__GNU_LIBRARY__
 6

	)

358 
	#__GLIBC__
 2

	)

359 
	#__GLIBC_MINOR__
 23

	)

361 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

362 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

365 #iâdeà
__ASSEMBLER__


366 #iâdeà
_SYS_CDEFS_H


367 
	~<sys/cdefs.h
>

372 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


373 
	#__USE_LARGEFILE
 1

	)

374 
	#__USE_LARGEFILE64
 1

	)

380 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

381 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

382 && 
defšed
 
	g__ex‹º_šlše


383 
	#__USE_EXTERN_INLINES
 1

	)

391 
	~<gnu/¡ubs.h
>

	@/usr/include/libio.h

28 #iâdeà
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_cÚfig.h
>

33 
	#_IO_åos_t
 
_G_åos_t


	)

34 
	#_IO_åos64_t
 
_G_åos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li¡
 
_G_va_li¡


	)

45 
	#_IO_wšt_t
 
wšt_t


	)

48 
	#__Ãed___va_li¡


	)

49 
	~<¡d¬g.h
>

50 #ifdeà
__GNUC_VA_LIST


51 #undeà
_IO_va_li¡


52 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

55 #iâdeà
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #iâdeà
EOF


62 
	#EOF
 (-1)

	)

64 #iâdeà
NULL


65 #ià
defšed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuÎ
)

	)

69 #ià!
defšed
(
__ılu¥lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifdeà
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifdeà
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifdeà
_IO_MTSAFE_IO


150 
	t_IO_lock_t
;

156 
	s_IO_m¬k”
 {

157 
_IO_m¬k”
 *
	m_Ãxt
;

158 
_IO_FILE
 *
	m_sbuf
;

162 
	m_pos
;

164 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

165 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

166 
	mpublic
:

167 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

168 ~
¡»amm¬k”
();

169 
§všg
(è{  
	m_¥os
 == -2; }

170 
d–
(
¡»amm¬k”
&);

171 
d–
();

176 
	e__codecvt_»suÉ


178 
	m__codecvt_ok
,

179 
	m__codecvt_·¹Ÿl
,

180 
	m__codecvt_”rÜ
,

181 
	m__codecvt_nocÚv


184 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


187 
	s_IO_codecvt


189 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

190 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

191 
	m__mb¡©e_t
 *,

192 cÚ¡ 
	mwch¬_t
 *,

193 cÚ¡ 
	mwch¬_t
 *,

194 cÚ¡ 
	mwch¬_t
 **, *,

196 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

197 
	m__mb¡©e_t
 *, *,

199 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

200 
	m__mb¡©e_t
 *,

202 cÚ¡ **, 
	mwch¬_t
 *,

203 
	mwch¬_t
 *, wchar_t **);

204 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

205 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

206 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

207 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

208 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

210 
_IO_icÚv_t
 
	m__cd_š
;

211 
_IO_icÚv_t
 
	m__cd_out
;

215 
	s_IO_wide_d©a


217 
wch¬_t
 *
	m_IO_»ad_±r
;

218 
wch¬_t
 *
	m_IO_»ad_’d
;

219 
wch¬_t
 *
	m_IO_»ad_ba£
;

220 
wch¬_t
 *
	m_IO_wr™e_ba£
;

221 
wch¬_t
 *
	m_IO_wr™e_±r
;

222 
wch¬_t
 *
	m_IO_wr™e_’d
;

223 
wch¬_t
 *
	m_IO_buf_ba£
;

224 
wch¬_t
 *
	m_IO_buf_’d
;

226 
wch¬_t
 *
	m_IO_§ve_ba£
;

227 
wch¬_t
 *
	m_IO_backup_ba£
;

229 
wch¬_t
 *
	m_IO_§ve_’d
;

231 
__mb¡©e_t
 
	m_IO_¡©e
;

232 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

233 
_IO_codecvt
 
	m_codecvt
;

235 
wch¬_t
 
	m_shÜtbuf
[1];

237 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

241 
	s_IO_FILE
 {

242 
	m_æags
;

243 
	#_IO_fe_æags
 
_æags


	)

247 * 
	m_IO_»ad_±r
;

248 * 
	m_IO_»ad_’d
;

249 * 
	m_IO_»ad_ba£
;

250 * 
	m_IO_wr™e_ba£
;

251 * 
	m_IO_wr™e_±r
;

252 * 
	m_IO_wr™e_’d
;

253 * 
	m_IO_buf_ba£
;

254 * 
	m_IO_buf_’d
;

256 *
	m_IO_§ve_ba£
;

257 *
	m_IO_backup_ba£
;

258 *
	m_IO_§ve_’d
;

260 
_IO_m¬k”
 *
	m_m¬k”s
;

262 
_IO_FILE
 *
	m_chaš
;

264 
	m_f’o
;

266 
	m_blksize
;

268 
	m_æags2
;

270 
_IO_off_t
 
	m_Şd_off£t
;

272 
	#__HAVE_COLUMN


	)

274 
	m_cur_cŞumn
;

275 sigÃd 
	m_vbË_off£t
;

276 
	m_shÜtbuf
[1];

280 
_IO_lock_t
 *
	m_lock
;

281 #ifdeà
_IO_USE_OLD_IO_FILE


284 
	s_IO_FILE_com¶‘e


286 
_IO_FILE
 
	m_fe
;

288 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

289 
_IO_off64_t
 
	m_off£t
;

290 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


292 
_IO_codecvt
 *
	m_codecvt
;

293 
_IO_wide_d©a
 *
	m_wide_d©a
;

294 
_IO_FILE
 *
	m_ä“»s_li¡
;

295 *
	m_ä“»s_buf
;

297 *
	m__·d1
;

298 *
	m__·d2
;

299 *
	m__·d3
;

300 *
	m__·d4
;

302 
size_t
 
	m__·d5
;

303 
	m_mode
;

305 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

309 #iâdeà
__ılu¥lus


310 
_IO_FILE
 
	t_IO_FILE
;

313 
	g_IO_FILE_¶us
;

315 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

316 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

317 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

318 #iâdeà
_LIBC


319 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

320 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

321 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

323 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

324 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

325 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

333 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

341 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

342 
	tsize_t
 
	t__n
);

350 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

353 
	t__io_şo£_â
 (*
	t__cook›
);

356 #ifdeà
_GNU_SOURCE


358 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

359 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

360 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

361 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

366 
__io_»ad_â
 *
	m»ad
;

367 
__io_wr™e_â
 *
	mwr™e
;

368 
__io_£ek_â
 *
	m£ek
;

369 
__io_şo£_â
 *
	mşo£
;

370 } 
	t_IO_cook›_io_funùiÚs_t
;

371 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

373 
	g_IO_cook›_fe
;

376 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

377 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

381 #ifdeà
__ılu¥lus


385 
__und”æow
 (
_IO_FILE
 *);

386 
__uæow
 (
_IO_FILE
 *);

387 
__ov”æow
 (
_IO_FILE
 *, );

388 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


389 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

390 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

391 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

394 #ià 
__GNUC__
 >= 3

395 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

397 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

400 
	#_IO_g‘c_uÆocked
(
_å
) \

401 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

402 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

403 
	#_IO_³ekc_uÆocked
(
_å
) \

404 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

405 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

406 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

407 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

408 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

409 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

410 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

412 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


413 
	#_IO_g‘wc_uÆocked
(
_å
) \

414 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

415 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

416 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

417 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

418 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

419 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

420 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

421 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

422 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

423 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

426 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

427 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

429 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

430 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

431 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

432 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

434 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

437 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

438 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

440 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

441 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

442 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

444 #ifdeà
_IO_MTSAFE_IO


445 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

446 
	#_IO_æockfe
(
_å
) \

447 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

448 
	#_IO_fuÆockfe
(
_å
) \

449 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

451 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

452 
	#_IO_æockfe
(
_å
è

	)

453 
	#_IO_fuÆockfe
(
_å
è

	)

454 
	#_IO_árylockfe
(
_å
è

	)

455 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

456 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

459 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

460 
_IO_va_li¡
, *
__»¡riù
);

461 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

462 
_IO_va_li¡
);

463 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

464 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

466 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

467 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

469 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

471 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


472 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

473 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

474 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

475 #ià
__GNUC__
 >= 2

478 #ià
defšed
 
_LIBC
 && defšed 
SHARED


479 
	~<shlib-com·t.h
>

480 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

481 
	#_IO_fwide_maybe_šcom·tibË
 \

482 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

483 cÚ¡ 
_IO_¡dš_u£d
;

484 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

487 #iâdeà
_IO_fwide_maybe_šcom·tibË


488 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

492 
	#_IO_fwide
(
__å
, 
__mode
) \

493 ({ 
__»suÉ
 = (
__mode
); \

494 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

496 ià((
__å
)->
_mode
 == 0) \

498 (
__å
)->
_mode
 = -1; \

499 
__»suÉ
 = (
__å
)->
_mode
; \

501 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

502 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

504 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

505 
__»suÉ
; })

	)

508 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

509 
_IO_va_li¡
, *
__»¡riù
);

510 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

511 
_IO_va_li¡
);

512 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

513 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

516 #ifdeà
__LDBL_COMPAT


517 
	~<b™s/libio-ldbl.h
>

520 #ifdeà
__ılu¥lus


	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

55 
	#__STDC_ISO_10646__
 201505L

	)

58 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004,

60 
	m__GCONV_TRANSLIT
 = 0x0008

65 
	g__gcÚv_¡•
;

66 
	g__gcÚv_¡•_d©a
;

67 
	g__gcÚv_lßded_objeù
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 
	s__gcÚv_¡•


86 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

87 cÚ¡ *
__modÇme
;

89 
__couÁ”
;

91 *
__äom_Çme
;

92 *
__to_Çme
;

94 
__gcÚv_fù
 
__fù
;

95 
__gcÚv_btowc_fù
 
__btowc_fù
;

96 
__gcÚv_š™_fù
 
__š™_fù
;

97 
__gcÚv_’d_fù
 
__’d_fù
;

101 
__mš_Ãeded_äom
;

102 
__max_Ãeded_äom
;

103 
__mš_Ãeded_to
;

104 
__max_Ãeded_to
;

107 
__¡©eful
;

109 *
__d©a
;

114 
	s__gcÚv_¡•_d©a


116 *
__outbuf
;

117 *
__outbuãnd
;

121 
__æags
;

125 
__švoÿtiÚ_couÁ”
;

129 
__š‹º®_u£
;

131 
__mb¡©e_t
 *
__¡©•
;

132 
__mb¡©e_t
 
__¡©e
;

138 
	s__gcÚv_šfo


140 
size_t
 
__n¡•s
;

141 
__gcÚv_¡•
 *
__¡•s
;

142 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

143 } *
	t__gcÚv_t
;

146 
	`__gcÚv_Œª¦™”©e
 (
__gcÚv_¡•
 *
¡•
,

147 
__gcÚv_¡•_d©a
 *
¡•_d©a
,

148 cÚ¡ *
šbuf¡¬t
,

149 cÚ¡ **
šbuå
,

150 cÚ¡ *
šbuãnd
,

151 **
outbuf¡¬t
,

152 
size_t
 *
œ»v”sibË
);

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

149 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

152 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

153 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

154 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

157 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

158 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

159 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

161 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

162 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

163 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

166 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

167 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

169 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

170 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

171 
__END_NAMESPACE_STD


173 #ifdeà
__USE_XOPEN2K8


175 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

178 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

179 
size_t
 
__n
è
__THROW
;

183 
	~<xloÿË.h
>

185 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
__loÿË_t
 
__loc
è
__THROW
;

188 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

189 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

192 
__BEGIN_NAMESPACE_STD


195 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

199 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

200 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

201 
__END_NAMESPACE_STD


203 #ifdeà
__USE_XOPEN2K8


209 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

210 
__loÿË_t
 
__loc
è
__THROW
;

215 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

216 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

219 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

222 
__BEGIN_NAMESPACE_STD


224 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


225 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

226 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

230 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

231 
__THROW
 
__©Œibu‹_pu»__
;

234 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


235 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

236 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

240 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

241 
__THROW
 
__©Œibu‹_pu»__
;

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_GNU


248 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

249 
__THROW
 
__©Œibu‹_pu»__
;

252 
__BEGIN_NAMESPACE_STD


255 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

256 
__THROW
 
__©Œibu‹_pu»__
;

259 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

260 
__THROW
 
__©Œibu‹_pu»__
;

262 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


263 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

265 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

266 cÚ¡ 
wch¬_t
 *
__acû±
)

267 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

269 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

270 
__THROW
 
__©Œibu‹_pu»__
;

273 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


274 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

276 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

277 cÚ¡ 
wch¬_t
 *
__ÃedË
)

278 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

280 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

281 
__THROW
 
__©Œibu‹_pu»__
;

285 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

286 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

287 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

290 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

291 
__END_NAMESPACE_STD


293 #ifdeà
__USE_XOPEN


295 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


296 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

298 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

299 cÚ¡ 
wch¬_t
 *
__ÃedË
)

300 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

302 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

303 
__THROW
 
__©Œibu‹_pu»__
;

307 #ifdeà
__USE_XOPEN2K8


309 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

310 
__THROW
 
__©Œibu‹_pu»__
;

314 
__BEGIN_NAMESPACE_STD


316 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


317 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

319 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

320 
size_t
 
__n
)

321 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

323 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

324 
__THROW
 
__©Œibu‹_pu»__
;

328 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

329 
__THROW
 
__©Œibu‹_pu»__
;

332 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

333 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

337 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

338 
__THROW
;

341 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

342 
__END_NAMESPACE_STD


344 #ifdeà
__USE_GNU


347 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

348 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

349 
__THROW
;

353 
__BEGIN_NAMESPACE_STD


356 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

360 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

364 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

368 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

369 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

370 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

373 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

374 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

377 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

378 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

379 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

380 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

381 
__END_NAMESPACE_STD


383 #ifdeà
__USE_EXTERN_INLINES


389 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

390 
__ex‹º_šlše
 
wšt_t


391 
	`__NTH
 (
	$btowc
 (
__c
))

392 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

393 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

395 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

396 
__ex‹º_šlše
 

397 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

398 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

399 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

401 
__ex‹º_šlše
 
size_t


402 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

403 
mb¡©e_t
 *
__»¡riù
 
__ps
))

404 {  (
__ps
 !ğ
NULL


405 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

408 
__BEGIN_NAMESPACE_STD


411 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

412 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

413 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

418 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

419 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

420 
__END_NAMESPACE_STD


423 #ifdef 
__USE_XOPEN2K8


426 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

427 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

428 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

432 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

433 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

434 
size_t
 
__nwc
, size_ˆ
__Ën
,

435 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

440 #ifdeà
__USE_XOPEN


442 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

446 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

450 
__BEGIN_NAMESPACE_STD


453 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

454 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

455 
__END_NAMESPACE_STD


457 #ifdeà
__USE_ISOC99


458 
__BEGIN_NAMESPACE_C99


460 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

461 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

462 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

463 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

464 
__END_NAMESPACE_C99


468 
__BEGIN_NAMESPACE_STD


471 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

472 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

476 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

477 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

478 
__THROW
;

479 
__END_NAMESPACE_STD


481 #ifdeà
__USE_ISOC99


482 
__BEGIN_NAMESPACE_C99


485 
__ex‹nsiÚ__


486 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

487 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

488 
__THROW
;

492 
__ex‹nsiÚ__


493 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

494 
wch¬_t
 **
__»¡riù
 
__’d±r
,

495 
__ba£
è
__THROW
;

496 
__END_NAMESPACE_C99


499 #ifdeà
__USE_GNU


502 
__ex‹nsiÚ__


503 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

504 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

505 
__THROW
;

509 
__ex‹nsiÚ__


510 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

511 
wch¬_t
 **
__»¡riù
 
__’d±r
,

512 
__ba£
è
__THROW
;

515 #ifdeà
__USE_GNU


529 
	~<xloÿË.h
>

533 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

534 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

535 
__loÿË_t
 
__loc
è
__THROW
;

537 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

538 
wch¬_t
 **
__»¡riù
 
__’d±r
,

539 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

541 
__ex‹nsiÚ__


542 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

543 
wch¬_t
 **
__»¡riù
 
__’d±r
,

544 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

546 
__ex‹nsiÚ__


547 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

548 
wch¬_t
 **
__»¡riù
 
__’d±r
,

549 
__ba£
, 
__loÿË_t
 
__loc
)

550 
__THROW
;

552 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

553 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

554 
__THROW
;

556 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

557 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

558 
__THROW
;

560 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

561 
wch¬_t
 **
__»¡riù
 
__’d±r
,

562 
__loÿË_t
 
__loc
è
__THROW
;

566 #ifdeà
__USE_XOPEN2K8


569 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

570 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

574 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

575 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

576 
__THROW
;

583 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

586 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


587 
__BEGIN_NAMESPACE_STD


590 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

597 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

598 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

607 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

608 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

609 
__THROW
 ;

615 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

616 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

617 
__gnuc_va_li¡
 
__¬g
)

623 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

624 
__gnuc_va_li¡
 
__¬g
)

628 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

629 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

630 
__gnuc_va_li¡
 
__¬g
)

631 
__THROW
 ;

638 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

639 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

648 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

649 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

650 
__THROW
 ;

652 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

653 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

654 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

655 #ifdeà
__REDIRECT


659 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

660 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_fwsÿnf
)

663 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

664 
__isoc99_wsÿnf
)

666 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

667 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

668 ...), 
__isoc99_swsÿnf
)

671 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

673 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

674 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

675 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

676 
__THROW
;

677 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

678 
	#wsÿnf
 
__isoc99_wsÿnf


	)

679 
	#swsÿnf
 
__isoc99_swsÿnf


	)

683 
__END_NAMESPACE_STD


686 #ifdeà
__USE_ISOC99


687 
__BEGIN_NAMESPACE_C99


692 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

693 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

694 
__gnuc_va_li¡
 
__¬g
)

700 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

701 
__gnuc_va_li¡
 
__¬g
)

704 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

705 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

706 
__gnuc_va_li¡
 
__¬g
)

707 
__THROW
 ;

709 #ià!
defšed
 
__USE_GNU
 \

710 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

711 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

712 #ifdeà
__REDIRECT


713 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

714 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

717 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

718 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

720 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

721 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

722 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

725 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

726 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

727 
__gnuc_va_li¡
 
__¬g
);

728 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
);

730 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

731 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

732 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

733 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

734 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

735 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

739 
__END_NAMESPACE_C99


743 
__BEGIN_NAMESPACE_STD


748 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

749 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

755 
wšt_t
 
	`g‘wch¬
 ();

762 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

763 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

769 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

777 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

778 
__FILE
 *
__»¡riù
 
__¡»am
);

784 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

785 
__FILE
 *
__»¡riù
 
__¡»am
);

792 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

793 
__END_NAMESPACE_STD


796 #ifdeà
__USE_GNU


804 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

805 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

813 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

821 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

830 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

831 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

840 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

841 
__FILE
 *
__»¡riù
 
__¡»am
);

849 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

850 
__FILE
 *
__»¡riù
 
__¡»am
);

854 
__BEGIN_NAMESPACE_C99


858 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

859 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

860 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

861 
__END_NAMESPACE_C99


863 #ifdeà
__USE_GNU


864 
	~<xloÿË.h
>

868 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

869 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

870 cÚ¡ 
tm
 *
__»¡riù
 
__
,

871 
__loÿË_t
 
__loc
è
__THROW
;

880 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


881 
	#__Ãed_iswxxx


	)

882 
	~<wùy³.h
>

886 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


887 
	~<b™s/wch¬2.h
>

890 #ifdeà
__LDBL_COMPAT


891 
	~<b™s/wch¬-ldbl.h
>

894 
__END_DECLS


902 #undeà
__Ãed_mb¡©e_t


903 #undeà
__Ãed_wšt_t


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@
1
.
1
/usr/include
50
833
ast_transform.c
ast_transform.h
constraints.c
constraints.h
constraints_isl.c
constraints_polylib.c
constraints_polylib.h
ddg.c
ddg.h
framework.c
iss.c
libpluto.c
libpluto_dummy.c
main.c
math_support.c
math_support.h
pluto.c
pluto.h
pluto_codegen_if.c
polyloop.c
post_transform.c
post_transform.h
program.c
program.h
test_libpluto.c
tile.c
transforms.c
transforms.h
unit_tests.c
version.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/getopt.h
/usr/include/libgen.h
/usr/include/limits.h
/usr/include/math.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/libio.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/stdc-predef.h
/usr/include/gconv.h
/usr/include/wchar.h
/usr/include/wctype.h
